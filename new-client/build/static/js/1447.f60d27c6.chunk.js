"use strict";(self.webpackChunkhajk_client=self.webpackChunkhajk_client||[]).push([[1447,4711,2189,8428,1960,1674],{15717:function(e,n,t){t.r(n);var r=t(93433),o=t(1413),i=t(15671),a=t(43144),c=t(60136),l=t(29388),u=t(72791),s=t(45629),d=t(47327),h=t(80184),m=function(e){(0,c.Z)(t,e);var n=(0,l.Z)(t);function t(){var e;(0,i.Z)(this,t);for(var a=arguments.length,c=new Array(a),l=0;l<a;l++)c[l]=arguments[l];return(e=n.call.apply(n,[this].concat(c))).getMenuItemType=function(n,t){return(0,h.jsx)(d.default,(0,o.Z)((0,o.Z)({},e.props),{},{type:t,menu:n.menu,icon:n.icon,id:n.id,level:n.level,color:n.color,title:n.title,itemRef:n.itemRef,subMenuItems:e.getSubMenuItems(n),expanded:n.expandedSubMenu,colored:n.colored,selected:n.selected,chosenForPrint:n.chosenForPrint,handleTogglePrint:e.props.handleTogglePrint}))},e.getSubMenuItems=function(n){return n.menuItemIds.reduce((function(n,t){var o=Object.values(e.props.documentMenu).find((function(e){return e.id===t}));return o.menuItemIds.length>0&&(n=[].concat((0,r.Z)(n),(0,r.Z)(e.getSubMenuItems(o)))),[].concat((0,r.Z)(n),[o])}),[])},e.renderMenuItem=function(n,t){return n.menuItemIds&&n.menuItemIds.length>0?e.getMenuItemType(n,"submenu"):n.document?e.getMenuItemType(n,"document"):n.link?e.getMenuItemType(n,"link"):n.maplink?e.getMenuItemType(n,"maplink"):void 0},e}return(0,a.Z)(t,[{key:"render",value:function(){var e=this,n=this.props,t=n.documentMenu,r=n.level;return(0,h.jsx)(s.Z,{sx:{width:"100%"},disablePadding:!0,children:Object.values(t).filter((function(e){return e.level===r})).map((function(n){return(0,h.jsx)(u.Fragment,{children:e.renderMenuItem(n,n.id)},n.id)}))})}}]),t}(u.Component);n.default=m},47327:function(e,n,t){t.r(n);var r=t(1413),o=t(15671),i=t(43144),a=t(97326),c=t(60136),l=t(29388),u=t(66274),s=t(99359),d=t(72791),h=t(76863),m=t(95573),p=t(9933),f=t(65514),g=t(35110),v=t(4346),Z=t(45473),P=t(74244),b=t(22885),y=t(81131),I=t(15717),x=t(80184),j=(0,h.ZP)(f.Z)((function(e){return{minWidth:e.theme.spacing(3)}})),C=(0,h.ZP)(f.Z)((function(e){return{".MuiListItemIcon-root":{minWidth:e.theme.spacing(4)}}})),k=(0,h.ZP)(g.ZP)((function(e){var n=e.theme;return{overflowWrap:"break-word",".MuiListItem-root":{borderLeft:"".concat(n.spacing(1)," solid ").concat(n.palette.background.paper),"&.Mui-selected":{borderLeftColor:n.palette.action.selected},"&.Mui-selected:hover":{borderLeftColor:n.palette.action.selected},"&:hover":{borderColor:n.palette.action.hover}}}})),M=(0,s.Z)("getListTitle"),S=(0,s.Z)("getCollapseIcon"),T=(0,s.Z)("hasSubMenu"),w=(0,s.Z)("handleMenuButtonClick"),F=(0,s.Z)("getMenuItemStyle"),L=function(e){(0,c.Z)(t,e);var n=(0,l.Z)(t);function t(){var e;(0,o.Z)(this,t);for(var r=arguments.length,i=new Array(r),c=0;c<r;c++)i[c]=arguments[c];return e=n.call.apply(n,[this].concat(i)),Object.defineProperty((0,a.Z)(e),M,{writable:!0,value:function(){var n=e.props.title;return(0,x.jsx)(v.Z,{children:n})}}),Object.defineProperty((0,a.Z)(e),S,{writable:!0,value:function(){var n=e.props,t=n.title;return n.expanded?(0,x.jsxs)(C,{children:[!t&&(0,x.jsx)("span",{style:m.Z,children:"Minimera submeny"}),(0,x.jsx)(b.Z,{})]}):(0,x.jsxs)(C,{children:[!t&&(0,x.jsx)("span",{style:m.Z,children:"Maximera submeny"}),(0,x.jsx)(y.Z,{})]})}}),Object.defineProperty((0,a.Z)(e),T,{writable:!0,value:function(){var n=e.props.subMenuItems;return n&&n.length>0}}),Object.defineProperty((0,a.Z)(e),w,{writable:!0,value:function(n,t){e.props.localObserver.publish("print-".concat(n,"-clicked"),t)}}),Object.defineProperty((0,a.Z)(e),F,{writable:!0,value:function(){var n=e.props,t=n.theme,r=n.level,o=n.color,i=n.colored,c=(0,u.Z)((0,a.Z)(e),T)[T]();return i?{paddingLeft:t.spacing(1+3*r),borderLeft:"".concat(t.spacing(.5)," solid ").concat(o),paddingRight:c?0:t.spacing(1)}:{paddingLeft:t.spacing(1+3*r),paddingRight:c?0:t.spacing(1)}}}),e}return(0,i.Z)(t,[{key:"render",value:function(){var e=this,n=this.props,t=n.type,o=n.selected,i=n.subMenuItems,a=n.expanded,c=n.level,l=n.title,s=n.id,d=n.chosenForPrint,h=(0,u.Z)(this,T)[T]();return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)(k,{divider:!0,selected:o,button:!0,ref:this.props.itemRef,size:"small",disableGutters:!0,"aria-controls":h?"submenu_".concat(s):null,"aria-expanded":a,onClick:function(){(0,u.Z)(e,w)[w](t,s)},sx:(0,u.Z)(this,F)[F](),children:[(0,x.jsx)(j,{children:(0,x.jsx)(Z.Z,{color:"primary",checked:d,onChange:function(n){e.props.handleTogglePrint(e.props.id)},onClick:function(e){return e.stopPropagation()},edge:"start",tabIndex:-1,disableRipple:!0})}),l&&(0,u.Z)(this,M)[M](),h&&(0,u.Z)(this,S)[S]()]}),h&&(0,x.jsx)(P.Z,{id:"submenu_".concat(s),in:a,timeout:200,children:(0,x.jsx)(I.default,(0,r.Z)((0,r.Z)({},this.props),{},{level:c+1,documentMenu:i,handleTogglePrint:this.props.handleTogglePrint}))})]})}}]),t}(d.PureComponent);n.default=(0,p.b)(L)},1447:function(e,n,t){t.r(n);var r=t(37762),o=t(93433),i=t(4942),a=t(1413),c=t(15671),l=t(43144),u=t(97326),s=t(60136),d=t(29388),h=t(66274),m=t(99359),p=t(72791),f=t(1250),g=t(54164),v=t(98246),Z=t(76863),P=t(11640),b=t(57012),y=t(45953),I=t(60788),x=t(91888),j=t(40464),C=t(8440),k=t(39571),M=t(61091),S=t(4565),T=t(72900),w=t(45473),F=t(67394),L=t(48456),A=t(38283),D=t(15717),O=t(18428),E=t(54711),N=t(21960),B=t(80184),R=(0,Z.ZP)(y.ZP)((function(e){return{padding:e.theme.spacing(4),height:"100%"}})),H=(0,Z.ZP)(y.ZP)((function(e){return{overflowX:"auto",flexBasis:"100%",marginTop:e.theme.spacing(2)}})),W=(0,Z.ZP)(y.ZP)((function(e){return{marginBottom:e.theme.spacing(2)}})),z=(0,Z.ZP)(y.ZP)((function(e){return{marginBottom:e.theme.spacing(2)}})),q=(0,Z.ZP)(y.ZP)((function(e){e.theme;return{flexBasis:"10%"}})),U=.7;function _(e){var n=e.callback,t=e.children;return(0,p.useEffect)((function(){return n()})),(0,B.jsx)("div",{children:t})}var G=(0,m.Z)("handleSubMenuClicked"),V=(0,m.Z)("setItemStateProperties"),J=(0,m.Z)("setClickedItemProperties"),K=(0,m.Z)("setNonClickedItemProperties"),X=function(e){(0,s.Z)(t,e);var n=(0,d.Z)(t);function t(){var e,l,s,d;(0,c.Z)(this,t);for(var m=arguments.length,p=new Array(m),v=0;v<m;v++)p[v]=arguments[v];return(d=n.call.apply(n,[this].concat(p))).state={printLinks:!0,printText:!0,printImages:!0,printMaps:!1,allDocumentsToggled:!1,tocPrintMode:null!==(e=null===(l=d.props.options)||void 0===l||null===(s=l.tableOfContents)||void 0===s?void 0:s.printMode)&&void 0!==e?e:"none",menuInformation:d.createMenu(),printContent:void 0,pdfLoading:!1,isAnyDocumentSelected:!1},d.internalId=0,Object.defineProperty((0,u.Z)(d),G,{writable:!0,value:function(e){(0,h.Z)((0,u.Z)(d),V)[V](e)}}),Object.defineProperty((0,u.Z)(d),V,{writable:!0,value:function(e){return new Promise((function(n){var t=(0,a.Z)({},d.state.menuInformation),r=t[e],o=Object.values(t).reduce((function(n,o){return o.id===e?(0,a.Z)((0,a.Z)({},n),{},(0,i.Z)({},o.id,(0,h.Z)((0,u.Z)(d),J)[J](o))):(0,a.Z)((0,a.Z)({},n),{},(0,i.Z)({},o.id,(0,h.Z)((0,u.Z)(d),K)[K](o,t,r)))}),{});d.setState({menuInformation:o},n)}))}}),Object.defineProperty((0,u.Z)(d),J,{writable:!0,value:function(e){var n=(0,a.Z)({},e);return(0,a.Z)((0,a.Z)({},e),{},{selected:!n.hasSubMenu,expandedSubMenu:n.hasSubMenu?!n.expandedSubMenu:n.expandedSubMenu})}}),Object.defineProperty((0,u.Z)(d),K,{writable:!0,value:function(e,n,t){return(0,a.Z)((0,a.Z)({},e),{},{expandedSubMenu:-1!==t.allParents.indexOf(e.id)||e.expandedSubMenu,selected:!!t.hasSubMenu&&e.selected})}}),d.componentDidMount=function(){d.props.localObserver.subscribe("chapter-components-appended",(function(e){d.setState({printContent:e},(function(){d.printContents()}))})),d.props.localObserver.subscribe("print-submenu-clicked",(function(e){(0,h.Z)((0,u.Z)(d),G)[G](e)}))},d.componentWillUnmount=function(){d.props.localObserver.unsubscribe("chapter-components-appended")},d.resizeImage=function(e){e.height=e.getBoundingClientRect().height*U,e.width=e.clientWidth*U},d.imageFitsOnePage=function(e){return e.getBoundingClientRect().height<855},d.loadImage=function(e){return new Promise((function(n,t){e.onload=function(){d.imageFitsOnePage(e)||d.resizeImage(e),n(e)},e.onerror=function(){return t(e)}}))},d.customRender=function(e,n){var t=(0,A.deepMerge)(d.props.customTheme||d.props.theme,{});return new Promise((function(r){(0,f.s)(n).render((0,B.jsx)(P.Z,{children:(0,B.jsx)(b.Z,{theme:t,children:(0,B.jsx)(_,{callback:function(){r()},children:e})})}))}))},d.createPrintElement=function(e){var n=document.createElement("div");return n.id=e,n},d.renderToc=function(){return d.toc=d.createPrintElement("toc"),d.customRender((0,B.jsx)(O.default,{documentMenuState:d.state.menuInformation,allDocuments:d.props.model.allDocuments,mode:d.state.tocPrintMode}),d.toc)},d.renderContent=function(){return d.content=d.createPrintElement("content"),d.customRender(d.state.printContent,d.content)},d.areAllImagesLoaded=function(){return Promise.allSettled((0,o.Z)(d.content.getElementsByTagName("img")).map((function(e){return d.loadImage(e)})))},d.handleNewWindowBlocked=function(){return window.alert("Please allow opening of popup windows in order to print this document."),d.setState({pdfLoading:!1,printContent:void 0,printMaps:!1}),null},d.createPrintWindow=function(){var e=window.open("","PRINT");return null===e?d.handleNewWindowBlocked():(e.document.head.insertAdjacentHTML("beforeend"," <title>".concat(document.title,"</title>\n        <style>\n          @page {\n            size: A4;\n            margin: 25mm 25mm 25mm 25mm;\n          }\n          @media print {\n            html,\n            body {\n              height: 297mm;\n              width: 210mm;\n            }\n            h1,\n            h2,\n            h3,\n            h4,\n            h5,\n            h6 {\n              page-break-after: avoid;\n            }\n            .MuiTypography-body1 {\n              page-break-before: avoid;\n            }\n            .MuiBox-root {\n              page-break-inside: avoid;\n            }\n          }        \n        </style>")),e)},d.clearPrintContainers=function(){d.toc=null,d.content=null},d.handlePrintCompleted=function(){d.toggleAllDocuments(!1),d.setState({pdfLoading:!1,printContent:void 0,menuInformation:d.createMenu()})},d.addPageBreaksBeforeHeadings=function(e){for(var n=e.querySelectorAll(["h1","h2"]),t=!1,r=!1,o=0;o<n.length;o++)"H1"===n[o].nodeName&&t&&(r=!0),"H1"===n[o].nodeName&&(t=!0),"H1"!==n[o].nodeName||"none"===d.state.tocPrintMode||r||(n[o].style.pageBreakBefore="always",n[o].style.breakBefore="none"),0===o||"H2"!==n[o].nodeName||t||(n[o].style.pageBreakBefore="always",n[o].style.breakBefore="none"),"H1"!==n[o].nodeName&&(t=!1)},d.printContents=function(){Promise.all(["none"!==d.state.tocPrintMode&&d.renderToc(),d.renderContent()]).then((function(){d.areAllImagesLoaded().then((function(){var e=document.createElement("div");d.toc&&e.appendChild(d.toc),e.appendChild(d.content),d.addPageBreaksBeforeHeadings(e);var n,t=d.createPrintWindow(),o=(0,r.Z)(document.querySelectorAll("[data-emotion]"));try{for(o.s();!(n=o.n()).done;){var i=n.value,a=document.createElement("style");a.appendChild(document.createTextNode(""));var c=i.textContent,l=i.sheet;if(c)a.appendChild(document.createTextNode(c)),t.document.head.appendChild(a);else{t.document.head.appendChild(a);var u,s=(0,r.Z)(l.cssRules);try{for(s.s();!(u=s.n()).done;){var h=u.value;try{a.sheet.insertRule(h.cssText)}catch(m){console.warn("Could not insert rule: ".concat(null===h||void 0===h?void 0:h.cssText))}}}catch(p){s.e(p)}finally{s.f()}}}}catch(p){o.e(p)}finally{o.f()}t.document.body.appendChild(e),t.print(),t.close(),d.handlePrintCompleted()}))}))},d.handleCheckboxChange=function(e){var n=d.props.model,t=(0,o.Z)(d.state.chapterInformation),r=n.getChapterById(t,e.id);r.chosenForPrint=!r.chosenForPrint,d.toggleSubChapters(r,r.chosenForPrint),d.setState({chapterInformation:t,allDocumentsToggled:!1})},d.toggleChosenForPrint=function(e){var n=(0,a.Z)({},d.state.menuInformation),t=!n[e].chosenForPrint,r=(0,a.Z)((0,a.Z)({},n[e]),{},{chosenForPrint:!n[e].chosenForPrint});n[e]=r;var o=d.toggleSubDocuments(e,t,n);n[e].parentId&&t&&(o=d.toggleParentChecked(e,o)),n[e].parentId&&!t&&(o=d.toggleParentUnchecked(e,o)),d.setState({menuInformation:o},(function(){d.setIsAnyDocumentSelected()}))},d.toggleAllDocuments=function(e){var n=(0,a.Z)({},d.state.menuInformation);Object.keys(n).forEach((function(t){var r=(0,a.Z)((0,a.Z)({},n[t]),{},{chosenForPrint:e});n[t]=r})),d.setState({allDocumentsToggled:e,menuInformation:n,isAnyDocumentSelected:e})},d.removeTagsNotSelectedForPrint=function(e){var n=d.state,t=n.printImages,r=n.printText,o=n.printLinks,i=[],a=document.createElement("div");a.innerHTML=e.html,o||Array.from(a.getElementsByTagName("a")).forEach((function(e){i.push(e)})),t||Array.from(a.getElementsByTagName("figure")).forEach((function(e){i.push(e)})),r||(Array.from(a.querySelectorAll("p, h1, h2, h3, h4, h5, h6")).forEach((function(e){i.push(e)})),e.header="");for(var c=a.querySelectorAll("[data-document]"),l=0;l<c.length;l++)c[l].setAttribute("printMode","true"),c[l].href="#";for(var u=0;u<i.length;u++)i[u].parentNode.removeChild(i[u]);return e.html=a.innerHTML,e},d.prepareChapterForPrint=function(e){return e.chapters&&e.chapters.length>0&&e.chapters.forEach((function(e){if(e.chapters&&e.chapters.length>0)return d.prepareChapterForPrint(e);e=d.removeTagsNotSelectedForPrint(e)})),e=d.removeTagsNotSelectedForPrint(e)},d.setIsAnyDocumentSelected=function(){for(var e=Object.keys(d.state.menuInformation),n=!1,t=0;t<e.length;t++)d.state.menuInformation[e[t]].chosenForPrint&&(n=!0);d.setState({isAnyDocumentSelected:n})},d.createHeaderItems=function(e){return{isGroupHeader:!0,title:e.title,id:e.id}},d.getDocumentsToPrint=function(){var e=d.state.menuInformation,n=Object.keys(e).filter((function(n){return e[n].chosenForPrint})),t=n.map((function(n){return e[n].document})),r=d.props.model.getDocuments(t).map((function(n){if(n){var t=Object.keys(e).find((function(t){return e[t].document===n.documentFileName}));return{documentFileName:n.documentFileName,tableOfContents:n.tableOfContents,chapters:e[t].chapters}}})).map((function(t,r){return void 0===t?d.createHeaderItems(e[n[r]]):t})),o=[];return r.forEach((function(e){var n;if(null!==e&&void 0!==e&&null!==(n=e.chapters)&&void 0!==n&&n.length){var t=[];null===e||void 0===e||e.chapters.forEach((function(e){t.push(d.prepareChapterForPrint(e))})),e.chapters=t}o.push(e)})),o},d.createPDF=function(){d.setState({pdfLoading:!0});var e=d.getDocumentsToPrint();d.props.localObserver.publish("append-document-components",e)},d.renderLoadingDialog=function(){return(0,B.jsx)(B.Fragment,{children:(0,g.createPortal)((0,B.jsxs)(I.Z,{disableEscapeKeyDown:!0,open:d.state.pdfLoading,children:[(0,B.jsx)(x.Z,{}),(0,B.jsx)(j.Z,{children:"Din PDF skapas"}),(0,B.jsx)(C.Z,{children:(0,B.jsxs)(k.Z,{children:["Det h\xe4r kan ta en stund, speciellt om du har valt att skriva ut m\xe5nga dokument.",(0,B.jsx)("br",{}),(0,B.jsx)("br",{})]})})]}),document.getElementById("root"))})},d}return(0,l.Z)(t,[{key:"setInitialMenuItemProperties",value:function(e){var n=this;(0,N.hasSubMenu)(e)&&(e.hasSubMenu=!0,e.menu.forEach((function(t){n.setInitialMenuItemProperties(t,e)})))}},{key:"removeNonPrintableDocuments",value:function(e){var n=[];Object.keys(e).forEach((function(t){(e[t].maplink.trim()||e[t].link.trim())&&(n.push(parseInt(t)),delete e[t])})),Object.keys(e).forEach((function(t){var r=e[t],o=r.allChildren.filter((function(e){return!n.includes(e)}));r.allChildren=o;var i=r.menuItemIds.filter((function(e){return!n.includes(e)}));r.menuItemIds=i}))}},{key:"createMenu",value:function(){var e=this.props.options,n=this.props.model.allDocuments,t=(0,a.Z)({},e),r=(0,a.Z)({},t).menuConfig,o=JSON.parse(JSON.stringify(r)),i=(0,E.getNormalizedMenuState)(o.menu),c=this.props.model.getAllChapterInfo(),l=Object.keys(i),u=l.length+1;l.forEach((function(e){var t=i[e],r=t.allChildren.map((function(e){return e+u})),o=t.allParents.map((function(e){return e+u})),a=t.menuItemIds.map((function(e){return e+u}));if(t.id+=u,t.parentId=t.parentId?t.parentId+=u:null,t.allChildren=r,t.allParents=o,t.menuItemIds=a,t.chosenForPrint=!1,t.colored=!0,t.document){var l,s=n.find((function(e){return e.documentFileName===t.document}));t.tocChapterLevels=(null===s||void 0===s||null===(l=s.tableOfContents)||void 0===l?void 0:l.chapterLevelsToShow)||100}t.document&&(t.chapters=[],c.filter((function(e){return e.documentFileName===t.document})).forEach((function(e){return t.chapters.push(e)})))}));var s={};return l.forEach((function(e){var n=parseInt(e)+u;s[n]=i[e]})),this.removeNonPrintableDocuments(s),s}},{key:"toggleSubDocuments",value:function(e,n,t){var r=this;return t[e].allChildren.forEach((function(e){var o=(0,a.Z)((0,a.Z)({},t[e]),{},{chosenForPrint:n});t[e]=o,r.toggleSubDocuments(e,n,t)})),t}},{key:"toggleParentChecked",value:function(e,n){var t=n[e].parentId,r=(0,a.Z)((0,a.Z)({},n[t]),{},{chosenForPrint:!0});return n[t]=r,n[t].parentId&&(n=this.toggleParentChecked(t,n)),n}},{key:"toggleParentUnchecked",value:function(e,n){var t=n[e].parentId;if(n[t].allChildren.filter((function(t){return!(t.id===e||!n[t].chosenForPrint)})).length>0)return n;var r=(0,a.Z)((0,a.Z)({},n[t]),{},{chosenForPrint:!1});return n[t]=r,n[t].parentId&&(n=this.toggleParentUnchecked(t,n)),n}},{key:"renderCreatePDFButton",value:function(){return(0,B.jsx)(q,{item:!0,container:!0,alignContent:"center",alignItems:"center",justifyContent:"center",children:(0,B.jsx)(M.Z,{color:"primary",variant:"contained",disabled:this.state.pdfLoading||!this.state.isAnyDocumentSelected,startIcon:(0,B.jsx)(L.Z,{}),onClick:this.createPDF,children:(0,B.jsx)(S.Z,{style:{marginRight:"20px",marginLeft:"20px"},justify:"center",children:"Skriv ut"})})})}},{key:"render",value:function(){var e=this,n=this.props,t=n.togglePrintWindow,r=n.localObserver,o=n.documentWindowMaximized,i=this.state.menuInformation;return(0,B.jsxs)(R,{container:!0,wrap:"nowrap",direction:"column",children:[(0,B.jsxs)(W,{alignItems:"center",item:!0,container:!0,children:[(0,B.jsx)(y.ZP,{item:!0,xs:4,children:(0,B.jsx)(M.Z,{color:"primary",style:{paddingLeft:0},startIcon:(0,B.jsx)(F.Z,{}),onClick:t,children:(0,B.jsx)(S.Z,{justify:"center",children:"Tillbaka"})})}),(0,B.jsx)(y.ZP,{item:!0,xs:4,children:(0,B.jsx)(S.Z,{align:"center",variant:"h6",children:"Skapa PDF"})})]}),(0,B.jsxs)(z,{container:!0,item:!0,children:[(0,B.jsx)(S.Z,{variant:"h6",children:"Inst\xe4llningar"}),(0,B.jsx)(y.ZP,{xs:12,item:!0,children:(0,B.jsx)(T.Z,{value:"V\xe4lj alla dokument",control:(0,B.jsx)(w.Z,{color:"primary",checked:this.state.allDocumentsToggled,onChange:function(){return e.toggleAllDocuments(!e.state.allDocumentsToggled)}}),label:"V\xe4lj alla dokument",labelPlacement:"end"})})]}),(0,B.jsx)(S.Z,{variant:"h6",children:"Valt inneh\xe5ll"}),(0,B.jsx)(H,{item:!0,container:!0,children:(0,B.jsx)(D.default,{localObserver:r,documentMenu:i,level:0,handleTogglePrint:this.toggleChosenForPrint})}),o&&this.renderCreatePDFButton(),this.renderLoadingDialog()]})}}]),t}(p.PureComponent);n.default=(0,v.RM)(X)},18428:function(e,n,t){t.r(n);var r=t(1413),o=t(15671),i=t(43144),a=t(60136),c=t(29388),l=t(72791),u=t(9933),s=t(35110),d=t(4346),h=t(45629),m=t(4565),p=t(45953),f=t(80184),g=function(e){(0,a.Z)(t,e);var n=(0,c.Z)(t);function t(e){var r;return(0,o.Z)(this,t),(r=n.call(this,e)).state={titlesAndLevels:[]},r.componentDidMount=function(){var e=r.props,n=e.documentMenuState,t=e.allDocuments,o=e.mode,i=r.createTocStructure(n,t,o);Object.keys(i).forEach((function(e){r.setTitlesAndLevels(i[e],o)})),r.setState({titlesAndLevels:r.titlesAndLevels})},r.setTitlesAndLevels=function(e,n){if("partial"!==n||!0===e.chosenForPrint){var t=(null===e||void 0===e?void 0:e.tocChapterLevels)||100,o=0,i=0;e.allParents.length&&(i++,t++,o+=e.allParents.length),e.document||r.titlesAndLevels.push({title:e.title,level:o,chosenForPrint:e.chosenForPrint}),e.chapters&&++i<=t&&e.chapters.forEach((function(e){r.titlesAndLevels.push({title:e.header,level:o}),r.setChapterTitlesAndLevels(e,t,i+1,o+1)}))}},r.setChapterTitlesAndLevels=function(e,n,t,o){e.chapters&&t<=n&&e.chapters.forEach((function(e){r.titlesAndLevels.push({title:e.header,level:o}),r.setChapterTitlesAndLevels(e,n,t+1,o+1)}))},r.titlesAndLevels=[],r.previousGroupHeader=!1,r}return(0,i.Z)(t,[{key:"createTocStructure",value:function(e,n){var t=(0,r.Z)({},e);return Object.keys(t).forEach((function(e){var r=t[e];if(r.document){var o=n.find((function(e){return e.documentFileName===r.document}));t[e].chapters=o.chapters}})),t}},{key:"render",value:function(){var e=this.state.titlesAndLevels;return(0,f.jsxs)(p.ZP,{container:!0,sx:{pageBreakAfter:"always"},children:[(0,f.jsx)(m.Z,{variant:"h4",gutterBottom:!0,children:"Inneh\xe5llsf\xf6rteckning"}),(0,f.jsx)(h.Z,{style:{width:"100%"},disablePadding:!0,children:e.map((function(e,n){return e.chosenForPrint,(0,f.jsx)(s.ZP,{dense:!0,sx:{paddingLeft:1+3*e.level},children:(0,f.jsx)(d.Z,{children:e.title})},n)}))})]})}}]),t}(l.PureComponent);n.default=(0,u.b)(g)},21960:function(e,n,t){t.r(n),t.d(n,{flattenChaptersTree:function(){return l},getStringArray:function(){return a},hasSubMenu:function(){return c},splitAndTrimOnCommas:function(){return i}});var r=t(93433),o=t(1413),i=function(e){return e.split(",").map((function(e){return e.trim()}))},a=function(e){return i(e).join(" ").split(" ")},c=function(e){return e.menu&&e.menu.length>0},l=function e(n){return n.reduce((function(n,t){if(t.header){var i=(0,o.Z)({},t);i.chapters=[],n=[].concat((0,r.Z)(n),[i])}return t.chapters&&t.chapters.length>0?[].concat((0,r.Z)(n),(0,r.Z)(e(t.chapters))):n}),[])}},54711:function(e,n,t){t.r(n),t.d(n,{getNormalizedMenuState:function(){return u}});var r=t(4942),o=t(1413),i=t(93433),a=t(72791),c=t(21960),l=function e(n){return n.reduce((function(n,t){return(0,c.hasSubMenu)(t)&&(n=[].concat((0,i.Z)(n),(0,i.Z)(e(t.menu)))),[].concat((0,i.Z)(n),[t.id])}),[])},u=function e(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],s=n.reduce((function(n,s){return(s=(0,o.Z)((0,o.Z)({},s),{parentId:t,level:c,menuItemIds:[],allChildren:[],allParents:u,itemRef:a.createRef()})).menu&&s.menu.length>0&&(s.allChildren=[].concat((0,i.Z)(s.allChildren),(0,i.Z)(l(s.menu))),s.menuItemIds=[].concat((0,i.Z)(s.menuItemIds),(0,i.Z)(s.menu.map((function(e){return e.id})))),n=(0,o.Z)((0,o.Z)({},n),e(s.menu,s.id,c+1,[].concat((0,i.Z)(u),[s.id])))),(0,o.Z)((0,o.Z)({},n),(0,r.Z)({},s.id,s))}),{});return Object.values(s).forEach((function(e){delete e.menu})),s}}}]);
//# sourceMappingURL=1447.f60d27c6.chunk.js.map