{"version":3,"file":"static/js/4398.3bad34d3.chunk.js","mappings":"iQA4CA,UAhC2B,SAAC,GAQrB,IAPLA,EAOI,EAPJA,KACAC,EAMI,EANJA,cACAC,EAKI,EALJA,YACAC,EAII,EAJJA,UACAC,EAGI,EAHJA,mBACAC,EAEI,EAFJA,OACAC,EACI,EADJA,QAEA,OAAOC,EAAAA,EAAAA,eACL,UAAC,IAAD,CACEP,KAAMA,EACNQ,QAASN,EACTO,YAAa,SAACC,GACZA,EAAEC,iBACH,EALH,WAOE,SAAC,IAAD,UAAcR,KACd,SAAC,IAAD,WACE,SAAC,IAAD,UAAaC,OAEf,UAAC,IAAD,YACE,SAAC,IAAD,CAAQQ,QAASX,EAAjB,SAAiCK,KACjC,SAAC,IAAD,CAAQM,QAASV,EAAaW,QAAQ,YAAtC,SACGR,UAIPS,SAASC,eAAe,OAE3B,C,yGCrCc,SAASC,EAAgBC,GAEtC,MAAwCC,EAAAA,SAAe,CACrDC,qBAAqBC,EAAAA,EAAAA,gBACrBC,qBAAqBC,EAAAA,EAAAA,kBAFvB,eAAOC,EAAP,KAAqBC,EAArB,KAuBA,OAfAN,EAAAA,WAAgB,WACd,IAAMO,EAAiBR,EAAeS,UACpC,2BACA,WACEF,EAAgB,CACdL,qBAAqBC,EAAAA,EAAAA,gBACrBC,qBAAqBC,EAAAA,EAAAA,iBAExB,IAEH,OAAO,WACLG,EAAeE,aAChB,CACF,GAAE,CAACV,IAEGM,CACR,C,oFC7Bc,SAASK,EAAgBC,GAAkB,IAAZC,EAAW,uDAAJ,GAC7CC,EAAWb,EAAAA,QAAa,GAC9BA,EAAAA,WAAgB,WACd,GAAIa,EAASC,QACX,OAAOH,IAEPE,EAASC,SAAU,CAItB,GAAEF,EACJ,C,8GCwBD,UA/BqB,SAACG,GACpB,OACE,SAAC,KAAD,CACEC,WAAS,EACTC,eAC2B,UAAzBF,EAAMG,eAA6B,WAAa,aAHpD,UAME,SAAC,IAAD,CAAOC,UAAW,EAAlB,SACGC,EAAAA,WAAAA,KAAe,SAACC,EAAUC,GACzB,OACE,gBAAiBC,MAAO,CAAEC,QAAS,GAAnC,UACE,SAAC,IAAD,CAASC,oBAAkB,EAACC,MAAOL,EAASM,QAA5C,UACE,SAAC,IAAD,CACEC,GAAI,CAAEC,MAAO,gBACbC,MAAOT,EAASU,GAChBC,SAAUjB,EAAMkB,aAAeZ,EAASU,GACxCG,SAAU,WACRnB,EAAMoB,cAAcd,EAASU,GAC9B,EANH,SAQGV,EAASe,UAVNd,EAeb,OAIR,C,mGCRD,UAxByB,SAACP,GACxB,OACE,SAAC,IAAD,CACEsB,WAAS,EACTN,GAAG,mBACHpC,QAAQ,WACR2C,KAAK,QACLC,QAAM,EACNT,MAAOf,EAAMyB,eACbN,SAAU,SAAC1C,GAAD,OAAOuB,EAAM0B,kBAAkBjD,EAAEkD,OAAOZ,MAAxC,EAPZ,SASGa,EAAAA,WAAAA,KAAe,SAACC,GAAD,OACd,SAAC,IAAD,CAA4Bd,MAAOc,EAAOC,KAA1C,UAEI,SAAC,IAAD,CAASpB,oBAAkB,EAACC,MAAOkB,EAAOjB,QAA1C,UACE,iBAAMJ,MAAO,CAAEuB,MAAO,QAAtB,SAAiCF,EAAOG,WAH/BH,EAAOC,KADR,KAWrB,C,0FC4CD,UA9D0B,SAAC,GAAkC,IAAhCG,EAA+B,EAA/BA,UAAWC,EAAoB,EAApBA,cAGtC,EAA8BjD,EAAAA,SAAe,MAA7C,eAAOkD,EAAP,KAAgBC,EAAhB,KAGMC,EAAuBpD,EAAAA,aAAkB,SAACqD,GAEN,SAApCA,EAAaC,IAAI,gBACnBH,EAAWE,EAEd,GAAE,IAGGE,EAAmBvD,EAAAA,aACvB,SAACwD,GAG+B,IAA1BA,EAAeC,OACjBT,EAAUU,cAAcR,IAExBA,EAAQS,IAAI,YAAaH,GACzBR,EAAUY,4BAEZT,EAAW,KACZ,GACD,CAACH,EAAWE,IAIRW,EAAmB7D,EAAAA,aAAkB,WACzCgD,EAAUU,cAAcR,GACxBC,EAAW,KACZ,GAAE,CAACH,EAAWE,IAUf,OAPAlD,EAAAA,WAAgB,WAEd,OADAiD,EAAczC,UAAU,yBAA0B4C,GAC3C,WACLH,EAAcxC,YAAY,yBAC3B,CACF,GAAE,CAACuC,EAAWC,EAAeG,IAEX,OAAZF,GACH7D,EAAAA,EAAAA,eACE,SAAC,UAAD,CACEyE,QAAS,CACPC,KAAM,GACNC,QAAQ,EACRC,WAAY,YACZC,WAAY,KACZC,UAAW,UAEbrF,KAAkB,OAAZoE,EACN5D,QAASiE,EACTa,QAASP,IAEXjE,SAASC,eAAe,QAE1B,IACL,C,+GChCD,UAjC2B,SAAC,GAAmC,IAAjCqD,EAAgC,EAAhCA,QAASmB,EAAuB,EAAvBA,MAAOrB,EAAgB,EAAhBA,UAC5C,EAA0BhD,EAAAA,SAAe,IAAzC,eAAO0B,EAAP,KAAc4C,EAAd,KAYA,OAVAtE,EAAAA,WAAgB,WACdsE,EAASD,EAAME,gBAAgBrB,GAChC,GAAE,CAACA,EAASmB,IAEbrE,EAAAA,WAAgB,WACdgD,EAAUwB,oBAAoBtB,EAAS,gBAAiBxB,EACzD,GAAE,CAACsB,EAAWE,EAASxB,IAIc,SAA/BwB,EAAQI,IAAI,gBACjB,UAAC,KAAD,CAAMmB,MAAI,EAACC,GAAI,GAAInD,MAAO,CAAEoD,UAAW,IAAvC,WACE,SAAC,KAAD,CAAMF,MAAI,EAACC,GAAI,GAAInD,MAAO,CAAEqD,aAAc,GAA1C,UACE,SAAC,IAAD,CAAYC,MAAM,SAAlB,sBAEF,SAAC,KAAD,CAAMJ,MAAI,EAACC,GAAI,GAAf,UACE,SAAC,IAAD,CAAShD,MAAM,sEAAf,UACE,SAAC,IAAD,CACEW,WAAS,EACTP,MAAOJ,EACPQ,SAAU,SAAC1C,GAAD,OAAO8E,EAAS9E,EAAEkD,OAAOZ,MAAzB,EACVnC,QAAQ,WACR2C,KAAK,iBAKX,IACL,C,4ECpBD,UAVoB,SAAC,GAAc,IAAZyB,EAAW,EAAXA,KACrB,OACE,SAAC,IAAD,CAAOxC,MAAO,CAAEuB,MAAO,OAAQtB,QAAS,GAAxC,UACE,SAAC,IAAD,CAAYqD,MAAM,SAASlF,QAAQ,QAAnC,SACGoE,KAIR,C,iQCIc,SAASe,EAAT,GAIX,IAHF7B,EAGC,EAHDA,cACAD,EAEC,EAFDA,UACAqB,EACC,EADDA,MAIA,EAA0BrE,EAAAA,SAAe,CACvC+E,gBAAiB,GACjBC,uBAAwB,GACxBC,mBAAoB,OAHtB,eAAOC,EAAP,KAAcC,EAAd,KAOMC,EAAapF,EAAAA,aAAkB,WACnCmF,EAAS,CACPJ,gBAAiB,GACjBC,uBAAwB,GACxBC,mBAAoB,MAEvB,GAAE,IAIGI,EAAwBrF,EAAAA,aAAkB,SAAC+E,GAC/CI,GAAS,SAACD,GAAD,eAAC,UAAgBA,GAAjB,IAAwBH,gBAAAA,GAAxB,GACV,GAAE,IAkBG/F,EAAc,WAElBkG,EAAMD,oBACJjC,EAAUU,cAAcwB,EAAMD,oBAEhCG,GACD,EA8CD,OAPApF,EAAAA,WAAgB,WAEd,OADAiD,EAAczC,UAAU,yBAA0B6E,GAC3C,WACLpC,EAAcxC,YAAY,yBAC3B,CACF,GAAE,CAACwC,EAAeoC,KAEZhG,EAAAA,EAAAA,eACL,UAAC,IAAD,CACEP,KAAMoG,EAAMH,gBAAgBtB,OAAS,EACrCnE,QAASN,EAETO,YAAa,SAACC,GACZA,EAAEC,iBACH,EANH,WAQE,SAAC,IAAD,iDACA,SAAC,IAAD,WACE,SAAC,IAAD,CAAMmC,GAAI,CAAEkB,MAAO,OAAQwC,UAAW,QAAtC,SACGJ,EAAMH,gBAAgBQ,KAAI,SAACrC,EAAS5B,GAAV,OACzB,SAAC,KAAD,CACEkE,gBAAc,EAEdC,aAAc,kBAjDD,SAACnE,GAExB,IAAMoE,EAAiBR,EAAMH,gBAAgBzD,GAEvCqE,EAAmBtB,EAAMuB,uBAAuBF,GAEtD1C,EAAU6C,WAAWF,EAAkB,CAAEG,QAAQ,IAEjDX,GAAS,kBACJD,GADG,IAEND,mBAAoBU,IAEvB,CAqC+BI,CAAiBzE,EAAvB,EACd0E,aAAc,WAjCxBd,EAAMD,oBACJjC,EAAUU,cAAcwB,EAAMD,mBAgCR,EAJhB,UAME,UAAC,IAAD,CACEvF,QAAS,kBAtFW,SAACuG,GAEjC,IAAMC,GACoD,IAAxDhB,EAAMF,uBAAuBmB,QAAQF,GACjCf,EAAMF,uBAAuBoB,QAAO,SAACC,GAAD,OAAOA,IAAMJ,CAAb,IADxC,kBAEQf,EAAMF,wBAFd,CAEsCiB,IAExCd,GAAS,SAACD,GAAD,eAAC,UACLA,GADI,IAEPF,uBAAwBkB,GAFjB,GAIV,CA2E4BI,CAA0BhF,EAAhC,EACTiF,OAAK,EAFP,WAIE,SAAC,IAAD,WACE,SAAC,IAAD,CACEC,KAAK,QACLC,SAA0D,IAAjDvB,EAAMF,uBAAuBmB,QAAQ7E,GAC9CoF,UAAW,EACXC,eAAa,OAGjB,SAAC,IAAD,CAAcC,QAAS1D,EAAQ2D,cAhB5BvF,EAHkB,SAyB/B,UAAC,IAAD,YACE,SAAC,IAAD,CACEwF,SAAkD,IAAxC5B,EAAMF,uBAAuBvB,OACvC/D,QAlFc,WACpBwF,EAAMF,uBAAuBO,KAAI,SAACjE,GAChC,OAAO0B,EAAU+D,oBAAoB7B,EAAMH,gBAAgBzD,GAC5D,IACD8D,GACD,EA2EK,iBAMA,SAAC,IAAD,CAAQ1F,QAASV,EAAjB,0BAGJY,SAASC,eAAe,OAE3B,C,oIC/FD,UA9DqB,SAAC,GAA2C,IAAzCf,EAAwC,EAAxCA,KAAMkI,EAAkC,EAAlCA,QAASC,EAAyB,EAAzBA,mBACrC,EAAsCjH,EAAAA,UAAe,GAArD,eAAOkH,EAAP,KAAoBC,EAApB,KAEMC,EAAoBpH,EAAAA,aAAA,iBAAkB,yGAElCqH,EAAYzH,SAASC,eAAe,kBAFF,oCAGvByH,EAHuB,QAKhCC,EAAS,IAAIC,WACnBD,EAAOE,OAAS,WACd,IACER,EAAmBM,EAAOG,OAG3B,CAFC,MAAOC,GACPC,QAAQD,MAAR,4CAAmDA,GACpD,CACF,EACDJ,EAAOM,WAAWP,EAboB,YAGfD,EAAUS,OAHK,ybAgBxCF,QAAQD,MAAR,oDAhBwC,QAoB1CX,GAAQ,GACRG,GAAe,GArB2B,mFAsBzC,CAACH,EAASC,IAEP1D,EAAmBvD,EAAAA,aAAkB,WACzCgH,GAAQ,EACT,GAAE,CAACA,IAEEe,EAAwB/H,EAAAA,aAAkB,SAACR,GAC/C,IAAM6H,EAAYzH,SAASC,eAAe,kBAC1CsH,EAAeE,EAAUS,MAAMrE,OAAS,EACzC,GAAE,IAEH,OAAOpE,EAAAA,EAAAA,eACL,SAAC,UAAD,CACEyE,QAAS,CACPG,WAAY,uBACZC,WAAYgD,EAAc,YAAc,KACxC/C,UAAW,SACXJ,MACE,kBACElB,KAAK,OACLmF,KAAK,UACLC,OAAO,OACPC,UAAQ,EACRnG,GAAG,iBACHG,SAAU6F,IAGdI,8BAA8B,GAEhCrJ,KAAMA,EACNQ,QAAS8H,EACThD,QAASb,IAEX3D,SAASC,eAAe,OAE3B,C,mICXD,UA5CgB,SAACkB,GAEf,IAAQsD,EACNtD,EADMsD,MAAO7B,EACbzB,EADayB,eAAgBC,EAC7B1B,EAD6B0B,kBAAmBQ,EAChDlC,EADgDkC,cAAeD,EAC/DjC,EAD+DiC,UAG3D3B,EAAWgD,EAAM+D,kBAAkBrH,EAAMgB,IAE/C,OACE,UAAC,KAAD,CAAMf,WAAS,EAAf,WACE,SAAC,KAAD,CAAMyD,MAAI,EAACC,GAAI,GAAf,UACE,SAAC,UAAD,CAAaX,KAAM1C,EAASgH,iBAE9B,UAAC,KAAD,CAAM5D,MAAI,EAACC,GAAI,GAAInD,MAAO,CAAEoD,UAAW,IAAvC,WACE,SAAC,KAAD,CAAMF,MAAI,EAACC,GAAI,GAAInD,MAAO,CAAEqD,aAAc,GAA1C,UACE,SAAC,IAAD,CAAYC,MAAM,SAAlB,oBAEF,SAAC,KAAD,CAAMJ,MAAI,EAACC,GAAI,GAAf,UACE,SAAC,UAAD,CACElC,eAAgBA,EAChBC,kBAAmBA,UAIzB,SAAC,UAAD,CACED,eAAgBA,EAChB8F,UAAWvH,EAAMuH,UACjBtF,UAAWjC,EAAMiC,UACjBuF,aAAcxH,EAAMwH,aACpBC,UAAWzH,EAAMyH,UACjBC,aAAc1H,EAAM0H,gBAEtB,SAAC,UAAD,CACExF,cAAelC,EAAMkC,cACrBD,UAAWjC,EAAMiC,aAEnB,SAAC,UAAD,CACEC,cAAeA,EACfD,UAAWA,EACXqB,MAAOA,MAId,C,+KC1CKqE,GAAcC,EAAAA,EAAAA,IAAOC,EAAAA,EAAPD,EAAc,gBAAGE,EAAH,EAAGA,MAAH,MAAgB,CAChD/F,MAAO,OACPtB,QAASqH,EAAMC,QAAQ,GACvBlE,aAAciE,EAAMC,QAAQ,GAC5BC,YAAY,GAAD,OAAKF,EAAMC,QAAQ,IAAnB,kBAAiCD,EAAMG,QAAQC,KAAKC,MAC/DC,WAAW,GAAD,OAAKN,EAAMC,QAAQ,IAAnB,kBAAiCD,EAAMG,QAAQC,KAAKC,MAL9B,IAW5BE,EAA8B,SAAC,GAAwB,IAAtBrJ,EAAqB,EAArBA,eAMrC,OACE,UAAC,KAAD,CAAMiB,WAAS,EAAC8H,QAAS,EAAzB,WACE,SAAC,KAAD,CAAMrE,MAAI,EAACC,GAAI,GAAf,UACE,SAAC,UAAD,CACEX,KAAK,2MAIT,SAAC,KAAD,CAAMU,MAAI,EAACC,GAAI,GAAf,UACE,SAAC,IAAD,CACErC,WAAS,EACT1C,QAAQ,YACRD,QAfgC,WACtCK,EAAesJ,QAAQ,wBACxB,EAUK,yCAUP,EAEKC,EAAqB,SAAC,GAA+B,IAA7BC,EAA4B,EAA5BA,eAAgB7H,EAAY,EAAZA,MAC5C,OACE,SAAC,EAAA8H,EAAD,CAAMC,IAAE,EAACC,QAAM,EAAf,UACE,SAAChB,EAAD,WACE,UAAC,KAAD,CAAM1H,WAAS,EAACC,eAAe,gBAAgB0I,WAAW,SAA1D,WACE,SAAC,IAAD,CAAYhK,QAAQ,SAApB,SAA8B+B,KAC9B,SAAC,IAAD,CACED,oBAAkB,EAClBC,MAAM,kDAFR,UAIE,SAAC,IAAD,CAAYY,KAAK,QAAQ5C,QAAS6J,EAAlC,UACE,SAAC,IAAD,cAOb,EAEKK,EAAsB,SAAC,GAAoC,IAAlCC,EAAiC,EAAjCA,gBAAiB7G,EAAgB,EAAhBA,UAC9C,OAAO6G,EAAgBtE,KAAI,SAACrC,GAC1B,OACE,SAACoG,EAAD,CAEE5H,MAAOwB,EAAQI,IAAI,cACnBiG,eAAgB,kBAAMvG,EAAU6C,WAAW3C,EAA3B,GAFXA,EAAQI,IAAI,cAKtB,GACF,EA+CD,UA7CmB,SAAC,GAOb,IANLvB,EAMI,EANJA,GACAsC,EAKI,EALJA,MACArB,EAII,EAJJA,UACA6G,EAGI,EAHJA,gBACA9J,EAEI,EAFJA,eACAE,EACI,EADJA,oBAGMoB,EAAWgD,EAAM+D,kBAAkBrG,GAEzC,OACE,UAAC,KAAD,CAAMf,WAAS,EAAC8H,QAAS,EAAzB,WACE,SAAC,KAAD,CAAMrE,MAAI,EAACC,GAAI,GAAf,UACE,SAAC,UAAD,CAAaX,KAAM1C,EAASgH,iBAE9B,SAAC,KAAD,CAAM5D,MAAI,EAACC,GAAI,GAAf,UACE,SAAC,IAAD,CACErC,WAAS,EACT1C,QAAQ,YACRD,QAASsD,EAAU8G,oBACnBC,WAAW,SAAC,IAAD,IAJb,uCASF,UAAC,KAAD,CAAM/I,WAAS,EAACyD,MAAI,EAApB,WACE,SAAC,KAAD,CAAMA,MAAI,EAACC,GAAI,GAAf,UACE,SAAC,IAAD,CAAY/E,QAAQ,UAApB,kCAEF,SAAC,KAAD,CAAM8E,MAAI,EAACC,GAAI,GAAf,SACGzE,GACC,SAAC2J,EAAD,CACE5G,UAAWA,EACX6G,gBAAiBA,KAGnB,SAACT,EAAD,CAA6BrJ,eAAgBA,WAMxD,C,yJClHKiK,EAAoB,SAAC,GAAyC,IAAvCC,EAAsC,EAAtCA,cAAeC,EAAuB,EAAvBA,iBAC1C,OACE,SAAC,IAAD,CAAO3I,MAAO,CAAEC,QAAS,EAAGmD,UAAW,GAAvC,UACE,UAAC,KAAD,CAAM3D,WAAS,EAACC,eAAe,gBAAgB0I,WAAW,SAA1D,WACE,SAAC,IAAD,CAAYhK,QAAQ,QAApB,4CACA,SAAC,IAAD,CACE8B,oBAAkB,EAClBC,MACEuI,EACI,sHACA,oEALR,UAQE,SAAC,IAAD,CACExD,QAASwD,EACT/H,SAAU,kBAAMgI,GAAkBD,EAAxB,EACV3H,KAAK,QACLT,MAAM,kBAMjB,EAmED,UAjEiB,SAACd,GAEhB,IAAMM,EAAWN,EAAMsD,MAAM+D,kBAAkBrH,EAAMgB,IACrD,OACE,UAAC,KAAD,CACEf,WAAS,EACTmJ,UAAU,SACVlJ,eAAe,gBACfM,MAAO,CAAE6I,OAAQ,QAJnB,WAME,UAAC,KAAD,CAAMpJ,WAAS,EAAf,WACE,SAAC,KAAD,CAAMyD,MAAI,EAACC,GAAI,GAAf,UACE,SAAC,UAAD,CAAaX,KAAM1C,EAASgH,iBAE9B,SAAC,KAAD,CAAM5D,MAAI,EAACC,GAAI,GAAf,UACE,SAACsF,EAAD,CACEhH,UAAWjC,EAAMiC,UACjBiH,cAAelJ,EAAMkJ,cACrBC,iBAAkBnJ,EAAMmJ,sBAG5B,SAAC,KAAD,CAAMzF,MAAI,EAACC,GAAI,GAAf,SACyB,OAAtB3D,EAAMsJ,aACL,SAAC,IAAD,CAAYxF,MAAM,SAAStD,MAAO,CAAEoD,UAAW,IAA/C,kFAIA,UAAC,KAAD,CAAMF,MAAI,EAACC,GAAI,GAAf,WACE,SAAC,UAAD,CACExB,QAASnC,EAAMsJ,YACfhG,MAAOtD,EAAMsD,MACbrB,UAAWjC,EAAMiC,aAEnB,SAAC,UAAD,CACEE,QAASnC,EAAMsJ,YACfhG,MAAOtD,EAAMsD,MACbrB,UAAWjC,EAAMiC,oBAM1BjC,EAAMsJ,cACL,SAAC,KAAD,CAAMrJ,WAAS,EAACO,MAAO,CAAEoD,UAAW,GAApC,UACE,SAAC,IAAD,CACElD,oBAAkB,EAClBC,MAAM,sDAFR,UAIE,SAAC,IAAD,CACE/B,QAAQ,YACR0C,WAAS,EACT3C,QAAS,WACPqB,EAAMiC,UAAUsH,iBAAiBvJ,EAAMsJ,aACvCtJ,EAAMiC,UAAUuH,+BACjB,EANH,oCAeX,C,sKC3FKC,EAAmB,SAAC,GAA+C,IAA7CC,EAA4C,EAA5CA,iBAAkBC,EAA0B,EAA1BA,oBAC5C,OACE,SAAC,IAAD,CAAOnJ,MAAO,CAAEC,QAAS,EAAGmD,UAAW,GAAvC,UACE,UAAC,KAAD,CAAM3D,WAAS,EAACC,eAAe,gBAAgB0I,WAAW,SAA1D,WACE,SAAC,IAAD,CAAYhK,QAAQ,QAApB,4CACA,SAAC,IAAD,CACE8B,oBAAkB,EAClBC,MACE+I,EACI,8EACA,uEALR,UAQE,SAAC,IAAD,CACEhE,QAASgE,EACTvI,SAAU,kBAAMwI,GAAqBD,EAA3B,EACVnI,KAAK,QACLT,MAAM,kBAMjB,EAEK8I,EAAsB,SAAC5J,GA2C3B,OACE,SAAC,IAAD,CAAOQ,MAAO,CAAEC,QAAS,EAAGmD,UAAW,GAAvC,UACE,UAAC,KAAD,CAAM3D,WAAS,EAACyD,MAAI,EAACxD,eAAe,SAAS0I,WAAW,SAAxD,WACE,SAAC,KAAD,CAAMlF,MAAI,EAACC,GAAI,GAAf,UACE,SAAC,IAAD,CAAY/E,QAAQ,QAAQkF,MAAM,SAAlC,qCAIF,SAAC,KAAD,CAAMJ,MAAI,EAACC,GAAI,GAAInD,MAAO,CAAEoD,UAAW,IAAvC,UACE,SAAC,IAAD,CACElD,oBAAkB,EAClBC,MAAM,mDAFR,UAIE,SAAC,IAAD,CACEqB,MAAM,qCACNpD,QAAQ,WACR0C,WAAS,EACTQ,KAAK,SACLP,KAAK,QACLR,MAAOf,EAAM6J,eACb1I,SA5DuB,SAAC1C,GAClC,IAAMiE,EAASoH,KAAKC,MAAMtL,EAAEkD,OAAOZ,OACnCf,EAAMgK,kBAAkBtH,EACzB,SA6DK,SAAC,KAAD,CAAMgB,MAAI,EAACC,GAAI,GAAInD,MAAO,CAAEoD,UAAW,IAAvC,UACE,SAAC,IAAD,CACElD,oBAAkB,EAClBC,MAAM,wHAFR,UAIE,SAAC,IAAD,CACEqB,MAAM,oCACNpD,QAAQ,WACR0C,WAAS,EACTQ,KAAK,SACLP,KAAK,QACLR,MAAOf,EAAMiK,cACb9I,SArEsB,SAAC1C,GACjC,IAAMyL,EAAQJ,KAAKC,MAAMtL,EAAEkD,OAAOZ,OAC5BoJ,EACJD,GAAS,IAAMA,EAAQ,IAAMA,EAAQ,EAAI,IAAMA,EAAQA,EACzDlK,EAAMoK,iBAAiBD,EACxB,SAoEK,UAAC,KAAD,CAAMlK,WAAS,EAAC8H,QAAS,EAAGvH,MAAO,CAAEoD,UAAW,GAAhD,WACE,SAAC,KAAD,CAAMF,MAAI,EAACC,GAAI,EAAf,UACE,SAAC,IAAD,CACE/E,QAAQ,YACR0C,WAAS,EACTC,KAAK,QACL5C,QArDY,WACtB,IAAM0L,GAAK,OAAOrK,EAAMsK,WACxB,EAA0BD,EAAME,MAAxB7H,EAAR,EAAQA,OAAQwH,EAAhB,EAAgBA,MAChBlK,EAAMiC,UAAUuI,0BAA0B9H,EAAQwH,EAAQ,KAC1DlK,EAAMyK,aAAaJ,EACpB,EAiDWtE,SAAqC,IAA3B/F,EAAMsK,UAAU5H,OAL5B,yBAUF,SAAC,KAAD,CAAMgB,MAAI,EAACC,GAAI,EAAf,UACE,SAAC,IAAD,CACE/E,QAAQ,YACR0C,WAAS,EACTC,KAAK,QACL5C,QAhFY,WAEtB,IAAM+D,EAAS1C,EAAM6J,eACfK,EAAQlK,EAAMiK,cAEpBjK,EAAMiC,UAAUuI,0BACdxK,EAAM6J,eACN7J,EAAMiK,eAGRjK,EAAMyK,aAAN,kBAAuBzK,EAAMsK,WAA7B,CAAwC,CAAE5H,OAAAA,EAAQwH,MAAAA,KACnD,EAiES,6BAaX,EAgDD,UA9CiB,SAAClK,GAEhB,MAA4Cf,EAAAA,SAAe,KAA3D,eAAO4K,EAAP,KAAuBG,EAAvB,KACA,EAA0C/K,EAAAA,SAAe,IAAzD,eAAOgL,EAAP,KAAsBG,EAAtB,KAIA,EAAkCnL,EAAAA,SAAe,IAAjD,eAAOqL,EAAP,KAAkBG,EAAlB,KAEQxI,EACNjC,EADMiC,UAAWyI,EACjB1K,EADiB0K,aAAchB,EAC/B1J,EAD+B0J,iBAAkBC,EACjD3J,EADiD2J,oBAKnD1K,EAAAA,WAAgB,WACdwL,EAAa,GACd,GAAE,CAACC,IAGJ,IAAMpK,EAAWN,EAAMsD,MAAM+D,kBAAkBrH,EAAMgB,IACrD,OACE,UAAC,KAAD,CAAMf,WAAS,EAAf,WACE,SAAC,KAAD,CAAMyD,MAAI,EAACC,GAAI,GAAf,UACE,SAAC,UAAD,CAAaX,KAAM1C,EAASgH,iBAE9B,UAAC,KAAD,CAAM5D,MAAI,EAACC,GAAI,GAAf,WACE,SAAC8F,EAAD,CACEC,iBAAkBA,EAClBC,oBAAqBA,IAEtBe,EAAahI,OAAS,IACrB,SAACkH,EAAD,CACE3H,UAAWA,EACXqI,UAAWA,EACXG,aAAcA,EACdZ,eAAgBA,EAChBG,kBAAmBA,EACnBC,cAAeA,EACfG,iBAAkBA,SAM7B,C,kPC5KKzC,GAAcC,EAAAA,EAAAA,IAAOC,EAAAA,EAAPD,EAAc,gBAAGE,EAAH,EAAGA,MAAH,MAAgB,CAChD/F,MAAO,OACPtB,QAASqH,EAAMC,QAAQ,GACvBlE,aAAciE,EAAMC,QAAQ,GAC5BC,YAAY,GAAD,OAAKF,EAAMC,QAAQ,IAAnB,kBAAiCD,EAAMG,QAAQC,KAAKC,MAC/DC,WAAW,GAAD,OAAKN,EAAMC,QAAQ,IAAnB,kBAAiCD,EAAMG,QAAQC,KAAKC,MAL9B,IAQ5BwC,GAAoB/C,EAAAA,EAAAA,IAAO,MAAPA,EAAc,gBAAGE,EAAH,EAAGA,MAAH,MAAgB,CACtDhH,MAAM,GAAD,OAAKgH,EAAMG,QAAQrB,MAAMuB,MAC9ByC,SAAU,OACVC,cAAe,WACfjH,UAAW,MAJ2B,IAUlCkH,EAAmB,SAAC,GAAwB,IAAtB9L,EAAqB,EAArBA,eAM1B,OACE,UAAC,KAAD,CAAMiB,WAAS,EAAC8H,QAAS,EAAzB,WACE,SAAC,KAAD,CAAMrE,MAAI,EAACC,GAAI,GAAf,UACE,SAAC,UAAD,CACEX,KAAK,iMAIT,SAAC,KAAD,CAAMU,MAAI,EAACC,GAAI,GAAf,UACE,SAAC,IAAD,CACErC,WAAS,EACT1C,QAAQ,YACRD,QAfgC,WACtCK,EAAesJ,QAAQ,wBACxB,EAUK,yCAUP,EAIKyC,EAAc,SAAC/K,GAGnB,MAA4Cf,EAAAA,SAAe,CACzD+L,oBAAqB,GACrBhI,KAAM,IACNiI,MAAM,IAHR,eAAOC,EAAP,KAAuBC,EAAvB,KAMA,EAAsDlM,EAAAA,SAAe,CACnE8G,UAAU,EACVqF,QAAS,6DAFX,eAAOC,EAAP,KAA4BC,EAA5B,KAMQC,GAAoBC,EAAAA,EAAAA,MAApBD,gBAWFE,EAAwB,WAG5B,MAA4BzL,EAAMsD,MAAMoI,0BAA0B,CAChE/K,MAAOX,EAAM2L,aADPC,EAAR,EAAQA,OAAQR,EAAhB,EAAgBA,QAIhBpL,EAAM6L,iBAAiB7L,EAAMsD,MAAMwI,0BACnC9L,EAAM+L,cAAc,IACpBZ,GAAkB,kBAAKD,GAAN,IAAsBlI,KAAM,IAAKiI,MAAM,KAExDM,EAAgBH,EAAS,CACvBxM,QAAoB,WAAXgN,EAAsB,QAAU,WAE5C,EAKKI,EAAkB,WAGtB,IAAIC,EAASjM,EAAMkM,cAAcC,MAC/B,SAACC,GAAD,OAAYA,EAAOzL,MAAM0L,gBAAkBrM,EAAM2L,WAAWU,aAA5D,IAiBF,OAZAlB,GAAkB,kBACbD,GADY,IAEfF,oBACEhL,EAAM2L,WAAWjJ,OAAS,GACtB1C,EAAM2L,WAAWW,UAAU,EAAG,IAAM,MACpCtM,EAAM2L,WACZ3I,KAAMiJ,EAAM,gDAC8Bf,EAAeF,oBAD7C,MAER,IACJC,OAAMgB,KAGDA,CACR,EAkBKM,EAAqB,WAGzB,OAAIvM,EAAM2L,WAAWjJ,OAAS,EACrB4I,GAAuB,kBACzBD,GADwB,IAE3BtF,UAAU,EACVqF,QACE,gFAMFpL,EAAMkM,cAAcxJ,QAAU8J,EAAAA,eAAiBR,IAC1CV,GAAuB,kBACzBD,GADwB,IAE3BtF,UAAU,EACVqF,QACE,6HAINE,GAAuB,kBAClBD,GADiB,IAEpBtF,UAAU,EACVqF,QAAS,6DAEZ,EAED,OACE,UAAC,IAAD,CAAO5K,MAAO,CAAEC,QAAS,GAAzB,WACE,UAAC,KAAD,CAAMR,WAAS,EAAC2I,WAAW,SAAS1I,eAAe,gBAAnD,WACE,SAAC,KAAD,CAAMwD,MAAI,EAACC,GAAI,EAAf,UACE,SAAC,IAAD,CACEjD,oBAAkB,EAClBC,MAAM,8DAFR,UAIE,SAAC,IAAD,CACEY,KAAK,QACL3C,QAAQ,WACR4B,MAAO,CAAEiM,SAAU,QACnBtL,SA7Gc,SAAC1C,GACzBuB,EAAM+L,cAActN,EAAEkD,OAAOZ,OAC7BwL,GACD,EA2GWG,QAlDQ,SAACjO,GACnBuN,EAAgBvN,EAAEkD,OAAOZ,OACzBwL,GACD,EAgDWI,UA1DU,SAAClO,GACP,UAAVA,EAAEmO,MACHvB,EAAoBtF,UAAY0F,GAEpC,EAuDW1K,MAAOf,EAAM2L,kBAInB,SAAC,KAAD,CAAM1L,WAAS,EAACyD,MAAI,EAACC,GAAI,EAAGzD,eAAe,WAA3C,UACE,SAAC,IAAD,CAASQ,oBAAkB,EAACC,MAAO0K,EAAoBD,QAAvD,UACE,2BACE,SAAC,IAAD,CACE7J,KAAK,QACL3C,QAAQ,YACRmH,SAAUsF,EAAoBtF,SAC9BpH,QAAS8M,EAJX,SAMGP,EAAeD,KAAO,YAAW,oBAM5C,SAACN,EAAD,UAAoBO,EAAelI,SAGxC,EAKK6J,EAAc,SAAC,GAId,IAAD,EAHJC,EAGI,EAHJA,WACAC,EAEI,EAFJA,kBACAC,EACI,EADJA,oBAEA,OACE,SAAC,EAAAvE,EAAD,CAAMC,IAAE,EAACC,QAAM,EAAf,UACE,SAAChB,EAAD,WACE,UAAC,KAAD,CAAM1H,WAAS,EAACC,eAAe,gBAAgB0I,WAAW,SAA1D,WACE,UAAC,KAAD,CAAMlF,MAAI,EAACC,GAAI,EAAf,WACE,SAAC,IAAD,CAASjD,oBAAkB,EAACC,MAAOmM,EAAWnM,MAA9C,UACE,SAAC,KAAD,CACE+C,MAAI,EACJC,GAAI,GACJ9C,GAAI,CAAEoM,SAAU,SAAUC,aAAc,YAH1C,UAKE,SAAC,IAAD,CAAYtO,QAAQ,SAASuO,QAAM,EAAnC,SACGL,EAAWnM,aAIlB,SAAC,KAAD,CAAM+C,MAAI,EAACC,GAAI,GAAf,UACE,SAAC,IAAD,CACEjD,oBAAkB,EAClBC,MAAK,yCAAoCmM,EAAWM,MAFtD,UAIE,SAAC,IAAD,CAAYxO,QAAQ,UAApB,yCACkBkO,EAAWM,YAD7B,aACkB,EAAiBC,MAAM,KAAK,cAMpD,UAAC,KAAD,CAAMpN,WAAS,EAACyD,MAAI,EAACC,GAAI,EAAGzD,eAAe,WAA3C,WACE,SAAC,IAAD,CACEQ,oBAAkB,EAClBC,MAAM,uCAFR,UAIE,SAAC,IAAD,CAAYY,KAAK,QAAQ5C,QAASoO,EAAlC,UACE,SAAC,IAAD,SAGJ,SAAC,IAAD,CACErM,oBAAkB,EAClBC,MAAM,yCAFR,UAIE,SAAC,IAAD,CAAYY,KAAK,QAAQ5C,QAASqO,EAAlC,UACE,SAAC,IAAD,iBAQf,EAEKM,EAAkB,SAAC,GAAgD,IAA9ChK,EAA6C,EAA7CA,MAAO4I,EAAsC,EAAtCA,cAAeL,EAAuB,EAAvBA,iBAI/C,EAA4C5M,EAAAA,SAAe,MAA3D,eAAOsO,EAAP,KAAuBC,EAAvB,KAyBA,OACE,UAAC,KAAD,CAAMvN,WAAS,EAAf,WACE,SAAC,KAAD,CAAMyD,MAAI,EAACC,GAAI,GAAf,UACE,SAAC,IAAD,CAAY/E,QAAQ,UAApB,SAC4B,IAAzBsN,EAAcxJ,OACX,oCACA,2BAGR,SAAC,KAAD,CAAMgB,MAAI,EAACC,GAAI,GAAf,SACGuI,EAAc1H,KAAI,SAAC4H,GAClB,OACE,SAACS,EAAD,CAEEC,WAAYV,EACZY,oBAAqB,kBAtCL,SAACZ,GAC3B9I,EAAMmK,eAAerB,EACtB,CAoCsCY,CAAoBZ,EAA1B,EACrBW,kBAAmB,kBAlCL,SAACX,GACzBoB,EAAkBpB,EACnB,CAgCoCW,CAAkBX,EAAxB,GAHdA,EAAOpL,GAMjB,OAEH,SAAC,UAAD,CACEjD,KAAyB,OAAnBwP,EACNrP,UAAW,mBACXC,mBACE,yFAEFC,OAAQ,SACRC,QAAS,SACTL,cA1C2B,WAC/BsF,EAAMoK,wBAAwBH,GAC9B1B,EACEK,EAAc7G,QACZ,SAACsI,GAAD,OAAQrK,EAAMsK,mBAAmBD,EAAEhN,MAAO4M,EAAe5M,MAAzD,KAGJ6M,EAAkB,KACnB,EAmCKvP,YAjCgC,WACpCuP,EAAkB,KACnB,MAmCF,EA2CD,UAzCiB,SAAC,GAAwD,IAAtDxO,EAAqD,EAArDA,eAAgBsE,EAAqC,EAArCA,MAAOtC,EAA8B,EAA9BA,GAAI9B,EAA0B,EAA1BA,oBAG7C,EAAoCD,EAAAA,SAAe,IAAnD,eAAO0M,EAAP,KAAmBI,EAAnB,KAGA,EAA0C9M,EAAAA,SACxCqE,EAAMwI,0BADR,eAAOI,EAAP,KAAsBL,EAAtB,KAIMvL,EAAWgD,EAAM+D,kBAAkBrG,GAIzC,OAAQ9B,GAGN,UAAC,KAAD,CAAMe,WAAS,EAAC8H,QAAS,EAAzB,WACE,SAAC,KAAD,CAAMrE,MAAI,EAACC,GAAI,GAAf,UACE,SAAC,UAAD,CAAaX,KAAM1C,EAASgH,iBAE9B,SAAC,KAAD,CAAM5D,MAAI,EAACC,GAAI,GAAf,UACE,SAACoH,EAAD,CACEzH,MAAOA,EACPqI,WAAYA,EACZI,cAAeA,EACfG,cAAeA,EACfL,iBAAkBA,OAGtB,SAAC,KAAD,CAAMnI,MAAI,EAACC,GAAI,GAAf,UACE,SAAC2J,EAAD,CACEhK,MAAOA,EACP4I,cAAeA,EACfL,iBAAkBA,UAnBxB,SAACf,EAAD,CAAkB9L,eAAgBA,GAwBrC,C,iNC/FD,UApQqB,SAACgB,GAAW,IAAD,IAEtBsD,EAAuDtD,EAAvDsD,MAAOuK,EAAgD7N,EAAhD6N,oBAAqBC,EAA2B9N,EAA3B8N,uBAE5B5O,GAAwBH,EAAAA,EAAAA,SAAgBiB,EAAMhB,gBAA9CE,oBAER,EAAgDD,EAAAA,SAC9CqE,EAAMyK,uBADR,eAAOC,EAAP,KAAyBC,EAAzB,KAeA,OAVAhP,EAAAA,WAAgB,WACdqE,EAAM2K,oBAAoBD,GACtB9O,GACFgP,EAAAA,QAAAA,IAAuBC,EAAAA,aAAvB,kBACKD,EAAAA,QAAAA,IAAuBC,EAAAA,cAD5B,IAEEH,iBAAkBA,IAGvB,GAAE,CAAC1K,EAAO0K,EAAkB9O,KAG3B,UAAC,KAAD,CAAMe,WAAS,EAAf,WACE,SAAC,KAAD,CAAMyD,MAAI,EAACC,GAAI,GAAI9C,GAAI,CAAE+C,UAAW,GAApC,UACE,UAAC,IAAD,CAAawK,UAAU,WAAvB,WACE,SAAC,IAAD,CAAWC,SAAS,EAAOD,UAAU,SAArC,yCAGA,SAAC,IAAD,CACE1N,oBAAkB,EAClBC,MAAK,iBACHkN,EAAoBS,SAAW,KAAO,QADnC,uBAGHT,EAAoBS,SAAW,WAAU,OAHtC,yBAFP,UAQE,SAAC,IAAD,CACEtM,MAAM,2BACNuM,SACE,SAAC,IAAD,CACE7I,QAASmI,EAAoBS,SAC7BnN,SAAU,WACR2M,GAAuB,SAACU,GAAD,eAAC,UACnBA,GADkB,IAErBF,UAAWE,EAASF,UAFC,GAIxB,EACDxN,MAAM,iBAKd,SAAC,IAAD,CACEJ,oBAAkB,EAClBC,MAAK,iBAASqN,EAAmB,KAAO,QAAnC,uBACHA,EAAmB,WAAU,OAD1B,oBAFP,UAME,SAAC,IAAD,CACEhM,MAAM,4BACNuM,SACE,SAAC,IAAD,CACE7I,QAASsI,EACT7M,SAAU,kBAAM8M,GAAoB,SAAChD,GAAD,OAAWA,CAAX,GAA1B,EACVnK,MAAM,sBAOlB,SAAC,KAAD,CAAM4C,MAAI,EAACC,GAAI,GAAf,UACE,UAAC,IAAD,CAAayK,UAAU,WAAvB,WACE,SAAC,IAAD,CAAWC,SAAS,EAAOD,UAAU,SAArC,qCAIA,SAAC,IAAD,CACE1N,oBAAkB,EAClBC,MACGkN,EAAoBS,SAArB,iBAGMT,EAAoBY,SAAW,KAAO,QAH5C,uBAKMZ,EAAoBY,SAAW,WAAU,OAL/C,yBACI,wEAJR,UAYE,SAAC,IAAD,CACEzM,MAAM,YACNuM,SACE,SAAC,IAAD,CACExI,UAAW8H,EAAoBS,SAC/B5I,QAASmI,EAAoBY,SAC7BtN,SAAU,WACR2M,GAAuB,SAACU,GAAD,eAAC,UACnBA,GADkB,IAErBC,UAAWD,EAASC,UAFC,GAIxB,EACD3N,MAAM,iBAKd,SAAC,IAAD,CACEJ,oBAAkB,EAClBC,MACGkN,EAAoBS,SAArB,iBAGMT,EAAoBa,WAAa,KAAO,QAH9C,uBAKMb,EAAoBa,WAAa,WAAU,OALjD,6BACI,kEAJR,UAYE,SAAC,IAAD,CACE1M,MAAM,gBACNuM,SACE,SAAC,IAAD,CACExI,UAAW8H,EAAoBS,SAC/B5I,QAAO,UAAEmI,EAAoBa,kBAAtB,SACPvN,SAAU,WACR2M,GAAuB,SAACU,GAAD,eAAC,UACnBA,GADkB,IAErBE,YAAaF,EAASE,YAFD,GAIxB,EACD5N,MAAM,iBAKd,SAAC,IAAD,CACEJ,oBAAkB,EAClBC,MACGkN,EAAoBS,SAArB,iBAGMT,EAAoBc,cAAgB,KAAO,QAHjD,uBAKMd,EAAoBc,cAAgB,WAAU,OALpD,mCACI,wEAJR,UAYE,SAAC,IAAD,CACE3M,MAAM,qBACNuM,SACE,SAAC,IAAD,CACExI,UAAW8H,EAAoBS,SAC/B5I,QAASmI,EAAoBc,cAC7BxN,SAAU,WACR2M,GAAuB,SAACU,GAAD,eAAC,UACnBA,GADkB,IAErBG,eAAgBH,EAASG,eAFJ,GAIxB,EACD7N,MAAM,iBAKd,SAAC,IAAD,CAASH,MAAM,4CAAf,UACE,UAAC,IAAD,CAAaY,KAAK,QAAQf,MAAO,CAAEoD,UAAW,GAA9C,WACE,SAAC,IAAD,CACEhF,QAAQ,WACRoC,GAAG,4CAFL,iCAMA,SAAC,IAAD,CACEA,GAAG,sCACH4N,QAAQ,4CACR7N,MAAO8M,EAAoBgB,SAC3B7M,MAAM,qBACNpD,QAAQ,WACRuC,SAAU,SAAC1C,GACTqP,GAAuB,SAACU,GAAD,eAAC,UACnBA,GADkB,IAErBK,SAAUpQ,EAAEkD,OAAOZ,OAFE,GAIxB,EAXH,SAaG+N,EAAAA,uBAAAA,KAA2B,SAACC,EAAMxO,GACjC,OACE,SAAC,IAAD,CAAUQ,MAAOgO,EAAKjN,KAAtB,SACGiN,EAAK9H,MADyB1G,EAIpC,YAIP,SAAC,IAAD,CAASI,MAAM,+CAAf,UACE,UAAC,IAAD,CAAaY,KAAK,QAAQf,MAAO,CAAEoD,UAAW,IAA9C,WACE,SAAC,IAAD,CACEhF,QAAQ,WACRoC,GAAG,8CAFL,oCAMA,SAAC,IAAD,CACEA,GAAG,wCACH4N,QAAQ,8CACR7N,MAAO8M,EAAoBmB,WAC3BhN,MAAM,wBACNpD,QAAQ,WACRuC,SAAU,SAAC1C,GACTqP,GAAuB,SAACU,GAAD,eAAC,UACnBA,GADkB,IAErBQ,WAAYvQ,EAAEkD,OAAOZ,OAFA,GAIxB,EAXH,SAaGkO,EAAAA,yBAAAA,KAA6B,SAACF,EAAMxO,GACnC,OACE,SAAC,IAAD,CAAUQ,MAAOgO,EAAKjN,KAAtB,SACGiN,EAAK9H,MADyB1G,EAIpC,YAIP,SAAC,IAAD,CAASI,MAAM,iEAAf,UACE,UAAC,IAAD,CAAaY,KAAK,QAAQf,MAAO,CAAEoD,UAAW,IAA9C,WACE,SAAC,IAAD,CAAYhF,QAAQ,WAAWoC,GAAG,gCAAlC,8BAGA,SAAC,IAAD,CACEA,GAAG,0BACH4N,QAAQ,gCACR7N,MAAK,UAAE8M,EAAoBqB,iBAAtB,QAAmC,EACxClN,MAAM,kBACNpD,QAAQ,WACRuC,SAAU,SAAC1C,GACTqP,GAAuB,SAACU,GAAD,eAAC,UACnBA,GADkB,IAErBU,UAAWC,SAAS1Q,EAAEkD,OAAOZ,QAFR,GAIxB,EAXH,SAaGqO,EAAAA,uBAAAA,KAA2B,SAACF,EAAW3O,GACtC,OACE,SAAC,IAAD,CAAUQ,MAAOmO,EAAUnO,MAA3B,SACGmO,EAAUjI,MAD0B1G,EAI1C,kBAQhB,C,wOCwGD,UA3WmB,SAACP,GAAW,IAAD,IAGtBG,EAAc,oBAAGH,EAAM+C,eAAT,aAAG,EAAesM,gBAAlB,QAA8B,OAE1C/L,EAA+BtD,EAA/BsD,MAAOrB,EAAwBjC,EAAxBiC,UAAWqN,EAAatP,EAAbsP,SAElBpN,EAAkClC,EAAlCkC,cAAelD,EAAmBgB,EAAnBhB,eAEfyC,EAAsCzB,EAAtCyB,eAAgBC,EAAsB1B,EAAtB0B,kBAEhBR,EAA8BlB,EAA9BkB,WAAYE,EAAkBpB,EAAlBoB,cAGpB,GAA2CoK,EAAAA,EAAAA,MAAnC+D,EAAR,EAAQA,cAAehE,EAAvB,EAAuBA,gBAGjBiE,EAAcvQ,EAAAA,OAAa,MAGjC,EAAkCA,EAAAA,SAChCqE,EAAMmM,wBADR,eAAOlI,EAAP,KAAkBC,EAAlB,KAIA,EAAkCvI,EAAAA,SAChCqE,EAAMoM,wBADR,eAAOjI,EAAP,KAAkBC,EAAlB,KAKA,EAA8CzI,EAAAA,SAC5CqE,EAAMqM,iCADR,eAAO7G,EAAP,KAAwB8G,EAAxB,KAMA,EAA0C3Q,EAAAA,SAAe,IAAzD,eAAO4Q,EAAP,KAAsBC,EAAtB,KAEQ5Q,GAAwBH,EAAAA,EAAAA,SAAgBC,GAAxCE,oBAIF6Q,EAAqB9Q,EAAAA,aAAkB,WAC3C,IAAM+Q,EAAuBH,EAAcxK,QAAO,SAACkB,GACjD,OAAO+I,EAASW,4BAA4B1J,EAAKvF,GAClD,IACD8O,EAAiBE,EAClB,GAAE,CAACV,EAAUO,IAGRK,EAAuBjR,EAAAA,aAC3B,SAACkD,GAGMjD,GAMAoE,EAAM6M,8BAA8BhO,KAIzCmB,EAAM8M,gBAAgBjO,GAGtBmB,EAAM+M,oBAAoBlO,GAE1ByN,EACE,CAACzN,GAAD,eAAa2G,IAAiBwH,MAAM,EAAGC,EAAAA,uBAKzCR,IACD,GACD,CAACzM,EAAOwF,EAAiB5J,EAAqB6Q,IAI1CS,GAAwBvR,EAAAA,aAC5B,SAACwR,GAGC,GAAKvR,EAAL,CAKA,IARY,EAQNwR,EAAsBD,EACzBpL,QAAO,SAACsL,GAAD,OAA2B,IAApBA,EAAEpO,IAAI,SAAb,IACP+N,MAAM,EAAGC,EAAAA,sBAVA,UAYUG,GAZV,IAYZ,2BAA2C,CAAC,IAAjCvO,EAAgC,QAEzCmB,EAAM8M,gBAAgBjO,GAGtBmB,EAAM+M,oBAAoBlO,EAC3B,CAlBW,+BAsBZ,IAAMyO,EAAwB,kBACzBF,IADyB,OAEzB5H,IACHwH,MAAM,EAAGC,EAAAA,sBAEXX,EAAmBgB,GAInBb,GA1BC,CA2BF,GACD,CAACzM,EAAOwF,EAAiB5J,EAAqB6Q,IAK1Cc,GAAqB5R,EAAAA,aACzB,SAACkD,GAGC,IAAM2O,EAAY3O,EAAQI,IAAI,cAC1BuO,IAGFlB,EACE9G,EAAgBzD,QAAO,SAACsL,GAAD,OAAOA,EAAEpO,IAAI,gBAAkBuO,CAA/B,KAGzBxN,EAAMyN,yBAAyBD,GAElC,GACD,CAACxN,EAAOwF,IAKJkI,GAAwB/R,EAAAA,aAC5B,YAAa,IAAV+B,EAAS,EAATA,GACD8O,GAAiB,SAAC/I,GAAD,wBACZA,GADY,CAEf,CACE/F,GAAAA,EACAL,MAAO2C,EAAM2N,kBAAkB,CAC7BC,KAAM,UACNC,OAAQ,UACRC,OAAQ,YAEVC,QAAQ,EACRC,WAAW,IAVE,GAalB,GACD,CAAChO,IAKHrE,EAAAA,WAAgB,WACd,OAAOgD,EAAUsP,qBAAqBhK,EACvC,GAAE,CAACtF,EAAWsF,IAIftI,EAAAA,WAAgB,WACd,OAAOgD,EAAUuP,qBAAqB/J,EACvC,GAAE,CAACxF,EAAWwF,IAIfxI,EAAAA,WAAgB,WACdC,GAAuBoE,EAAMmO,2BAA2BlK,EACzD,GAAE,CAACA,EAAWrI,EAAqBoE,IAIpCrE,EAAAA,WAAgB,WACdC,GAAuBoE,EAAMoO,2BAA2BjK,EACzD,GAAE,CAACA,EAAWvI,EAAqBoE,KAMpC3D,EAAAA,EAAAA,UAAgB,WAEd,IAAMgS,EAAarO,EAAMsO,mBAAmB1Q,EAAYO,GASxD,OAPIkQ,IACFnC,EAAYzP,QAAUwL,EAAgBoG,EAAY,CAChD/S,QAAS,UACTiT,aAAc,CAAEC,SAAU,SAAUC,WAAY,aAI7C,WACLxC,EAAcC,EAAYzP,QAC3B,CACF,GAAE,CAACmB,EAAYO,EAAgB8J,EAAiBgE,IAGjDtQ,EAAAA,WAAgB,WAMd,OAJAiD,EAAczC,UAAU,2BAA4ByQ,GACpDhO,EAAczC,UAAU,4BAA6B+Q,IACrDtO,EAAczC,UAAU,yBAA0BoR,IAClD3O,EAAczC,UAAU,wBAAyBuR,IAC1C,WACL9O,EAAcxC,YAAY,4BAC1BwC,EAAcxC,YAAY,6BAC1BwC,EAAcxC,YAAY,0BAC1BwC,EAAcxC,YAAY,wBAC3B,CACF,GAAE,CACDwB,EACAgB,EACAgO,EACAM,GACAK,GACAG,KAKF,IAAMgB,GAAoB,WAExB,OAAQ9Q,GACN,IAAK,MACH,OACE,SAAC,UAAD,CACEF,GAAIE,EACJoC,MAAOA,EACPpB,cAAeA,EACfD,UAAWA,EACXR,eAAgBA,EAChBC,kBAAmBA,EACnB6F,UAAWA,EACXC,aAAcA,EACdC,UAAWA,EACXC,aAAcA,IAGpB,IAAK,SACH,OACE,SAAC,UAAD,CACE1G,GAAIE,EACJoC,MAAOA,EACPrB,UAAWA,EACX6G,gBAAiBA,EACjB9J,eAAgBA,EAChBE,oBAAqBA,IAG3B,IAAK,OACH,OACE,SAAC,UAAD,CACE8B,GAAIE,EACJoC,MAAOA,EACPrB,UAAWA,EACXqH,YAAatJ,EAAMsJ,YACnBJ,cAAelJ,EAAMkJ,cACrBC,iBAAkBnJ,EAAMmJ,mBAG9B,IAAK,OACH,OACE,SAAC,UAAD,CACEnI,GAAIE,EACJoC,MAAOA,EACPrB,UAAWA,EACXyH,iBAAkB1J,EAAM0J,iBACxBC,oBAAqB3J,EAAM2J,oBAC3Be,aAAc1K,EAAM0K,eAG1B,IAAK,OACH,OACE,SAAC,UAAD,CACE1J,GAAIE,EACJoC,MAAOA,EACPrB,UAAWA,EACXjD,eAAgBA,EAChBE,oBAAqBA,IAG3B,IAAK,SACH,OACE,SAAC,UAAD,CACE8B,GAAIE,EACJoC,MAAOA,EACPrB,UAAWA,EACXqN,SAAUA,EACVO,cAAeA,EACfC,iBAAkBA,IAGxB,IAAK,WACH,OACE,SAAC,UAAD,CACE9O,GAAIE,EACJoC,MAAOA,EACPpE,oBAAqBA,EACrB2O,oBAAqB7N,EAAM6N,oBAC3BC,uBAAwB9N,EAAM8N,uBAC9B9O,eAAgBA,IAGtB,QACE,OAAO,KAEZ,EA8CD,MAA0B,SAAnBmB,GAvCH,UAAC,KAAD,CAAMF,WAAS,EAAf,WACE,SAAC,KAAD,CAAMyD,MAAI,EAACC,GAAI,EAAGnD,MAAO,CAAEyR,YAAaC,EAAAA,eAAxC,UACE,SAAC,UAAD,CACE/R,eAAgBA,EAChBe,WAAYA,EACZE,cAAeA,OAGnB,SAAC,KAAD,CAAMsC,MAAI,EAACC,GAAI,EAAf,SACGqO,WAWL,UAAC,KAAD,CAAM/R,WAAS,EAACC,eAAe,WAA/B,WACE,SAAC,KAAD,CAAMwD,MAAI,EAACC,GAAI,EAAf,SACGqO,QAEH,SAAC,KAAD,CAAMtO,MAAI,EAACC,GAAI,EAAGnD,MAAO,CAAE2R,aAAcD,EAAAA,eAAzC,UACE,SAAC,UAAD,CACE/R,eAAgBA,EAChBe,WAAYA,EACZE,cAAeA,QAc1B,C,iRC/WKuG,GAAcC,EAAAA,EAAAA,IAAOC,EAAAA,EAAPD,EAAc,gBAAGE,EAAH,EAAGA,MAAH,MAAgB,CAChD/F,MAAO,OACPtB,QAASqH,EAAMC,QAAQ,GACvBlE,aAAciE,EAAMC,QAAQ,GAC5BC,YAAY,GAAD,OAAKF,EAAMC,QAAQ,IAAnB,kBAAiCD,EAAMG,QAAQC,KAAKC,MAC/DC,WAAW,GAAD,OAAKN,EAAMC,QAAQ,IAAnB,kBAAiCD,EAAMG,QAAQC,KAAKC,MAL9B,IAQ5BiK,EAAc,SAAC,GAAiC,IAA/B9C,EAA8B,EAA9BA,SAAU+C,EAAoB,EAApBA,cAC/B,OACE,UAAC,KAAD,CAAMpS,WAAS,EAAC8H,QAAS,EAAzB,WACE,SAAC,KAAD,CAAMrE,MAAI,EAACC,GAAI,GAAf,UACE,SAAC,IAAD,CACEjD,oBAAkB,EAClBC,MAAM,6FAFR,UAIE,SAAC,IAAD,CACEW,WAAS,EACT1C,QAAQ,YACRD,QAAS,kBAAM0T,GAAc,EAApB,EACTrJ,WAAW,SAAC,IAAD,IAJb,sCAUJ,SAAC,KAAD,CAAMtF,MAAI,EAACC,GAAI,GAAf,UACE,SAAC,IAAD,CACEjD,oBAAkB,EAClBC,MAAM,+DAFR,UAIE,SAAC,IAAD,CACEW,WAAS,EACT1C,QAAQ,YACRD,QAAS,kBAAM2Q,EAASgD,QAAf,EACTtJ,WAAW,SAAC,IAAD,IAJb,uCAYT,EAEKuJ,EAAe,SAACvS,GACpB,OACE,SAAC,EAAAyI,EAAD,CAAMC,IAAE,EAACC,QAAM,EAAf,UACE,SAAChB,EAAD,WACE,UAAC,KAAD,CAAM1H,WAAS,EAACC,eAAe,gBAAgB0I,WAAW,SAA1D,WACE,SAAC,KAAD,CAAMlF,MAAI,EAACC,GAAI,EAAf,UACE,SAAC,IAAD,CAAY/E,QAAQ,SAApB,SAA8BoB,EAAMW,WAEtC,UAAC,KAAD,CAAMV,WAAS,EAACyD,MAAI,EAACC,GAAI,EAAGzD,eAAe,WAAW6H,QAAS,EAA/D,WACE,SAAC,KAAD,CAAMrE,MAAI,EAAV,UACE,SAAC,IAAD,CACEhD,oBAAkB,EAClBC,MAAM,qDAFR,UAIE,SAAC,IAAD,CAAYY,KAAK,QAAQ5C,QAASqB,EAAMwS,cAAxC,UACE,SAAC,IAAD,WAIN,SAAC,KAAD,CAAM9O,MAAI,EAAV,UACE,SAAC,IAAD,CACEhD,oBAAkB,EAClBC,MAAK,4BACHX,EAAMqR,OAAS,OAAS,WADrB,qBAEQrR,EAAMqR,OAAS,IAAM,UAF7B,YAFP,UAME,SAAC,IAAD,CACE9P,KAAK,QACL5C,QAASqB,EAAMyS,wBAFjB,SAIGzS,EAAMqR,QAAS,SAAC,IAAD,KAAqB,SAAC,IAAD,WAI3C,SAAC,KAAD,CAAM3N,MAAI,EAAV,UACE,SAAC,IAAD,CACEhD,oBAAkB,EAClBC,MAAK,mCACHX,EAAMsR,UAAY,WAAU,OADzB,yBAFP,UAME,SAAC,IAAD,CAAY/P,KAAK,QAAQ5C,QAASqB,EAAM0S,sBAAxC,SACG1S,EAAMsR,WACL,SAAC,IAAD,KAEA,SAAC,IAAD,mBAUnB,EAEKqB,EAAmB,SAAC3S,GACxB,OACE,UAAC,KAAD,CAAMC,WAAS,EAACO,MAAO,CAAE+D,UAAW,IAAKqO,UAAW,QAApD,WACE,SAAC,KAAD,CAAMlP,MAAI,EAACC,GAAI,GAAf,UACE,SAAC,IAAD,CAAY/E,QAAQ,UAApB,iCAEF,SAAC,KAAD,CAAM8E,MAAI,EAACC,GAAI,GAAf,SACG3D,EAAM6P,cAAcrL,KAAI,SAAC+B,GACxB,OACE,SAACgM,EAAD,CAEE5R,MAAO4F,EAAK5F,MACZ0Q,OAAQ9K,EAAK8K,OACbC,UAAW/K,EAAK+K,UAChBmB,wBAAyB,kBACvBzS,EAAMyS,wBAAwBlM,EAAKvF,GADZ,EAGzBwR,cAAe,kBAAMxS,EAAMwS,cAAcjM,EAAKvF,GAA/B,EACf0R,sBAAuB,kBAAM1S,EAAM0S,sBAAsBnM,EAAKvF,GAAvC,GARlBuF,EAAKvF,GAWf,QAIR,EAyFD,UAvFmB,SAAChB,GAElB,MAAoCf,EAAAA,UAAe,GAAnD,eAAO4T,EAAP,KAAmBR,EAAnB,KAyDM/R,EAAWN,EAAMsD,MAAM+D,kBAAkBrH,EAAMgB,IACrD,OACE,UAAC,KAAD,CAAMf,WAAS,EAAC8H,QAAS,EAAzB,WACE,SAAC,KAAD,CAAMrE,MAAI,EAACC,GAAI,GAAf,UACE,SAAC,UAAD,CAAaX,KAAM1C,EAASgH,iBAE9B,SAAC,KAAD,CAAM5D,MAAI,EAACC,GAAI,GAAf,UACE,SAACyO,EAAD,CAAa9C,SAAUtP,EAAMsP,SAAU+C,cAAeA,OAExD,SAAC,KAAD,CAAM3O,MAAI,EAACC,GAAI,GAAf,SACG3D,EAAM6P,cAAcnN,OAAS,IAC5B,SAACiQ,EAAD,CACE9C,cAAe7P,EAAM6P,cACrB4C,wBA1CsB,SAACzR,GAC/B,IAAM8R,EAAe9S,EAAM6P,cAAcrL,KAAI,SAAC+B,GAC5C,OAAIA,EAAKvF,KAAOA,GACP,kBAAKuF,GAAZ,IAAkB8K,QAAS9K,EAAK8K,SAE3B9K,CACR,IACDvG,EAAMiC,UAAU8Q,4BAA4B/R,GAC5ChB,EAAM8P,iBAAiBgD,EACxB,EAkCSN,cAhCY,SAACxR,GACrB,IAAM8R,EAAe9S,EAAM6P,cAAcxK,QAAO,SAACkB,GAAD,OAAUA,EAAKvF,KAAOA,CAAtB,IAChDhB,EAAMiC,UAAU+Q,sBAAsBhS,GACtChB,EAAM8P,iBAAiBgD,EACxB,EA6BSJ,sBA3BoB,SAAC1R,GAC7B,IAAM8R,EAAe9S,EAAM6P,cAAcrL,KAAI,SAAC+B,GAC5C,OAAIA,EAAKvF,KAAOA,GACP,kBAAKuF,GAAZ,IAAkB+K,WAAY/K,EAAK+K,YAE9B/K,CACR,IACDvG,EAAMiC,UAAUgR,gCAAgCjS,GAChDhB,EAAM8P,iBAAiBgD,EACxB,OAsBG,SAAC,UAAD,CACE/U,KAAM8U,EACN5M,QAASoM,EACTnM,mBA3EqB,SAACK,GAI1B,IAAMvF,EAAKhB,EAAMsD,MAAM4P,uBAGjBC,EAAWnT,EAAMsD,MAAM2N,kBAAkB,CAC7CC,KAAM,UACNC,OAAQ,UACRC,OAAQ,YAGVpR,EAAM8P,kBAAiB,SAAC/I,GAAD,wBAClBA,GADkB,CAErB,CAAE/F,GAAAA,EAAIL,MAAOwS,EAAU9B,QAAQ,EAAOC,WAAW,IAF5B,IAKvBtR,EAAMsP,SAAS8D,OAAO7M,EAAM,CAC1B8M,cAAc,EACdC,cAAe,CAAEC,OAAQvS,IAE5B,MAyDF,C","sources":["components/ConfirmationDialog.js","hooks/useCookieStatus.js","hooks/useUpdateEffect.js","plugins/Sketch/components/ActivityMenu.js","plugins/Sketch/components/DrawTypeSelector.js","plugins/Sketch/components/FeatureTextSetter.js","plugins/Sketch/components/FeatureTitleEditor.js","plugins/Sketch/components/Information.js","plugins/Sketch/components/SelectFeaturesDialog.js","plugins/Sketch/components/UploadDialog.js","plugins/Sketch/views/AddView.js","plugins/Sketch/views/DeleteView.js","plugins/Sketch/views/EditView.js","plugins/Sketch/views/MoveView.js","plugins/Sketch/views/SaveView.js","plugins/Sketch/views/SettingsView.js","plugins/Sketch/views/SketchView.js","plugins/Sketch/views/UploadView.js"],"sourcesContent":["import React from \"react\";\nimport { createPortal } from \"react-dom\";\nimport {\n  Button,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogTitle,\n  Typography,\n} from \"@mui/material\";\n\n// Simple dialog that can be used to prompt the user before committing action.\nconst ConfirmationDialog = ({\n  open,\n  handleConfirm,\n  handleAbort,\n  titleName,\n  contentDescription,\n  cancel,\n  confirm,\n}) => {\n  return createPortal(\n    <Dialog\n      open={open}\n      onClose={handleAbort}\n      onMouseDown={(e) => {\n        e.stopPropagation();\n      }}\n    >\n      <DialogTitle>{titleName}</DialogTitle>\n      <DialogContent>\n        <Typography>{contentDescription}</Typography>\n      </DialogContent>\n      <DialogActions>\n        <Button onClick={handleConfirm}>{confirm}</Button>\n        <Button onClick={handleAbort} variant=\"contained\">\n          {cancel}\n        </Button>\n      </DialogActions>\n    </Dialog>,\n    document.getElementById(\"map\")\n  );\n};\n\nexport default ConfirmationDialog;\n","import React from \"react\";\nimport { functionalOk, thirdPartyOk } from \"../models/Cookie\";\n\n// A simple hook which will return an object stating wether functional- and third-party-cookies\n// are OK to use or not (depending on the users choice in the cookie-notice).\nexport default function useCookieStatus(globalObserver) {\n  // Let's combine both statuses in one state-object since they will always be updated at the same time.\n  const [cookieStatus, setCookieStatus] = React.useState({\n    functionalCookiesOk: functionalOk(),\n    thirdPartyCookiesOk: thirdPartyOk(),\n  });\n\n  // An effect subscribing to an event sent from the cookie-handler when the\n  // cookie-settings change. If the settings change, we make sure to update the\n  // state with the current cookie-status so that we can render the appropriate components.\n  React.useEffect(() => {\n    const cookieListener = globalObserver.subscribe(\n      \"core.cookieLevelChanged\",\n      () => {\n        setCookieStatus({\n          functionalCookiesOk: functionalOk(),\n          thirdPartyCookiesOk: thirdPartyOk(),\n        });\n      }\n    );\n    return () => {\n      cookieListener.unsubscribe();\n    };\n  }, [globalObserver]);\n\n  return cookieStatus;\n}\n","import React from \"react\";\n// A simple usEffect-hook that does not run on the first render\nexport default function useUpdateEffect(func, deps = []) {\n  const didMount = React.useRef(false);\n  React.useEffect(() => {\n    if (didMount.current) {\n      return func();\n    } else {\n      didMount.current = true;\n    }\n    // The linter does not like when we have fun with custom effects :(\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, deps);\n}\n","import React from \"react\";\nimport { Grid, Paper, Tooltip } from \"@mui/material\";\nimport ToggleButton from \"@mui/material/ToggleButton\";\n\nimport { ACTIVITIES } from \"../constants\";\n\nconst ActivityMenu = (props) => {\n  return (\n    <Grid\n      container\n      justifyContent={\n        props.pluginPosition === \"right\" ? \"flex-end\" : \"flex-start\"\n      }\n    >\n      <Paper elevation={4}>\n        {ACTIVITIES.map((activity, index) => {\n          return (\n            <div key={index} style={{ padding: 8 }}>\n              <Tooltip disableInteractive title={activity.tooltip}>\n                <ToggleButton\n                  sx={{ color: \"text.primary\" }}\n                  value={activity.id}\n                  selected={props.activityId === activity.id}\n                  onChange={() => {\n                    props.setActivityId(activity.id);\n                  }}\n                >\n                  {activity.icon}\n                </ToggleButton>\n              </Tooltip>\n            </div>\n          );\n        })}\n      </Paper>\n    </Grid>\n  );\n};\nexport default ActivityMenu;\n","import React from \"react\";\nimport { TextField, MenuItem, Tooltip } from \"@mui/material\";\nimport { DRAW_TYPES } from \"../constants\";\n\nconst DrawTypeSelector = (props) => {\n  return (\n    <TextField\n      fullWidth\n      id=\"select-draw-type\"\n      variant=\"outlined\"\n      size=\"small\"\n      select\n      value={props.activeDrawType}\n      onChange={(e) => props.setActiveDrawType(e.target.value)}\n    >\n      {DRAW_TYPES.map((option) => (\n        <MenuItem key={option.type} value={option.type}>\n          {\n            <Tooltip disableInteractive title={option.tooltip}>\n              <span style={{ width: \"100%\" }}>{option.label}</span>\n            </Tooltip>\n          }\n        </MenuItem>\n      ))}\n    </TextField>\n  );\n};\n\nexport default DrawTypeSelector;\n","import React from \"react\";\nimport { createPortal } from \"react-dom\";\nimport Dialog from \"../../../components/Dialog/Dialog\";\n\n// This component has a couple of responsibilities:\n// - 1) Subscribe to text-feature-creation\n// - 2) Prompt the user with a modal containing a text-input-field\n// - 3) Applied the text from the modal to the supplied feature.\nconst FeatureTextSetter = ({ drawModel, localObserver }) => {\n  // We're gonna need to keep track of if we've been supplied with a feature\n  // that we are supposed to apply text to.\n  const [feature, setFeature] = React.useState(null);\n\n  // We are going to need a handler for when the event on the observer fires.\n  const handleFeatureCreated = React.useCallback((addedFeature) => {\n    // We're only interested in features with the type \"Text\"\n    if (addedFeature.get(\"DRAW_METHOD\") === \"Text\") {\n      setFeature(addedFeature);\n    }\n  }, []);\n\n  // We are also going to need a handler for when the user closes the dialog\n  const handleCloseClick = React.useCallback(\n    (textFieldValue) => {\n      // If the user did not write any text, we remove the feature from\n      // the draw-source. (Since we don't want text-features without text).\n      if (textFieldValue.length === 0) {\n        drawModel.removeFeature(feature);\n      } else {\n        feature.set(\"USER_TEXT\", textFieldValue);\n        drawModel.refreshFeaturesTextStyle();\n      }\n      setFeature(null);\n    },\n    [drawModel, feature]\n  );\n\n  // If the user aborts, we make sure to remove the feature from the source\n  const handleAbortClick = React.useCallback(() => {\n    drawModel.removeFeature(feature);\n    setFeature(null);\n  }, [drawModel, feature]);\n\n  // Let's add an effect where we can subscribe to the addFeature-event\n  React.useEffect(() => {\n    localObserver.subscribe(\"drawModel.featureAdded\", handleFeatureCreated);\n    return () => {\n      localObserver.unsubscribe(\"drawModel.featureAdded\");\n    };\n  }, [drawModel, localObserver, handleFeatureCreated]);\n\n  return feature !== null\n    ? createPortal(\n        <Dialog\n          options={{\n            text: \"\",\n            prompt: true,\n            headerText: \"Ange text\",\n            buttonText: \"Ok\",\n            abortText: \"Avbryt\",\n          }}\n          open={feature !== null}\n          onClose={handleCloseClick}\n          onAbort={handleAbortClick}\n        />,\n        document.getElementById(\"map\")\n      )\n    : null;\n};\n\nexport default FeatureTextSetter;\n","import React from \"react\";\nimport { Grid, TextField, Tooltip, Typography } from \"@mui/material\";\n\nconst FeatureTitleEditor = ({ feature, model, drawModel }) => {\n  const [title, setTitle] = React.useState(\"\");\n\n  React.useEffect(() => {\n    setTitle(model.getFeatureTitle(feature));\n  }, [feature, model]);\n\n  React.useEffect(() => {\n    drawModel.setFeatureAttribute(feature, \"FEATURE_TITLE\", title);\n  }, [drawModel, feature, title]);\n\n  // We don't want to provide an opportunity to set a title on a text-feature.\n  // (Since these already consist of only text, and the title might confuse the users).\n  return feature.get(\"DRAW_METHOD\") !== \"Text\" ? (\n    <Grid item xs={12} style={{ marginTop: 16 }}>\n      <Grid item xs={12} style={{ marginBottom: 4 }}>\n        <Typography align=\"center\">Titel</Typography>\n      </Grid>\n      <Grid item xs={12}>\n        <Tooltip title=\"Angle en titel som kan användas för att identifiera objektet.\">\n          <TextField\n            fullWidth\n            value={title}\n            onChange={(e) => setTitle(e.target.value)}\n            variant=\"outlined\"\n            size=\"small\"\n          />\n        </Tooltip>\n      </Grid>\n    </Grid>\n  ) : null;\n};\n\nexport default FeatureTitleEditor;\n","import React from \"react\";\nimport { Paper, Typography } from \"@mui/material\";\n\n// A simple component showing the supplied text in a wrapper\nconst Information = ({ text }) => {\n  return (\n    <Paper style={{ width: \"100%\", padding: 8 }}>\n      <Typography align=\"center\" variant=\"body2\">\n        {text}\n      </Typography>\n    </Paper>\n  );\n};\n\nexport default Information;\n","import React from \"react\";\nimport { createPortal } from \"react-dom\";\nimport {\n  Button,\n  Checkbox,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogTitle,\n  List,\n  ListItem,\n  ListItemButton,\n  ListItemIcon,\n  ListItemText,\n} from \"@mui/material\";\n\nexport default function SelectFeaturesDialog({\n  localObserver,\n  drawModel,\n  model,\n}) {\n  // Let's keep everything in one state here since all properties are\n  // changing at the same time (almost).\n  const [state, setState] = React.useState({\n    clickedFeatures: [],\n    selectedFeatureIndexes: [],\n    highlightedFeature: null,\n  });\n\n  // Resets the state back to init.\n  const resetState = React.useCallback(() => {\n    setState({\n      clickedFeatures: [],\n      selectedFeatureIndexes: [],\n      highlightedFeature: null,\n    });\n  }, []);\n\n  // Handles map-click-event from drawModel and updates the clickedFeatures\n  // with the payload.\n  const handleDrawSelectClick = React.useCallback((clickedFeatures) => {\n    setState((state) => ({ ...state, clickedFeatures }));\n  }, []);\n\n  // Handles selection of features in the dialog-list. If the feature-index is already\n  // selected, we remove it, otherwise we add it to the selection.\n  const handleFeatureSelectChange = (featureIndex) => {\n    // Create the new selected feature-indexes...\n    const newSelectedFeatureIndexes =\n      state.selectedFeatureIndexes.indexOf(featureIndex) !== -1\n        ? state.selectedFeatureIndexes.filter((i) => i !== featureIndex)\n        : [...state.selectedFeatureIndexes, featureIndex];\n    // ...and update the state\n    setState((state) => ({\n      ...state,\n      selectedFeatureIndexes: newSelectedFeatureIndexes,\n    }));\n  };\n\n  // Handles dialog abort, resets the state so that the dialog can close.\n  const handleAbort = () => {\n    // We have to remove the eventual highlighted feature when aborting...\n    state.highlightedFeature &&\n      drawModel.removeFeature(state.highlightedFeature);\n    // ...and reset the state.\n    resetState();\n  };\n\n  // Handles confirmation from the dialog. Let's the drawModel add the feature,\n  // and then the state is reset so that the dialog is closed.\n  const handleConfirm = () => {\n    state.selectedFeatureIndexes.map((index) => {\n      return drawModel.drawSelectedFeature(state.clickedFeatures[index]);\n    });\n    resetState();\n  };\n\n  // Handler for mouse-enter on list of clicked features. Creates a new\n  // feature (which is used to show where the clicked feature is in the map).\n  const handleMouseEnter = (index) => {\n    // Let's get the clicked feature we're currently hoovering.\n    const hoveredFeature = state.clickedFeatures[index];\n    // Then we can create a corresponding highlight-feature.\n    const highlightFeature = model.createHighlightFeature(hoveredFeature);\n    // We'll add the highlight-feature to the draw-layer...\n    drawModel.addFeature(highlightFeature, { silent: true });\n    // ...and update the state so that we can keep track of what we are highlighting.\n    setState({\n      ...state,\n      highlightedFeature: highlightFeature,\n    });\n  };\n\n  // Handler for mouse-leave on the list of clicked features. Removes the currently\n  // highlighted feature from the draw-layer.\n  const handleMouseLeave = () => {\n    state.highlightedFeature &&\n      drawModel.removeFeature(state.highlightedFeature);\n  };\n\n  // An effect that handles subscriptions (and un-subscriptions) to the observer-\n  // event fired from the drawModel when the user has clicked a feature with the\n  // \"select feature from map\"-tool active. The event will only be fired if there\n  // is more than one feature present at the location on which the user clicked.\n  // (If there's zero or one, the drawModel will take care of it).\n  React.useEffect(() => {\n    localObserver.subscribe(\"drawModel.select.click\", handleDrawSelectClick);\n    return () => {\n      localObserver.unsubscribe(\"drawModel.select.click\");\n    };\n  }, [localObserver, handleDrawSelectClick]);\n\n  return createPortal(\n    <Dialog\n      open={state.clickedFeatures.length > 1}\n      onClose={handleAbort}\n      // Must stop event-bubbling. Otherwise the parent element in react can be dragged etc.\n      onMouseDown={(e) => {\n        e.stopPropagation();\n      }}\n    >\n      <DialogTitle>Välj de objekt du vill kopiera</DialogTitle>\n      <DialogContent>\n        <List sx={{ width: \"100%\", maxHeight: \"30vh\" }}>\n          {state.clickedFeatures.map((feature, index) => (\n            <ListItem\n              disableGutters\n              key={index}\n              onMouseEnter={() => handleMouseEnter(index)}\n              onMouseLeave={() => handleMouseLeave(index)}\n            >\n              <ListItemButton\n                onClick={() => handleFeatureSelectChange(index)}\n                dense\n              >\n                <ListItemIcon>\n                  <Checkbox\n                    edge=\"start\"\n                    checked={state.selectedFeatureIndexes.indexOf(index) !== -1}\n                    tabIndex={-1}\n                    disableRipple\n                  />\n                </ListItemIcon>\n                <ListItemText primary={feature.getId()} />\n              </ListItemButton>\n            </ListItem>\n          ))}\n        </List>\n      </DialogContent>\n      <DialogActions>\n        <Button\n          disabled={state.selectedFeatureIndexes.length === 0}\n          onClick={handleConfirm}\n        >\n          OK\n        </Button>\n        <Button onClick={handleAbort}>Avbryt</Button>\n      </DialogActions>\n    </Dialog>,\n    document.getElementById(\"map\")\n  );\n}\n","import React from \"react\";\nimport { createPortal } from \"react-dom\";\nimport Dialog from \"../../../components/Dialog/Dialog\";\n\nconst UploadDialog = ({ open, setOpen, handleUploadedFile }) => {\n  const [filesChosen, setFilesChosen] = React.useState(false);\n\n  const handleUploadClick = React.useCallback(async () => {\n    try {\n      const fileInput = document.getElementById(\"kml-file-input\");\n      for await (const file of fileInput.files) {\n        // The file-reader should not be re-used. Let's initialize a new for each file.\n        const reader = new FileReader();\n        reader.onload = () => {\n          try {\n            handleUploadedFile(reader.result);\n          } catch (error) {\n            console.error(`Failed to import kml-file. Error: ${error}`);\n          }\n        };\n        reader.readAsText(file);\n      }\n    } catch (error) {\n      console.error(`Failed to import kml-files. Error: ${error}`);\n    }\n    // When we're done we have to close the dialog and make sure we disable the upload-button\n    // by setting the filesChosen-state to false.\n    setOpen(false);\n    setFilesChosen(false);\n  }, [setOpen, handleUploadedFile]);\n\n  const handleCloseClick = React.useCallback(() => {\n    setOpen(false);\n  }, [setOpen]);\n\n  const handleFileInputChange = React.useCallback((e) => {\n    const fileInput = document.getElementById(\"kml-file-input\");\n    setFilesChosen(fileInput.files.length > 0);\n  }, []);\n\n  return createPortal(\n    <Dialog\n      options={{\n        headerText: \"Ladda upp .kml-filer\",\n        buttonText: filesChosen ? \"Ladda upp\" : null,\n        abortText: \"Avbryt\",\n        text: (\n          <input\n            type=\"file\"\n            name=\"files[]\"\n            accept=\".kml\"\n            multiple\n            id=\"kml-file-input\"\n            onChange={handleFileInputChange}\n          />\n        ),\n        useLegacyNonMarkdownRenderer: true,\n      }}\n      open={open}\n      onClose={handleUploadClick}\n      onAbort={handleCloseClick}\n    />,\n    document.getElementById(\"map\")\n  );\n};\n\nexport default UploadDialog;\n","import React from \"react\";\nimport { Grid, Typography } from \"@mui/material\";\n\nimport DrawTypeSelector from \"../components/DrawTypeSelector\";\nimport Information from \"../components/Information\";\nimport FeatureStyleSelector from \"../components/featureStyle/FeatureStyleSelector\";\nimport FeatureTextSetter from \"../components/FeatureTextSetter\";\nimport SelectFeaturesDialog from \"../components/SelectFeaturesDialog\";\n\nconst AddView = (props) => {\n  // Let's destruct some properties from the props\n  const { model, activeDrawType, setActiveDrawType, localObserver, drawModel } =\n    props;\n  // We have to get some information about the current activity (view)\n  const activity = model.getActivityFromId(props.id);\n\n  return (\n    <Grid container>\n      <Grid item xs={12}>\n        <Information text={activity.information} />\n      </Grid>\n      <Grid item xs={12} style={{ marginTop: 16 }}>\n        <Grid item xs={12} style={{ marginBottom: 4 }}>\n          <Typography align=\"center\">Typ</Typography>\n        </Grid>\n        <Grid item xs={12}>\n          <DrawTypeSelector\n            activeDrawType={activeDrawType}\n            setActiveDrawType={setActiveDrawType}\n          />\n        </Grid>\n      </Grid>\n      <FeatureStyleSelector\n        activeDrawType={activeDrawType}\n        drawStyle={props.drawStyle}\n        drawModel={props.drawModel}\n        setDrawStyle={props.setDrawStyle}\n        textStyle={props.textStyle}\n        setTextStyle={props.setTextStyle}\n      />\n      <FeatureTextSetter\n        localObserver={props.localObserver}\n        drawModel={props.drawModel}\n      />\n      <SelectFeaturesDialog\n        localObserver={localObserver}\n        drawModel={drawModel}\n        model={model}\n      />\n    </Grid>\n  );\n};\n\nexport default AddView;\n","import React from \"react\";\nimport { styled } from \"@mui/material\";\nimport { Button, IconButton, Zoom } from \"@mui/material\";\nimport { Grid, Typography, Tooltip, Paper } from \"@mui/material\";\nimport SettingsBackupRestoreIcon from \"@mui/icons-material/SettingsBackupRestore\";\nimport DeleteIcon from \"@mui/icons-material/Delete\";\n\nimport Information from \"../components/Information\";\n\nconst StyledPaper = styled(Paper)(({ theme }) => ({\n  width: \"100%\",\n  padding: theme.spacing(1),\n  marginBottom: theme.spacing(1),\n  borderRight: `${theme.spacing(0.5)} solid ${theme.palette.info.main}`,\n  borderLeft: `${theme.spacing(0.5)} solid ${theme.palette.info.main}`,\n}));\n\n// A component that is rendered if the user has selected not to accept functional\n// cookies. (Functional cookies has to be accepted, otherwise we cannot save the\n// recently removed features in LS.\nconst RecentlyRemovedNotSupported = ({ globalObserver }) => {\n  // Handles clicks on the \"change-cookie-settings-button\". Simply emits an event\n  // on the global-observer, stating that the cookie-banner should be shown again.\n  const handleChangeCookieSettingsClick = () => {\n    globalObserver.publish(\"core.showCookieBanner\");\n  };\n  return (\n    <Grid container spacing={2}>\n      <Grid item xs={12}>\n        <Information\n          text=\"Det ser ut som att du har valt att inte tillåta funktionella kakor. På grund av\n        detta så kan du inte se dina senast borttagna objekt. Klicka nedan för att ändra inställningarna.\"\n        />\n      </Grid>\n      <Grid item xs={12}>\n        <Button\n          fullWidth\n          variant=\"contained\"\n          onClick={handleChangeCookieSettingsClick}\n        >\n          Cookie-inställningar\n        </Button>\n      </Grid>\n    </Grid>\n  );\n};\n\nconst RemovedFeatureItem = ({ onRestoreClick, title }) => {\n  return (\n    <Zoom in appear>\n      <StyledPaper>\n        <Grid container justifyContent=\"space-between\" alignItems=\"center\">\n          <Typography variant=\"button\">{title}</Typography>\n          <Tooltip\n            disableInteractive\n            title=\"Klicka för att återställa ritobjektet.\"\n          >\n            <IconButton size=\"small\" onClick={onRestoreClick}>\n              <SettingsBackupRestoreIcon />\n            </IconButton>\n          </Tooltip>\n        </Grid>\n      </StyledPaper>\n    </Zoom>\n  );\n};\n\nconst RemovedFeaturesList = ({ removedFeatures, drawModel }) => {\n  return removedFeatures.map((feature) => {\n    return (\n      <RemovedFeatureItem\n        key={feature.get(\"HANDLED_ID\")}\n        title={feature.get(\"HANDLED_AT\")}\n        onRestoreClick={() => drawModel.addFeature(feature)}\n      />\n    );\n  });\n};\n\nconst DeleteView = ({\n  id,\n  model,\n  drawModel,\n  removedFeatures,\n  globalObserver,\n  functionalCookiesOk,\n}) => {\n  // We have to get some information about the current activity (view)\n  const activity = model.getActivityFromId(id);\n\n  return (\n    <Grid container spacing={2}>\n      <Grid item xs={12}>\n        <Information text={activity.information} />\n      </Grid>\n      <Grid item xs={12}>\n        <Button\n          fullWidth\n          variant=\"contained\"\n          onClick={drawModel.removeDrawnFeatures}\n          startIcon={<DeleteIcon />}\n        >\n          Ta bort alla ritobjekt\n        </Button>\n      </Grid>\n      <Grid container item>\n        <Grid item xs={12}>\n          <Typography variant=\"caption\">Senast borttagna:</Typography>\n        </Grid>\n        <Grid item xs={12}>\n          {functionalCookiesOk ? (\n            <RemovedFeaturesList\n              drawModel={drawModel}\n              removedFeatures={removedFeatures}\n            />\n          ) : (\n            <RecentlyRemovedNotSupported globalObserver={globalObserver} />\n          )}\n        </Grid>\n      </Grid>\n    </Grid>\n  );\n};\n\nexport default DeleteView;\n","import React from \"react\";\nimport { Button, Grid, Paper } from \"@mui/material\";\nimport { Tooltip, Typography, Switch } from \"@mui/material\";\n\nimport Information from \"../components/Information\";\nimport FeatureTitleEditor from \"../components/FeatureTitleEditor\";\nimport FeatureStyleEditor from \"../components/featureStyle/FeatureStyleEditor\";\n\nconst ModifyNodeToggler = ({ modifyEnabled, setModifyEnabled }) => {\n  return (\n    <Paper style={{ padding: 8, marginTop: 8 }}>\n      <Grid container justifyContent=\"space-between\" alignItems=\"center\">\n        <Typography variant=\"body2\">Tillåt redigering av noder</Typography>\n        <Tooltip\n          disableInteractive\n          title={\n            modifyEnabled\n              ? \"Avaktivera redigering av noder för att enklare kunna selektera objekt i kartan för redigering av färg etc.\"\n              : \"Aktivera för att kunna redigera objektens utbredning i kartan.\"\n          }\n        >\n          <Switch\n            checked={modifyEnabled}\n            onChange={() => setModifyEnabled(!modifyEnabled)}\n            size=\"small\"\n            color=\"primary\"\n          />\n        </Tooltip>\n      </Grid>\n    </Paper>\n  );\n};\n\nconst EditView = (props) => {\n  // We have to get some information about the current activity (view)\n  const activity = props.model.getActivityFromId(props.id);\n  return (\n    <Grid\n      container\n      direction=\"column\"\n      justifyContent=\"space-between\"\n      style={{ height: \"100%\" }}\n    >\n      <Grid container>\n        <Grid item xs={12}>\n          <Information text={activity.information} />\n        </Grid>\n        <Grid item xs={12}>\n          <ModifyNodeToggler\n            drawModel={props.drawModel}\n            modifyEnabled={props.modifyEnabled}\n            setModifyEnabled={props.setModifyEnabled}\n          />\n        </Grid>\n        <Grid item xs={12}>\n          {props.editFeature === null ? (\n            <Typography align=\"center\" style={{ marginTop: 24 }}>\n              Klicka på ett objekt i kartan för att ändra dess utseende.\n            </Typography>\n          ) : (\n            <Grid item xs={12}>\n              <FeatureTitleEditor\n                feature={props.editFeature}\n                model={props.model}\n                drawModel={props.drawModel}\n              />\n              <FeatureStyleEditor\n                feature={props.editFeature}\n                model={props.model}\n                drawModel={props.drawModel}\n              />\n            </Grid>\n          )}\n        </Grid>\n      </Grid>\n      {props.editFeature && (\n        <Grid container style={{ marginTop: 8 }}>\n          <Tooltip\n            disableInteractive\n            title=\"Klicka för att duplicera det markerade objektet.\"\n          >\n            <Button\n              variant=\"contained\"\n              fullWidth\n              onClick={() => {\n                props.drawModel.duplicateFeature(props.editFeature);\n                props.drawModel.reBindFeaturePropertyListener();\n              }}\n            >\n              Duplicera objekt\n            </Button>\n          </Tooltip>\n        </Grid>\n      )}\n    </Grid>\n  );\n};\n\nexport default EditView;\n","import React from \"react\";\nimport { Button, Grid, Paper, TextField } from \"@mui/material\";\nimport { Tooltip, Typography, Switch } from \"@mui/material\";\nimport Information from \"../components/Information\";\n\nconst TranslateToggler = ({ translateEnabled, setTranslateEnabled }) => {\n  return (\n    <Paper style={{ padding: 8, marginTop: 8 }}>\n      <Grid container justifyContent=\"space-between\" alignItems=\"center\">\n        <Typography variant=\"body2\">Tillåt fri förflyttning</Typography>\n        <Tooltip\n          disableInteractive\n          title={\n            translateEnabled\n              ? \"Avaktivera för att inte tillåta förflyttning av objekten i kartan.\"\n              : \"Aktivera för att tillåta förflyttning av objekten i kartan.\"\n          }\n        >\n          <Switch\n            checked={translateEnabled}\n            onChange={() => setTranslateEnabled(!translateEnabled)}\n            size=\"small\"\n            color=\"primary\"\n          />\n        </Tooltip>\n      </Grid>\n    </Paper>\n  );\n};\n\nconst FeatureMoveSelector = (props) => {\n  // Handles change on the movement-length input. Makes sure that we're\n  // dealing with integers and updates the state.\n  const handleMovementLengthChange = (e) => {\n    const length = Math.floor(e.target.value);\n    props.setMovementLength(length);\n  };\n\n  // Handles change on the movement-angle input. Makes sure the angle is\n  // always between 0 and 360 and updates the state.\n  const handleMovementAngleChange = (e) => {\n    const angle = Math.floor(e.target.value);\n    const justifiedAngle =\n      angle >= 360 ? angle - 360 : angle < 0 ? 360 + angle : angle;\n    props.setMovementAngle(justifiedAngle);\n  };\n\n  // Handles user click on move-feature. Makes sure to trigger the move\n  // action and push the move-information onto the last-move-array so that\n  // the user can \"remove\" that action if it turned out wrong.\n  const handleMoveClick = () => {\n    // Let's get the values\n    const length = props.movementLength;\n    const angle = props.movementAngle;\n    // Then we trigger the action in the draw-model\n    props.drawModel.translateSelectedFeatures(\n      props.movementLength,\n      props.movementAngle\n    );\n    // Then we'll update the last-moves-state.\n    props.setLastMoves([...props.lastMoves, { length, angle }]);\n  };\n\n  // Handles user click on undo. Gets the last move from the move-state\n  // and triggers a move in the opposite direction. Also removes that move\n  // from the state.\n  const handleUndoClick = () => {\n    const moves = [...props.lastMoves];\n    const { length, angle } = moves.pop();\n    props.drawModel.translateSelectedFeatures(length, angle - 180);\n    props.setLastMoves(moves);\n  };\n\n  return (\n    <Paper style={{ padding: 8, marginTop: 8 }}>\n      <Grid container item justifyContent=\"center\" alignItems=\"center\">\n        <Grid item xs={12}>\n          <Typography variant=\"body2\" align=\"center\">\n            Fast förflyttning\n          </Typography>\n        </Grid>\n        <Grid item xs={12} style={{ marginTop: 16 }}>\n          <Tooltip\n            disableInteractive\n            title=\"Ange hur många meter du vill flytta objekten.\"\n          >\n            <TextField\n              label=\"Förflyttningsavstånd (meter)\"\n              variant=\"outlined\"\n              fullWidth\n              type=\"number\"\n              size=\"small\"\n              value={props.movementLength}\n              onChange={handleMovementLengthChange}\n            />\n          </Tooltip>\n        </Grid>\n        <Grid item xs={12} style={{ marginTop: 16 }}>\n          <Tooltip\n            disableInteractive\n            title=\"Ange i vilken riktning du vill flytta objekten. 0 grader är rakt norrut, 90 grader är rakt åt öster, osv.\"\n          >\n            <TextField\n              label=\"Förflyttningsriktning (grader)\"\n              variant=\"outlined\"\n              fullWidth\n              type=\"number\"\n              size=\"small\"\n              value={props.movementAngle}\n              onChange={handleMovementAngleChange}\n            />\n          </Tooltip>\n        </Grid>\n        <Grid container spacing={1} style={{ marginTop: 8 }}>\n          <Grid item xs={6}>\n            <Button\n              variant=\"contained\"\n              fullWidth\n              size=\"small\"\n              onClick={handleUndoClick}\n              disabled={props.lastMoves.length === 0}\n            >\n              Ångra\n            </Button>\n          </Grid>\n          <Grid item xs={6}>\n            <Button\n              variant=\"contained\"\n              fullWidth\n              size=\"small\"\n              onClick={handleMoveClick}\n            >\n              Flytta\n            </Button>\n          </Grid>\n        </Grid>\n      </Grid>\n    </Paper>\n  );\n};\n\nconst MoveView = (props) => {\n  // We're gonna need to keep track of the movement length and angle\n  const [movementLength, setMovementLength] = React.useState(100);\n  const [movementAngle, setMovementAngle] = React.useState(90);\n  // We also need to keep track of the last moves that has been done. These\n  // can be used so that the user can disregard moves if they happened to move\n  // something in the wrong direction.\n  const [lastMoves, setLastMoves] = React.useState([]);\n  // Let's destruct some props\n  const { drawModel, moveFeatures, translateEnabled, setTranslateEnabled } =\n    props;\n\n  // Let's use an effect that can reset the last moves when the current\n  // feature/features selected for movement changes.\n  React.useEffect(() => {\n    setLastMoves([]);\n  }, [moveFeatures]);\n\n  // We have to get some information about the current activity (view)\n  const activity = props.model.getActivityFromId(props.id);\n  return (\n    <Grid container>\n      <Grid item xs={12}>\n        <Information text={activity.information} />\n      </Grid>\n      <Grid item xs={12}>\n        <TranslateToggler\n          translateEnabled={translateEnabled}\n          setTranslateEnabled={setTranslateEnabled}\n        />\n        {moveFeatures.length > 0 && (\n          <FeatureMoveSelector\n            drawModel={drawModel}\n            lastMoves={lastMoves}\n            setLastMoves={setLastMoves}\n            movementLength={movementLength}\n            setMovementLength={setMovementLength}\n            movementAngle={movementAngle}\n            setMovementAngle={setMovementAngle}\n          />\n        )}\n      </Grid>\n    </Grid>\n  );\n};\n\nexport default MoveView;\n","import React from \"react\";\nimport { styled, Typography } from \"@mui/material\";\nimport { Button, IconButton, Zoom } from \"@mui/material\";\nimport { Grid, Paper, TextField, Tooltip } from \"@mui/material\";\nimport AddIcon from \"@mui/icons-material/Add\";\nimport DeleteIcon from \"@mui/icons-material/Delete\";\n\nimport { useSnackbar } from \"notistack\";\n\nimport { MAX_SKETCHES } from \"../constants\";\nimport Information from \"../components/Information\";\nimport ConfirmationDialog from \"../../../components/ConfirmationDialog\";\n\nconst StyledPaper = styled(Paper)(({ theme }) => ({\n  width: \"100%\",\n  padding: theme.spacing(1),\n  marginBottom: theme.spacing(1),\n  borderRight: `${theme.spacing(0.5)} solid ${theme.palette.info.main}`,\n  borderLeft: `${theme.spacing(0.5)} solid ${theme.palette.info.main}`,\n}));\n\nconst StyledTextWarning = styled(\"div\")(({ theme }) => ({\n  color: `${theme.palette.error.main}`,\n  fontSize: \"11px\",\n  letterSpacing: \"0.035rem\",\n  marginTop: \"3px\",\n}));\n\n// A view that is rendered if the user has selected not to accept functional\n// cookies. (Functional cookies has to be accepted, otherwise this part of the plugin\n// has no meaning).\nconst NotSupportedView = ({ globalObserver }) => {\n  // Handles clicks on the \"change-cookie-settings-button\". Simply emits an event\n  // on the global-observer, stating that the cookie-banner should be shown again.\n  const handleChangeCookieSettingsClick = () => {\n    globalObserver.publish(\"core.showCookieBanner\");\n  };\n  return (\n    <Grid container spacing={2}>\n      <Grid item xs={12}>\n        <Information\n          text=\"Det ser ut som att du har valt att inte tillåta funktionella kakor. På grund av\n        detta så kan du inte spara dina rit-objekt. Klicka nedan för att ändra inställningarna.\"\n        />\n      </Grid>\n      <Grid item xs={12}>\n        <Button\n          fullWidth\n          variant=\"contained\"\n          onClick={handleChangeCookieSettingsClick}\n        >\n          Cookie-inställningar\n        </Button>\n      </Grid>\n    </Grid>\n  );\n};\n\n// A simple component allowing the user to select a name and save the current\n// sketch to LS under that name.\nconst SketchSaver = (props) => {\n  // A hook component that sets and gets a replaceWarning\n  // This prompts when the user types in a sketch name that already exists\n  const [replaceWarning, setReplaceWarning] = React.useState({\n    truncatedSketchName: \"\",\n    text: \" \",\n    show: false,\n  });\n\n  const [saveButtonStateTest, setSaveButtonStateTest] = React.useState({\n    disabled: true,\n    message: \"Klicka för att spara de ritobjekt som finns i kartan.\",\n  });\n\n  // We're gonna want to prompt the user with a snackbar when a sketch is saved.\n  const { enqueueSnackbar } = useSnackbar();\n\n  // Handles text-input on the sketch-name\n  const handleInputChange = (e) => {\n    props.setSketchName(e.target.value);\n    getSaveButtonState();\n  };\n\n  // Handles when the user wants to add (or update an existing) sketch.\n  // The handler makes sure to trigger the model to update the local-storage,\n  // and also update the local state.\n  const handleSaveSketchClick = () => {\n    // First we'll try to save the sketch to the local-storage. This method\n    // will return an object stating if it could be saved or not.\n    const { status, message } = props.model.addCurrentSketchToStorage({\n      title: props.sketchName,\n    });\n    // Then we'll update the state with the new sketches and clear the text-field.\n    props.setSavedSketches(props.model.getSketchesFromStorage());\n    props.setSketchName(\"\");\n    setReplaceWarning({ ...replaceWarning, text: \" \", show: false });\n    // And prompt the user.\n    enqueueSnackbar(message, {\n      variant: status === \"FAILED\" ? \"error\" : \"success\",\n    });\n  };\n\n  // Checks if a text warning needs to be prompted when the user has typed\n  // an already existing sketch name. This function replaces but also incorporates\n  // most of the code from the previous \"nameExists\"-method\n  const checkSketchName = () => {\n    // This is the original code from \"nameExists\" that has been moved into this functio0n.\n    // Checks if input name exists in saved sketches\n    let exists = props.savedSketches.some(\n      (sketch) => sketch.title.toLowerCase() === props.sketchName.toLowerCase()\n    );\n\n    // If \"exists\" returns true we set replaceWarning to true along with a text warning.\n    // Also, if the sketchName is longer than 15 chars we truncate the name to show.\n    setReplaceWarning({\n      ...replaceWarning,\n      truncatedSketchName:\n        props.sketchName.length > 15\n          ? props.sketchName.substring(0, 15) + \"...\"\n          : props.sketchName,\n      text: exists\n        ? `Namnet upptaget. Ersätt arbetsyta \"${replaceWarning.truncatedSketchName}\"?`\n        : \" \",\n      show: exists ? true : false,\n    });\n\n    return exists;\n  };\n\n  // Let's listen for enter-key-down. If the enter-key is pressed and\n  // the save-button isn't disabled we can save the sketch.\n  const handleKeyDown = (e) => {\n    if (e.key === \"Enter\") {\n      !saveButtonStateTest.disabled && handleSaveSketchClick();\n    }\n  };\n\n  // Listens to every keypress to see if the input matches any existing saved sketches\n  const handleKeyUp = (e) => {\n    checkSketchName(e.target.value);\n    getSaveButtonState();\n  };\n\n  // Returns an object stating if the save-button should be disabled or not, along\n  // with a tooltip-message.\n  const getSaveButtonState = () => {\n    // If the name consists of less than four characters, the button should be disabled.\n    // We only allow workspace-names that consist of three characters or more.\n    if (props.sketchName.length < 4) {\n      return setSaveButtonStateTest({\n        ...saveButtonStateTest,\n        disabled: true,\n        message:\n          \"Minst fyra tecken måste anges för att en arbetsyta ska kunna skapas.\",\n      });\n    }\n    // If the name does not already exist, and we've already saved the maximum number of sketches,\n    // the button should be disabled. (If the name does exist, it is OK to save since one\n    // will be over-written).\n    if (props.savedSketches.length >= MAX_SKETCHES && !checkSketchName()) {\n      return setSaveButtonStateTest({\n        ...saveButtonStateTest,\n        disabled: true,\n        message:\n          \"Maximalt antal arbetsytor har sparats. Ta bort eller skriv över en genom att ange ett av namnen i listan nedan.\",\n      });\n    }\n    // If we've made it this far, it is OK to save!\n    setSaveButtonStateTest({\n      ...saveButtonStateTest,\n      disabled: false,\n      message: \"Klicka för att spara de ritobjekt som finns i kartan.\",\n    });\n  };\n\n  return (\n    <Paper style={{ padding: 8 }}>\n      <Grid container alignItems=\"center\" justifyContent=\"space-between\">\n        <Grid item xs={8}>\n          <Tooltip\n            disableInteractive\n            title=\"Ange att namn så att arbetsytan kan identifieras senare.\"\n          >\n            <TextField\n              size=\"small\"\n              variant=\"outlined\"\n              style={{ maxWidth: \"100%\" }}\n              onChange={handleInputChange}\n              onKeyUp={handleKeyUp}\n              onKeyDown={handleKeyDown}\n              value={props.sketchName}\n            />\n          </Tooltip>\n        </Grid>\n        <Grid container item xs={3} justifyContent=\"flex-end\">\n          <Tooltip disableInteractive title={saveButtonStateTest.message}>\n            <span>\n              <Button\n                size=\"small\"\n                variant=\"contained\"\n                disabled={saveButtonStateTest.disabled}\n                onClick={handleSaveSketchClick}\n              >\n                {replaceWarning.show ? \"Ersätt\" : \"Spara\"}\n              </Button>\n            </span>\n          </Tooltip>\n        </Grid>\n      </Grid>\n      <StyledTextWarning>{replaceWarning.text}</StyledTextWarning>\n    </Paper>\n  );\n};\n\n// A simple component containing information about a saved sketch along\n// with buttons allowing the user to add the sketch to the map, or delete\n// the saved sketch entirely.\nconst SavedSketch = ({\n  sketchInfo,\n  handleRemoveClick,\n  handleAddToMapClick,\n}) => {\n  return (\n    <Zoom in appear>\n      <StyledPaper>\n        <Grid container justifyContent=\"space-between\" alignItems=\"center\">\n          <Grid item xs={8}>\n            <Tooltip disableInteractive title={sketchInfo.title}>\n              <Grid\n                item\n                xs={12}\n                sx={{ overflow: \"hidden\", textOverflow: \"ellipsis\" }}\n              >\n                <Typography variant=\"button\" noWrap>\n                  {sketchInfo.title}\n                </Typography>\n              </Grid>\n            </Tooltip>\n            <Grid item xs={12}>\n              <Tooltip\n                disableInteractive\n                title={`Arbetsytan uppdaterades senast ${sketchInfo.date}`}\n              >\n                <Typography variant=\"caption\">\n                  {`Uppdaterad: ${sketchInfo.date?.split(\" \")[0]}`}\n                </Typography>\n              </Tooltip>\n            </Grid>\n          </Grid>\n\n          <Grid container item xs={4} justifyContent=\"flex-end\">\n            <Tooltip\n              disableInteractive\n              title=\"Klicka för att radera arbetsytan.\"\n            >\n              <IconButton size=\"small\" onClick={handleRemoveClick}>\n                <DeleteIcon />\n              </IconButton>\n            </Tooltip>\n            <Tooltip\n              disableInteractive\n              title=\"Klicka för att läsa in objekten.\"\n            >\n              <IconButton size=\"small\" onClick={handleAddToMapClick}>\n                <AddIcon />\n              </IconButton>\n            </Tooltip>\n          </Grid>\n        </Grid>\n      </StyledPaper>\n    </Zoom>\n  );\n};\n\nconst SavedSketchList = ({ model, savedSketches, setSavedSketches }) => {\n  // We're gonna need a state to keep track of the sketch that the\n  // user is about to remove. (So that we can make sure to confirm that\n  // they want to remove it).\n  const [sketchToRemove, setSketchToRemove] = React.useState(null);\n  // Adds the features in the clicked sketch to the map.\n  const handleAddToMapClick = (sketch) => {\n    model.addSketchToMap(sketch);\n  };\n  // When the user clicks the remove-button, we'll set the clicked\n  // sketch in state so that the user can confirm that they want to remove it.\n  const handleRemoveClick = (sketch) => {\n    setSketchToRemove(sketch);\n  };\n  // Fires when the user confirms that they want to remove the sketch. Removes the\n  // sketch from LS.\n  const handleRemoveConfirmation = () => {\n    model.removeSketchFromStorage(sketchToRemove);\n    setSavedSketches(\n      savedSketches.filter(\n        (s) => !model.equalsIgnoringCase(s.title, sketchToRemove.title)\n      )\n    );\n    setSketchToRemove(null);\n  };\n  // Fires when the user closes the confirmation-window.\n  const handleRemoveConfirmationAbort = () => {\n    setSketchToRemove(null);\n  };\n  return (\n    <Grid container>\n      <Grid item xs={12}>\n        <Typography variant=\"caption\">\n          {savedSketches.length === 0\n            ? \"Inga sparade arbetsytor hittades.\"\n            : \"Sparade arbetsytor:\"}\n        </Typography>\n      </Grid>\n      <Grid item xs={12}>\n        {savedSketches.map((sketch) => {\n          return (\n            <SavedSketch\n              key={sketch.id}\n              sketchInfo={sketch}\n              handleAddToMapClick={() => handleAddToMapClick(sketch)}\n              handleRemoveClick={() => handleRemoveClick(sketch)}\n            />\n          );\n        })}\n      </Grid>\n      <ConfirmationDialog\n        open={sketchToRemove !== null}\n        titleName={\"Radera arbetsyta\"}\n        contentDescription={\n          \"Är du säker på att du vill radera arbetsytan? Detta går inte att ångra.\"\n        }\n        cancel={\"Avbryt\"}\n        confirm={\"Radera\"}\n        handleConfirm={handleRemoveConfirmation}\n        handleAbort={handleRemoveConfirmationAbort}\n      />\n    </Grid>\n  );\n};\n\nconst SaveView = ({ globalObserver, model, id, functionalCookiesOk }) => {\n  // If the user wants to save their work, they'll have to choose a name\n  // so that the workspace can be identified in the list of saved workspaces later.\n  const [sketchName, setSketchName] = React.useState(\"\");\n  // We also have to keep track of all the saved sketches. Initiate the state with the sketches\n  // currently stored in the local-storage.\n  const [savedSketches, setSavedSketches] = React.useState(\n    model.getSketchesFromStorage()\n  );\n  // We have to get some information about the current activity (view)\n  const activity = model.getActivityFromId(id);\n  // Let's make sure we're allowing for functional cookies, and if we aren't\n  // we'll render a view telling the user that the save-view does not work\n  // until they've changed their settings.\n  return !functionalCookiesOk ? (\n    <NotSupportedView globalObserver={globalObserver} />\n  ) : (\n    <Grid container spacing={2}>\n      <Grid item xs={12}>\n        <Information text={activity.information} />\n      </Grid>\n      <Grid item xs={12}>\n        <SketchSaver\n          model={model}\n          sketchName={sketchName}\n          setSketchName={setSketchName}\n          savedSketches={savedSketches}\n          setSavedSketches={setSavedSketches}\n        />\n      </Grid>\n      <Grid item xs={12}>\n        <SavedSketchList\n          model={model}\n          savedSketches={savedSketches}\n          setSavedSketches={setSavedSketches}\n        />\n      </Grid>\n    </Grid>\n  );\n};\n\nexport default SaveView;\n","import React from \"react\";\nimport {\n  FormControl,\n  FormLabel,\n  FormControlLabel,\n  Grid,\n  InputLabel,\n  MenuItem,\n  Select,\n  Switch,\n  Tooltip,\n} from \"@mui/material\";\n\nimport LocalStorageHelper from \"utils/LocalStorageHelper\";\nimport useCookieStatus from \"hooks/useCookieStatus\";\n\nimport {\n  STORAGE_KEY,\n  AREA_MEASUREMENT_UNITS,\n  LENGTH_MEASUREMENT_UNITS,\n  MEASUREMENT_PRECISIONS,\n} from \"../constants\";\n\nconst SettingsView = (props) => {\n  // Let's destruct some props\n  const { model, measurementSettings, setMeasurementSettings } = props;\n  // We're gonna need to keep track of if we're allowed to save stuff in LS. Let's use the hook.\n  const { functionalCookiesOk } = useCookieStatus(props.globalObserver);\n  // We're gonna need some local state as well. For example, should we show helper-snacks?\n  const [showHelperSnacks, setShowHelperSnacks] = React.useState(\n    model.getShowHelperSnacks()\n  );\n  // An effect that makes sure to update the model with the user-choice regarding the helper-snacks.\n  // The effect also makes sure to store the setting in the LS (if allowed).\n  React.useEffect(() => {\n    model.setShowHelperSnacks(showHelperSnacks);\n    if (functionalCookiesOk) {\n      LocalStorageHelper.set(STORAGE_KEY, {\n        ...LocalStorageHelper.get(STORAGE_KEY),\n        showHelperSnacks: showHelperSnacks,\n      });\n    }\n  }, [model, showHelperSnacks, functionalCookiesOk]);\n\n  return (\n    <Grid container>\n      <Grid item xs={12} sx={{ marginTop: 2 }}>\n        <FormControl component=\"fieldset\">\n          <FormLabel focused={false} component=\"legend\">\n            Generella inställningar\n          </FormLabel>\n          <Tooltip\n            disableInteractive\n            title={`Slå ${\n              measurementSettings.showText ? \"av\" : \"på\"\n            } om du vill ${\n              measurementSettings.showText ? \"dölja\" : \"visa\"\n            } text på objekten.`}\n          >\n            <FormControlLabel\n              label=\"Visa text på objekten\"\n              control={\n                <Switch\n                  checked={measurementSettings.showText}\n                  onChange={() => {\n                    setMeasurementSettings((settings) => ({\n                      ...settings,\n                      showText: !settings.showText,\n                    }));\n                  }}\n                  color=\"primary\"\n                />\n              }\n            />\n          </Tooltip>\n          <Tooltip\n            disableInteractive\n            title={`Slå ${showHelperSnacks ? \"av\" : \"på\"} om du vill ${\n              showHelperSnacks ? \"dölja\" : \"visa\"\n            } hjälptexter.`}\n          >\n            <FormControlLabel\n              label=\"Hjälptexter aktiverade\"\n              control={\n                <Switch\n                  checked={showHelperSnacks}\n                  onChange={() => setShowHelperSnacks((show) => !show)}\n                  color=\"primary\"\n                />\n              }\n            />\n          </Tooltip>\n        </FormControl>\n      </Grid>\n      <Grid item xs={12}>\n        <FormControl component=\"fieldset\">\n          <FormLabel focused={false} component=\"legend\">\n            Mätinställningar\n          </FormLabel>\n\n          <Tooltip\n            disableInteractive\n            title={\n              !measurementSettings.showText\n                ? \"Aktivera text på objekten om du vill visa objektens omkrets/radie.\"\n                : `Slå ${\n                    measurementSettings.showArea ? \"av\" : \"på\"\n                  } om du vill ${\n                    measurementSettings.showArea ? \"dölja\" : \"visa\"\n                  } area på objekten.`\n            }\n          >\n            <FormControlLabel\n              label=\"Visa area\"\n              control={\n                <Switch\n                  disabled={!measurementSettings.showText}\n                  checked={measurementSettings.showArea}\n                  onChange={() => {\n                    setMeasurementSettings((settings) => ({\n                      ...settings,\n                      showArea: !settings.showArea,\n                    }));\n                  }}\n                  color=\"primary\"\n                />\n              }\n            />\n          </Tooltip>\n          <Tooltip\n            disableInteractive\n            title={\n              !measurementSettings.showText\n                ? \"Aktivera text på objekten om du vill visa objektens längd\"\n                : `Slå ${\n                    measurementSettings.showLength ? \"av\" : \"på\"\n                  } om du vill ${\n                    measurementSettings.showLength ? \"dölja\" : \"visa\"\n                  } längd på objekten.`\n            }\n          >\n            <FormControlLabel\n              label=\"Visa längd\"\n              control={\n                <Switch\n                  disabled={!measurementSettings.showText}\n                  checked={measurementSettings.showLength ?? false}\n                  onChange={() => {\n                    setMeasurementSettings((settings) => ({\n                      ...settings,\n                      showLength: !settings.showLength,\n                    }));\n                  }}\n                  color=\"primary\"\n                />\n              }\n            />\n          </Tooltip>\n          <Tooltip\n            disableInteractive\n            title={\n              !measurementSettings.showText\n                ? \"Aktivera text på objekten om du vill visa objektens omkrets/radie.\"\n                : `Slå ${\n                    measurementSettings.showPerimeter ? \"av\" : \"på\"\n                  } om du vill ${\n                    measurementSettings.showPerimeter ? \"dölja\" : \"visa\"\n                  } omkrets/radie. på objekten.`\n            }\n          >\n            <FormControlLabel\n              label=\"Visa omkrets/radie\"\n              control={\n                <Switch\n                  disabled={!measurementSettings.showText}\n                  checked={measurementSettings.showPerimeter}\n                  onChange={() => {\n                    setMeasurementSettings((settings) => ({\n                      ...settings,\n                      showPerimeter: !settings.showPerimeter,\n                    }));\n                  }}\n                  color=\"primary\"\n                />\n              }\n            />\n          </Tooltip>\n          <Tooltip title=\"Välj enhet för mätning av areal.\">\n            <FormControl size=\"small\" style={{ marginTop: 8 }}>\n              <InputLabel\n                variant=\"outlined\"\n                id=\"sketch-select-area-measurement-unit-label\"\n              >\n                Mätenhet, areal\n              </InputLabel>\n              <Select\n                id=\"sketch-select-area-measurement-unit\"\n                labelId=\"sketch-select-area-measurement-unit-label\"\n                value={measurementSettings.areaUnit}\n                label=\"Mätenhet, areal\"\n                variant=\"outlined\"\n                onChange={(e) => {\n                  setMeasurementSettings((settings) => ({\n                    ...settings,\n                    areaUnit: e.target.value,\n                  }));\n                }}\n              >\n                {AREA_MEASUREMENT_UNITS.map((unit, index) => {\n                  return (\n                    <MenuItem value={unit.type} key={index}>\n                      {unit.name}\n                    </MenuItem>\n                  );\n                })}\n              </Select>\n            </FormControl>\n          </Tooltip>\n          <Tooltip title=\"Välj enhet för mätning av längd.\">\n            <FormControl size=\"small\" style={{ marginTop: 16 }}>\n              <InputLabel\n                variant=\"outlined\"\n                id=\"sketch-select-length-measurement-unit-label\"\n              >\n                Mätenhet, längd\n              </InputLabel>\n              <Select\n                id=\"sketch-select-length-measurement-unit\"\n                labelId=\"sketch-select-length-measurement-unit-label\"\n                value={measurementSettings.lengthUnit}\n                label=\"Mätenhet, längd\"\n                variant=\"outlined\"\n                onChange={(e) => {\n                  setMeasurementSettings((settings) => ({\n                    ...settings,\n                    lengthUnit: e.target.value,\n                  }));\n                }}\n              >\n                {LENGTH_MEASUREMENT_UNITS.map((unit, index) => {\n                  return (\n                    <MenuItem value={unit.type} key={index}>\n                      {unit.name}\n                    </MenuItem>\n                  );\n                })}\n              </Select>\n            </FormControl>\n          </Tooltip>\n          <Tooltip title=\"Välj med vilken precision mätvärdena ska presenteras.\">\n            <FormControl size=\"small\" style={{ marginTop: 16 }}>\n              <InputLabel variant=\"outlined\" id=\"sketch-select-precision-label\">\n                Mätprecision\n              </InputLabel>\n              <Select\n                id=\"sketch-select-precision\"\n                labelId=\"sketch-select-precision-label\"\n                value={measurementSettings.precision ?? 0}\n                label=\"Mätprecision\"\n                variant=\"outlined\"\n                onChange={(e) => {\n                  setMeasurementSettings((settings) => ({\n                    ...settings,\n                    precision: parseInt(e.target.value),\n                  }));\n                }}\n              >\n                {MEASUREMENT_PRECISIONS.map((precision, index) => {\n                  return (\n                    <MenuItem value={precision.value} key={index}>\n                      {precision.name}\n                    </MenuItem>\n                  );\n                })}\n              </Select>\n            </FormControl>\n          </Tooltip>\n        </FormControl>\n      </Grid>\n    </Grid>\n  );\n};\n\nexport default SettingsView;\n","// Base\nimport React from \"react\";\nimport { Grid } from \"@mui/material\";\n// Constants\nimport { PLUGIN_MARGIN, MAX_REMOVED_FEATURES } from \"../constants\";\n// Components\nimport ActivityMenu from \"../components/ActivityMenu\";\n// Views\nimport AddView from \"./AddView\";\nimport SaveView from \"./SaveView\";\nimport UploadView from \"./UploadView\";\nimport DeleteView from \"./DeleteView\";\nimport MoveView from \"./MoveView\";\nimport EditView from \"./EditView\";\nimport SettingsView from \"./SettingsView\";\n// Hooks\nimport useCookieStatus from \"hooks/useCookieStatus\";\nimport useUpdateEffect from \"hooks/useUpdateEffect\";\n\nimport { useSnackbar } from \"notistack\";\n\n// The SketchView is the main view for the Sketch-plugin.\nconst SketchView = (props) => {\n  // We want to render the ActivityMenu on the same side as the plugin\n  // is rendered (left or right). Let's grab the prop stating where it is rendered!\n  const pluginPosition = props.options?.position ?? \"left\";\n  // We are going to be using the sketch-, kml-, and draw-model. Let's destruct them.\n  const { model, drawModel, kmlModel } = props;\n  // We are gonna need the local- and global-observer\n  const { localObserver, globalObserver } = props;\n  // The current draw-type is also required, along with it's set:er.\n  const { activeDrawType, setActiveDrawType } = props;\n  // We're gonna need to keep track of the current chosen activity.\n  const { activityId, setActivityId } = props;\n\n  // We're gonna need some snackbar functions so that we can prompt the user with information.\n  const { closeSnackbar, enqueueSnackbar } = useSnackbar();\n  // We don't want to prompt the user with more than one snack, so lets track the current one,\n  // so that we can close it when another one is about to open.\n  const helperSnack = React.useRef(null);\n\n  // We're gonna need to keep track of some draw-styling...\n  const [drawStyle, setDrawStyle] = React.useState(\n    model.getDrawStyleSettings()\n  );\n  // ...and some text-styling.\n  const [textStyle, setTextStyle] = React.useState(\n    model.getTextStyleSettings()\n  );\n  // We want to keep track of the last removed features so that the user can restore\n  // features that they potentially removed by mistake.\n  const [removedFeatures, setRemovedFeatures] = React.useState(\n    model.getRemovedFeaturesFromStorage()\n  );\n  // We want to keep track of the recently imported kml-files so that the user can remove or hide\n  // all features from an imported kml-file.The array will contain objects with an id (this id will\n  // be present on each feature from that kml-file as well) along with a title that can be shown to the user.\n  const [uploadedFiles, setUploadedFiles] = React.useState([]);\n  // We're gonna need to keep track of if we're allowed to save stuff in LS. Let's use the hook.\n  const { functionalCookiesOk } = useCookieStatus(globalObserver);\n\n  // Checks that every entry in the array of uploaded files still\n  // has some features in the map. If it doesn't, the entry is removed.\n  const refreshUploadsList = React.useCallback(() => {\n    const refreshedUploadsList = uploadedFiles.filter((file) => {\n      return kmlModel.importedKmlStillHasFeatures(file.id);\n    });\n    setUploadedFiles(refreshedUploadsList);\n  }, [kmlModel, uploadedFiles]);\n\n  // Handler making sure to keep the removed features updated when a new feature is removed.\n  const handleFeatureRemoved = React.useCallback(\n    (feature) => {\n      // If the user has chosen not to accept functional cookies, we cannot save the recently\n      // removed feature. In that case, let's return right away.\n      if (!functionalCookiesOk) {\n        return;\n      }\n      // There are some special cases where the removed feature should not be added\n      // to the list of removed features. More information can be found in the method\n      // declaration.\n      if (!model.featureShouldBeAddedToStorage(feature)) {\n        return;\n      }\n      // We're gonna need to decorate the removed feature so that we can keep track of it.\n      model.decorateFeature(feature);\n      // We have to make sure to update the local storage with the newly removed feature so that\n      // the removed features are kept between sessions.\n      model.addFeatureToStorage(feature);\n      // Then we'll update the state\n      setRemovedFeatures(\n        [feature, ...removedFeatures].slice(0, MAX_REMOVED_FEATURES)\n      );\n      // We also have to make sure to remove eventual uploads where all its features\n      // has been removed. (It does not make sense to have a list of imports where all the\n      // features from the import has been removed).\n      refreshUploadsList();\n    },\n    [model, removedFeatures, functionalCookiesOk, refreshUploadsList]\n  );\n\n  // Handler making sure to keep the removed features updated when the user has pressed \"removed all features\".\n  const handleFeaturesRemoved = React.useCallback(\n    (features) => {\n      // If the user has chosen not to accept functional cookies, we cannot save the recently\n      // removed feature. In that case, let's return right away.\n      if (!functionalCookiesOk) {\n        return;\n      }\n      // Since we might be dealing with thousands of features removed at the same time, we make sure\n      // to grab only the first \"MAX_REMOVED_FEATURES\" (around 5). (While also ignoring hidden features).\n      const lastRemovedFeatures = features\n        .filter((f) => f.get(\"HIDDEN\") !== true)\n        .slice(0, MAX_REMOVED_FEATURES);\n      // Then we'll loop over these features and decorate them with id:s and dates.\n      for (const feature of lastRemovedFeatures) {\n        // We're gonna need to decorate the removed feature so that we can keep track of it.\n        model.decorateFeature(feature);\n        // We have to make sure to update the local storage with the newly removed feature so that\n        // the removed features are kept between sessions.\n        model.addFeatureToStorage(feature);\n      }\n      // Since we might _not_ be dealing with enough features to fill the list of removed features,\n      // we have to make sure to merge the features that were just deleted with the features that\n      // we might have from earlier, and then extract the last \"MAX_REMOVED_FEATURES\" of them.\n      const removedFeaturesToShow = [\n        ...lastRemovedFeatures,\n        ...removedFeatures,\n      ].slice(0, MAX_REMOVED_FEATURES);\n      // Then we'll update the state.\n      setRemovedFeatures(removedFeaturesToShow);\n      // We also have to make sure to remove eventual uploads where all its features\n      // has been removed. (It does not make sense to have a list of imports where all the\n      // features from the import has been removed).\n      refreshUploadsList();\n    },\n    [model, removedFeatures, functionalCookiesOk, refreshUploadsList]\n  );\n\n  // Handler for when a feature is added to the draw-source via the addFeature-method\n  // in the drawModel.\n  const handleFeatureAdded = React.useCallback(\n    (feature) => {\n      // We only care about features that contain the \"HANDLED_ID\"-prop (which basically) means\n      // we're dealing with a feature that was removed at an earlier stage, and is now being restored.\n      const handledId = feature.get(\"HANDLED_ID\");\n      if (handledId) {\n        // If we're restoring a feature from the list of removed features, we have to update the list\n        // of removed features obviously.\n        setRemovedFeatures(\n          removedFeatures.filter((f) => f.get(\"HANDLED_ID\") !== handledId)\n        );\n        // We also have to remove the restored feature from the storage\n        model.removeFeatureFromStorage(handledId);\n      }\n    },\n    [model, removedFeatures]\n  );\n\n  // Handles when a kml-file has been added to the map via the drag-and-drop\n  // functionality. Makes sure to update the state containing the uploaded files.\n  const handleKmlFileImported = React.useCallback(\n    ({ id }) => {\n      setUploadedFiles((files) => [\n        ...files,\n        {\n          id,\n          title: model.getDateTimeString({\n            hour: \"numeric\",\n            minute: \"numeric\",\n            second: \"numeric\",\n          }),\n          hidden: false,\n          textShown: true,\n        },\n      ]);\n    },\n    [model]\n  );\n\n  // This effect makes sure to update the draw-style-settings in the draw-model when\n  // the user changes the style-settings in the view.\n  React.useEffect(() => {\n    return drawModel.setDrawStyleSettings(drawStyle);\n  }, [drawModel, drawStyle]);\n\n  // This effect makes sure to update the text-style-settings in the draw-model when\n  // the user changes the text-style-settings in the view.\n  React.useEffect(() => {\n    return drawModel.setTextStyleSettings(textStyle);\n  }, [drawModel, textStyle]);\n\n  // This effect makes sure to save the draw-style-settings to the LS when it\n  // changes. (Only if functional cookies are allowed obviously).\n  React.useEffect(() => {\n    functionalCookiesOk && model.setStoredDrawStyleSettings(drawStyle);\n  }, [drawStyle, functionalCookiesOk, model]);\n\n  // This effect makes sure to save the text-style-settings to the LS when it\n  // changes. (Only if functional cookies are allowed obviously).\n  React.useEffect(() => {\n    functionalCookiesOk && model.setStoredTextStyleSettings(textStyle);\n  }, [textStyle, functionalCookiesOk, model]);\n\n  // This effect does not run on first render. (Otherwise the user would be\n  // prompted with information before they've even started using the plugin).\n  // If it's not the first render, the effect makes sure to prompt the user\n  // with information when they change the current activity or draw-type.\n  useUpdateEffect(() => {\n    // Let's check if there's some helper-text that we should prompt the user with.\n    const helperText = model.getHelperSnackText(activityId, activeDrawType);\n    // If there is, we can prompt the user with a snack.\n    if (helperText) {\n      helperSnack.current = enqueueSnackbar(helperText, {\n        variant: \"default\",\n        anchorOrigin: { vertical: \"bottom\", horizontal: \"center\" },\n      });\n    }\n    // Let's make sure to clean-up out current snack when un-mounting!\n    return () => {\n      closeSnackbar(helperSnack.current);\n    };\n  }, [activityId, activeDrawType, enqueueSnackbar, closeSnackbar]);\n\n  // This effect makes sure to subscribe (and unsubscribe) to the observer-events that we care about.\n  React.useEffect(() => {\n    // Fires when a feature has been removed from the draw-source.\n    localObserver.subscribe(\"drawModel.featureRemoved\", handleFeatureRemoved);\n    localObserver.subscribe(\"drawModel.featuresRemoved\", handleFeaturesRemoved);\n    localObserver.subscribe(\"drawModel.featureAdded\", handleFeatureAdded);\n    localObserver.subscribe(\"kmlModel.fileImported\", handleKmlFileImported);\n    return () => {\n      localObserver.unsubscribe(\"drawModel.featureRemoved\");\n      localObserver.unsubscribe(\"drawModel.featuresRemoved\");\n      localObserver.unsubscribe(\"drawModel.featureAdded\");\n      localObserver.unsubscribe(\"kmlModel.fileImported\");\n    };\n  }, [\n    activityId,\n    localObserver,\n    handleFeatureRemoved,\n    handleFeaturesRemoved,\n    handleFeatureAdded,\n    handleKmlFileImported,\n  ]);\n\n  // The current view depends on which tab the user has\n  // selected. Tab 0: The \"create-view\", Tab 1: The \"save-upload-view\".\n  const renderCurrentView = () => {\n    // Let's check which activity we're supposed to render!\n    switch (activityId) {\n      case \"ADD\":\n        return (\n          <AddView\n            id={activityId}\n            model={model}\n            localObserver={localObserver}\n            drawModel={drawModel}\n            activeDrawType={activeDrawType}\n            setActiveDrawType={setActiveDrawType}\n            drawStyle={drawStyle}\n            setDrawStyle={setDrawStyle}\n            textStyle={textStyle}\n            setTextStyle={setTextStyle}\n          />\n        );\n      case \"DELETE\":\n        return (\n          <DeleteView\n            id={activityId}\n            model={model}\n            drawModel={drawModel}\n            removedFeatures={removedFeatures}\n            globalObserver={globalObserver}\n            functionalCookiesOk={functionalCookiesOk}\n          />\n        );\n      case \"EDIT\":\n        return (\n          <EditView\n            id={activityId}\n            model={model}\n            drawModel={drawModel}\n            editFeature={props.editFeature}\n            modifyEnabled={props.modifyEnabled}\n            setModifyEnabled={props.setModifyEnabled}\n          />\n        );\n      case \"MOVE\":\n        return (\n          <MoveView\n            id={activityId}\n            model={model}\n            drawModel={drawModel}\n            translateEnabled={props.translateEnabled}\n            setTranslateEnabled={props.setTranslateEnabled}\n            moveFeatures={props.moveFeatures}\n          />\n        );\n      case \"SAVE\":\n        return (\n          <SaveView\n            id={activityId}\n            model={model}\n            drawModel={drawModel}\n            globalObserver={globalObserver}\n            functionalCookiesOk={functionalCookiesOk}\n          />\n        );\n      case \"UPLOAD\":\n        return (\n          <UploadView\n            id={activityId}\n            model={model}\n            drawModel={drawModel}\n            kmlModel={kmlModel}\n            uploadedFiles={uploadedFiles}\n            setUploadedFiles={setUploadedFiles}\n          />\n        );\n      case \"SETTINGS\":\n        return (\n          <SettingsView\n            id={activityId}\n            model={model}\n            functionalCookiesOk={functionalCookiesOk}\n            measurementSettings={props.measurementSettings}\n            setMeasurementSettings={props.setMeasurementSettings}\n            globalObserver={globalObserver}\n          />\n        );\n      default:\n        return null;\n    }\n  };\n\n  const renderBaseWindowLeft = () => {\n    return (\n      // The base plugin-window (in which we render the plugins) has a padding\n      // of 10 set. In this plugin we want to render the <ActivityMenu /> at the\n      // border of the window, hence we must set a negative margin-left of 10.\n      <Grid container>\n        <Grid item xs={3} style={{ marginLeft: -PLUGIN_MARGIN }}>\n          <ActivityMenu\n            pluginPosition={pluginPosition}\n            activityId={activityId}\n            setActivityId={setActivityId}\n          />\n        </Grid>\n        <Grid item xs={9}>\n          {renderCurrentView()}\n        </Grid>\n      </Grid>\n    );\n  };\n\n  const renderBaseWindowRight = () => {\n    return (\n      // The base plugin-window (in which we render the plugins) has a padding\n      // of 10 set. In this plugin we want to render the <ActivityMenu /> at the\n      // border of the window, hence we must set a negative margin-right of 10.\n      <Grid container justifyContent=\"flex-end\">\n        <Grid item xs={9}>\n          {renderCurrentView()}\n        </Grid>\n        <Grid item xs={3} style={{ marginRight: -PLUGIN_MARGIN }}>\n          <ActivityMenu\n            pluginPosition={pluginPosition}\n            activityId={activityId}\n            setActivityId={setActivityId}\n          />\n        </Grid>\n      </Grid>\n    );\n  };\n\n  // We want the ActivityMenu to be rendered in a place where it doesn't\n  // conflict with other user interactions. Therefore, we're rendering either\n  // all the way to the left (if the plugin is rendered on the left part of the\n  // screen), otherwise, we render it all the way to the right.\n  return pluginPosition === \"left\"\n    ? renderBaseWindowLeft()\n    : renderBaseWindowRight();\n};\n\nexport default SketchView;\n","import React from \"react\";\nimport { styled } from \"@mui/material\";\nimport { Button, Grid, Tooltip, Typography } from \"@mui/material\";\nimport { IconButton, Zoom, Paper } from \"@mui/material\";\n\nimport FolderOpenIcon from \"@mui/icons-material/FolderOpen\";\nimport SaveAltIcon from \"@mui/icons-material/SaveAlt\";\nimport DeleteIcon from \"@mui/icons-material/Delete\";\nimport VisibilityOffIcon from \"@mui/icons-material/VisibilityOff\";\nimport VisibilityIcon from \"@mui/icons-material/Visibility\";\nimport TextDecreaseIcon from \"@mui/icons-material/TextDecrease\";\nimport TextIncreaseIcon from \"@mui/icons-material/TextIncrease\";\n\nimport Information from \"../components/Information\";\nimport UploadDialog from \"../components/UploadDialog\";\n\nconst StyledPaper = styled(Paper)(({ theme }) => ({\n  width: \"100%\",\n  padding: theme.spacing(1),\n  marginBottom: theme.spacing(1),\n  borderRight: `${theme.spacing(0.5)} solid ${theme.palette.info.main}`,\n  borderLeft: `${theme.spacing(0.5)} solid ${theme.palette.info.main}`,\n}));\n\nconst ButtonPanel = ({ kmlModel, setDialogOpen }) => {\n  return (\n    <Grid container spacing={1}>\n      <Grid item xs={12}>\n        <Tooltip\n          disableInteractive\n          title=\"Klicka för att öppna en dialog där du kan välja en .kml-fil från din dator.\"\n        >\n          <Button\n            fullWidth\n            variant=\"contained\"\n            onClick={() => setDialogOpen(true)}\n            startIcon={<FolderOpenIcon />}\n          >\n            Importera ritobjekt\n          </Button>\n        </Tooltip>\n      </Grid>\n      <Grid item xs={12}>\n        <Tooltip\n          disableInteractive\n          title=\"Klicka för att exportera alla ritobjekt till en .kml-fil.\"\n        >\n          <Button\n            fullWidth\n            variant=\"contained\"\n            onClick={() => kmlModel.export()}\n            startIcon={<SaveAltIcon />}\n          >\n            Exportera ritobjekt\n          </Button>\n        </Tooltip>\n      </Grid>\n    </Grid>\n  );\n};\n\nconst UploadedFile = (props) => {\n  return (\n    <Zoom in appear>\n      <StyledPaper>\n        <Grid container justifyContent=\"space-between\" alignItems=\"center\">\n          <Grid item xs={4}>\n            <Typography variant=\"button\">{props.title}</Typography>\n          </Grid>\n          <Grid container item xs={8} justifyContent=\"flex-end\" spacing={1}>\n            <Grid item>\n              <Tooltip\n                disableInteractive\n                title=\"Klicka för att ta bort de importerade objekten.\"\n              >\n                <IconButton size=\"small\" onClick={props.onRemoveClick}>\n                  <DeleteIcon />\n                </IconButton>\n              </Tooltip>\n            </Grid>\n            <Grid item>\n              <Tooltip\n                disableInteractive\n                title={`Klicka för att ${\n                  props.hidden ? \"visa\" : \"dölja\"\n                } objekten ${props.hidden ? \"i\" : \"från\"} kartan.`}\n              >\n                <IconButton\n                  size=\"small\"\n                  onClick={props.onVisibilityChangeClick}\n                >\n                  {props.hidden ? <VisibilityIcon /> : <VisibilityOffIcon />}\n                </IconButton>\n              </Tooltip>\n            </Grid>\n            <Grid item>\n              <Tooltip\n                disableInteractive\n                title={`Klicka här för att ${\n                  props.textShown ? \"dölja\" : \"visa\"\n                } objektens etiketter.`}\n              >\n                <IconButton size=\"small\" onClick={props.onToggleShowTextClick}>\n                  {props.textShown ? (\n                    <TextDecreaseIcon />\n                  ) : (\n                    <TextIncreaseIcon />\n                  )}\n                </IconButton>\n              </Tooltip>\n            </Grid>\n          </Grid>\n        </Grid>\n      </StyledPaper>\n    </Zoom>\n  );\n};\n\nconst UploadedFileList = (props) => {\n  return (\n    <Grid container style={{ maxHeight: 240, overflowY: \"auto\" }}>\n      <Grid item xs={12}>\n        <Typography variant=\"caption\">Uppladdade filer</Typography>\n      </Grid>\n      <Grid item xs={12}>\n        {props.uploadedFiles.map((file) => {\n          return (\n            <UploadedFile\n              key={file.id}\n              title={file.title}\n              hidden={file.hidden}\n              textShown={file.textShown}\n              onVisibilityChangeClick={() =>\n                props.onVisibilityChangeClick(file.id)\n              }\n              onRemoveClick={() => props.onRemoveClick(file.id)}\n              onToggleShowTextClick={() => props.onToggleShowTextClick(file.id)}\n            />\n          );\n        })}\n      </Grid>\n    </Grid>\n  );\n};\n\nconst UploadView = (props) => {\n  // We're gonna need to keep track of if we should show the upload-dialog or not.\n  const [dialogOpen, setDialogOpen] = React.useState(false);\n\n  // Adds the supplied file (kml-string) to the map and updates the list\n  // of added kml-files.\n  const handleUploadedFile = (file) => {\n    // We're gonna need to generate an id that we can set on all the features\n    // in each file. This id can then be used to find all features that belongs to\n    // a kml-upload.\n    const id = props.model.generateRandomString();\n    // We're also gonna need to generate a date-time-string that can be shown in the list\n    // of uploaded kml-files.\n    const dateTime = props.model.getDateTimeString({\n      hour: \"numeric\",\n      minute: \"numeric\",\n      second: \"numeric\",\n    });\n    // Let's create an object with some meta-data and add it to the list of uploaded files.\n    props.setUploadedFiles((files) => [\n      ...files,\n      { id, title: dateTime, hidden: false, textShown: true },\n    ]);\n    // Then we can add the features to the map!\n    props.kmlModel.import(file, {\n      zoomToExtent: true,\n      setProperties: { KML_ID: id },\n    });\n  };\n\n  const onVisibilityChangeClick = (id) => {\n    const updatedFiles = props.uploadedFiles.map((file) => {\n      if (file.id === id) {\n        return { ...file, hidden: !file.hidden };\n      }\n      return file;\n    });\n    props.drawModel.toggleKmlFeaturesVisibility(id);\n    props.setUploadedFiles(updatedFiles);\n  };\n\n  const onRemoveClick = (id) => {\n    const updatedFiles = props.uploadedFiles.filter((file) => file.id !== id);\n    props.drawModel.removeKmlFeaturesById(id);\n    props.setUploadedFiles(updatedFiles);\n  };\n\n  const onToggleShowTextClick = (id) => {\n    const updatedFiles = props.uploadedFiles.map((file) => {\n      if (file.id === id) {\n        return { ...file, textShown: !file.textShown };\n      }\n      return file;\n    });\n    props.drawModel.toggleKmlFeaturesTextVisibility(id);\n    props.setUploadedFiles(updatedFiles);\n  };\n\n  // We have to get some information about the current activity (view)\n  const activity = props.model.getActivityFromId(props.id);\n  return (\n    <Grid container spacing={2}>\n      <Grid item xs={12}>\n        <Information text={activity.information} />\n      </Grid>\n      <Grid item xs={12}>\n        <ButtonPanel kmlModel={props.kmlModel} setDialogOpen={setDialogOpen} />\n      </Grid>\n      <Grid item xs={12}>\n        {props.uploadedFiles.length > 0 && (\n          <UploadedFileList\n            uploadedFiles={props.uploadedFiles}\n            onVisibilityChangeClick={onVisibilityChangeClick}\n            onRemoveClick={onRemoveClick}\n            onToggleShowTextClick={onToggleShowTextClick}\n          />\n        )}\n      </Grid>\n      <UploadDialog\n        open={dialogOpen}\n        setOpen={setDialogOpen}\n        handleUploadedFile={handleUploadedFile}\n      />\n    </Grid>\n  );\n};\n\nexport default UploadView;\n"],"names":["open","handleConfirm","handleAbort","titleName","contentDescription","cancel","confirm","createPortal","onClose","onMouseDown","e","stopPropagation","onClick","variant","document","getElementById","useCookieStatus","globalObserver","React","functionalCookiesOk","functionalOk","thirdPartyCookiesOk","thirdPartyOk","cookieStatus","setCookieStatus","cookieListener","subscribe","unsubscribe","useUpdateEffect","func","deps","didMount","current","props","container","justifyContent","pluginPosition","elevation","ACTIVITIES","activity","index","style","padding","disableInteractive","title","tooltip","sx","color","value","id","selected","activityId","onChange","setActivityId","icon","fullWidth","size","select","activeDrawType","setActiveDrawType","target","DRAW_TYPES","option","type","width","label","drawModel","localObserver","feature","setFeature","handleFeatureCreated","addedFeature","get","handleCloseClick","textFieldValue","length","removeFeature","set","refreshFeaturesTextStyle","handleAbortClick","options","text","prompt","headerText","buttonText","abortText","onAbort","model","setTitle","getFeatureTitle","setFeatureAttribute","item","xs","marginTop","marginBottom","align","SelectFeaturesDialog","clickedFeatures","selectedFeatureIndexes","highlightedFeature","state","setState","resetState","handleDrawSelectClick","maxHeight","map","disableGutters","onMouseEnter","hoveredFeature","highlightFeature","createHighlightFeature","addFeature","silent","handleMouseEnter","onMouseLeave","featureIndex","newSelectedFeatureIndexes","indexOf","filter","i","handleFeatureSelectChange","dense","edge","checked","tabIndex","disableRipple","primary","getId","disabled","drawSelectedFeature","setOpen","handleUploadedFile","filesChosen","setFilesChosen","handleUploadClick","fileInput","file","reader","FileReader","onload","result","error","console","readAsText","files","handleFileInputChange","name","accept","multiple","useLegacyNonMarkdownRenderer","getActivityFromId","information","drawStyle","setDrawStyle","textStyle","setTextStyle","StyledPaper","styled","Paper","theme","spacing","borderRight","palette","info","main","borderLeft","RecentlyRemovedNotSupported","publish","RemovedFeatureItem","onRestoreClick","Z","in","appear","alignItems","RemovedFeaturesList","removedFeatures","removeDrawnFeatures","startIcon","ModifyNodeToggler","modifyEnabled","setModifyEnabled","direction","height","editFeature","duplicateFeature","reBindFeaturePropertyListener","TranslateToggler","translateEnabled","setTranslateEnabled","FeatureMoveSelector","movementLength","Math","floor","setMovementLength","movementAngle","angle","justifiedAngle","setMovementAngle","moves","lastMoves","pop","translateSelectedFeatures","setLastMoves","moveFeatures","StyledTextWarning","fontSize","letterSpacing","NotSupportedView","SketchSaver","truncatedSketchName","show","replaceWarning","setReplaceWarning","message","saveButtonStateTest","setSaveButtonStateTest","enqueueSnackbar","useSnackbar","handleSaveSketchClick","addCurrentSketchToStorage","sketchName","status","setSavedSketches","getSketchesFromStorage","setSketchName","checkSketchName","exists","savedSketches","some","sketch","toLowerCase","substring","getSaveButtonState","MAX_SKETCHES","maxWidth","onKeyUp","onKeyDown","key","SavedSketch","sketchInfo","handleRemoveClick","handleAddToMapClick","overflow","textOverflow","noWrap","date","split","SavedSketchList","sketchToRemove","setSketchToRemove","addSketchToMap","removeSketchFromStorage","s","equalsIgnoringCase","measurementSettings","setMeasurementSettings","getShowHelperSnacks","showHelperSnacks","setShowHelperSnacks","LocalStorageHelper","STORAGE_KEY","component","focused","showText","control","settings","showArea","showLength","showPerimeter","labelId","areaUnit","AREA_MEASUREMENT_UNITS","unit","lengthUnit","LENGTH_MEASUREMENT_UNITS","precision","parseInt","MEASUREMENT_PRECISIONS","position","kmlModel","closeSnackbar","helperSnack","getDrawStyleSettings","getTextStyleSettings","getRemovedFeaturesFromStorage","setRemovedFeatures","uploadedFiles","setUploadedFiles","refreshUploadsList","refreshedUploadsList","importedKmlStillHasFeatures","handleFeatureRemoved","featureShouldBeAddedToStorage","decorateFeature","addFeatureToStorage","slice","MAX_REMOVED_FEATURES","handleFeaturesRemoved","features","lastRemovedFeatures","f","removedFeaturesToShow","handleFeatureAdded","handledId","removeFeatureFromStorage","handleKmlFileImported","getDateTimeString","hour","minute","second","hidden","textShown","setDrawStyleSettings","setTextStyleSettings","setStoredDrawStyleSettings","setStoredTextStyleSettings","helperText","getHelperSnackText","anchorOrigin","vertical","horizontal","renderCurrentView","marginLeft","PLUGIN_MARGIN","marginRight","ButtonPanel","setDialogOpen","export","UploadedFile","onRemoveClick","onVisibilityChangeClick","onToggleShowTextClick","UploadedFileList","overflowY","dialogOpen","updatedFiles","toggleKmlFeaturesVisibility","removeKmlFeaturesById","toggleKmlFeaturesTextVisibility","generateRandomString","dateTime","import","zoomToExtent","setProperties","KML_ID"],"sourceRoot":""}