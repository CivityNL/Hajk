{"version":3,"file":"static/js/8574.0fd52d87.chunk.js","mappings":"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","sources":["plugins/Collector/CollectorView.js","plugins/Collector/components/CollectorForm.js"],"sourcesContent":["import React, { Component } from \"react\";\nimport CollectorForm from \"./components/CollectorForm.js\";\nimport \"./style.css\";\n\nclass CollectorView extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {};\n    this.model = props.model;\n  }\n\n  componentDidMount() {}\n\n  onClose = () => {\n    this.props.onClose();\n  };\n\n  render() {\n    return (\n      <CollectorForm\n        localObserver={this.props.localObserver}\n        model={this.model}\n        onClose={this.onClose}\n        form={this.props.form}\n        serviceConfig={this.props.serviceConfig}\n        options={this.props.options}\n      />\n    );\n  }\n}\n\nexport default CollectorView;\n","import React, { Component } from \"react\";\nimport { styled } from \"@mui/material/styles\";\nimport Page from \"./Page.js\";\nimport Typography from \"@mui/material/Typography\";\n\nconst SaveErrorTextWrapper = styled(\"div\")(({ theme }) => ({\n  color: theme.palette.error.contrastText,\n  background: theme.palette.error.main,\n  marginTop: \"15px\",\n  borderRadius: theme.shape.borderRadius,\n  padding: \"5px\",\n}));\n\nconst ErrorTypography = styled(Typography)(({ theme }) => ({\n  color: theme.palette.text.primary,\n}));\n\nconst saveErrorText = \"Fel - din kommentar gick inte att spara.\";\n//const validationErrorText = \" - detta fält krävs\";\nclass CollectorForm extends Component {\n  state = {\n    comment: \"\",\n    saveError: \"\",\n    validationError: \"\",\n    form: [],\n    displayPlace: false,\n    activePage: 0,\n    direction: \"right\",\n  };\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      ...this.state,\n      form: props.form,\n    };\n\n    props.model.observer.subscribe(\"abort\", () => {\n      this.abort();\n    });\n\n    props.model.observer.subscribe(\"reset\", () => {\n      // Set the page indicator to -1. This will reset the form properly.\n      // Then set the page indicator to 0 to display the first page.\n      // Just setting the flag to 0 will not reset the form if there is only one page.\n      this.setState(\n        {\n          activePage: -1,\n        },\n        () => {\n          this.setState({\n            activePage: 0,\n          });\n        }\n      );\n    });\n  }\n\n  componentDidMount() {\n    if (!this.props.model.serviceConfig) {\n      this.setState({\n        configurationError: true,\n      });\n    }\n  }\n\n  saveError = (text) => {\n    this.setState({\n      saveError: text || saveErrorText,\n    });\n  };\n\n  renderSaveError() {\n    return this.state.saveError ? (\n      <SaveErrorTextWrapper>{this.state.saveError}</SaveErrorTextWrapper>\n    ) : null;\n  }\n\n  abort = () => {\n    this.props.onClose();\n  };\n\n  render() {\n    const { activePage, direction } = this.state;\n    const { form, serviceConfig } = this.props;\n    if (this.state.configurationError) {\n      return (\n        <ErrorTypography>\n          Nödvändig konfiguration saknas. Verktyget kan inte användas för\n          tillfället.\n        </ErrorTypography>\n      );\n    } else {\n      return form\n        .sort((p1, p2) =>\n          p1.order === p2.order ? 0 : p1.order > p2.order ? 1 : -1\n        )\n        .map(\n          (page, i) =>\n            activePage === page.order && (\n              <Page\n                key={i}\n                serviceConfig={serviceConfig}\n                model={this.props.model}\n                active={activePage === page.order}\n                numPages={form.length}\n                page={page}\n                direction={direction}\n                options={this.props.options}\n                onNextPage={() => {\n                  this.setState({\n                    activePage: activePage + 1,\n                    direction: \"left\",\n                  });\n                }}\n                onPrevPage={() => {\n                  this.setState({\n                    activePage: activePage - 1,\n                    direction: \"right\",\n                  });\n                }}\n              ></Page>\n            )\n        );\n    }\n  }\n}\n\nexport default CollectorForm;\n"],"names":["CollectorView","props","onClose","state","model","CollectorForm","localObserver","this","form","serviceConfig","options","Component","SaveErrorTextWrapper","styled","theme","color","palette","error","contrastText","background","main","marginTop","borderRadius","shape","padding","ErrorTypography","Typography","text","primary","comment","saveError","validationError","displayPlace","activePage","direction","setState","abort","observer","subscribe","configurationError","sort","p1","p2","order","map","page","i","active","numPages","length","onNextPage","onPrevPage"],"sourceRoot":""}