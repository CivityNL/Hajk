{"version":3,"file":"static/js/1041.ad50c51c.chunk.js","mappings":"wOAKMA,GAAuBC,EAAAA,EAAAA,IAAO,MAAPA,EAAc,gBAAGC,EAAH,EAAGA,MAAH,MAAgB,CACzDC,MAAOD,EAAME,QAAQC,MAAMC,aAC3BC,WAAYL,EAAME,QAAQC,MAAMG,KAChCC,UAAW,OACXC,aAAcR,EAAMS,MAAMD,aAC1BE,QAAS,MALgC,IAQrCC,GAAkBZ,EAAAA,EAAAA,IAAOa,EAAAA,EAAPb,EAAmB,kBAAgB,CACzDE,MADyC,EAAGD,MAC/BE,QAAQW,KAAKC,QADe,IAMrCC,EAAAA,SAAAA,IAAAA,EAAAA,EAAAA,GAAAA,EAAAA,GAAAA,IAAAA,GAAAA,EAAAA,EAAAA,GAAAA,GAWJ,WAAYC,GAAQ,IAAD,yBACjB,cAAMA,IAXRC,MAAQ,CACNC,QAAS,GACTC,UAAW,GACXC,gBAAiB,GACjBC,KAAM,GACNC,cAAc,EACdC,WAAY,EACZC,UAAW,SAGM,EAqCnBL,UAAY,SAACN,GACX,EAAKY,SAAS,CACZN,UAAWN,GApDK,4CAsDnB,EAzCkB,EAiDnBa,MAAQ,WACN,EAAKV,MAAMW,SACZ,EAhDC,EAAKV,OAAL,kBACK,EAAKA,OADV,IAEEI,KAAML,EAAMK,OAGdL,EAAMY,MAAMC,SAASC,UAAU,SAAS,WACtC,EAAKJ,OACN,IAEDV,EAAMY,MAAMC,SAASC,UAAU,SAAS,WAItC,EAAKL,SACH,CACEF,YAAa,IAEf,WACE,EAAKE,SAAS,CACZF,WAAY,GAEf,GAEJ,IA1BgB,CA2BlB,CAqEA,OArEA,yCAED,WACOQ,KAAKf,MAAMY,MAAMI,eACpBD,KAAKN,SAAS,CACZQ,oBAAoB,GAGzB,gCAQD,WACE,OAAOF,KAAKd,MAAME,WAChB,SAACrB,EAAD,UAAuBiC,KAAKd,MAAME,YAChC,IACL,uBAMD,WAAU,IAAD,OACP,EAAkCY,KAAKd,MAA/BM,EAAR,EAAQA,WAAYC,EAApB,EAAoBA,UACpB,EAAgCO,KAAKf,MAA7BK,EAAR,EAAQA,KAAMW,EAAd,EAAcA,cACd,OAAID,KAAKd,MAAMgB,oBAEX,SAACtB,EAAD,yGAMKU,EACJa,MAAK,SAACC,EAAIC,GAAL,OACJD,EAAGE,QAAUD,EAAGC,MAAQ,EAAIF,EAAGE,MAAQD,EAAGC,MAAQ,GAAK,CADnD,IAGLC,KACC,SAACC,EAAMC,GAAP,OACEjB,IAAegB,EAAKF,QAClB,SAAC,UAAD,CAEEL,cAAeA,EACfJ,MAAO,EAAKZ,MAAMY,MAClBa,OAAQlB,IAAegB,EAAKF,MAC5BK,SAAUrB,EAAKsB,OACfJ,KAAMA,EACNf,UAAWA,EACXoB,QAAS,EAAK5B,MAAM4B,QACpBC,WAAY,WACV,EAAKpB,SAAS,CACZF,WAAYA,EAAa,EACzBC,UAAW,QAEd,EACDsB,WAAY,WACV,EAAKrB,SAAS,CACZF,WAAYA,EAAa,EACzBC,UAAW,SAEd,GAnBIgB,EAHX,GA2BP,OA3GGzB,CAAsBgC,EAAAA,WA8G5B,W","sources":["plugins/Collector/components/CollectorForm.js"],"sourcesContent":["import React, { Component } from \"react\";\nimport { styled } from \"@mui/material/styles\";\nimport Page from \"./Page.js\";\nimport Typography from \"@mui/material/Typography\";\n\nconst SaveErrorTextWrapper = styled(\"div\")(({ theme }) => ({\n  color: theme.palette.error.contrastText,\n  background: theme.palette.error.main,\n  marginTop: \"15px\",\n  borderRadius: theme.shape.borderRadius,\n  padding: \"5px\",\n}));\n\nconst ErrorTypography = styled(Typography)(({ theme }) => ({\n  color: theme.palette.text.primary,\n}));\n\nconst saveErrorText = \"Fel - din kommentar gick inte att spara.\";\n//const validationErrorText = \" - detta fält krävs\";\nclass CollectorForm extends Component {\n  state = {\n    comment: \"\",\n    saveError: \"\",\n    validationError: \"\",\n    form: [],\n    displayPlace: false,\n    activePage: 0,\n    direction: \"right\",\n  };\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      ...this.state,\n      form: props.form,\n    };\n\n    props.model.observer.subscribe(\"abort\", () => {\n      this.abort();\n    });\n\n    props.model.observer.subscribe(\"reset\", () => {\n      // Set the page indicator to -1. This will reset the form properly.\n      // Then set the page indicator to 0 to display the first page.\n      // Just setting the flag to 0 will not reset the form if there is only one page.\n      this.setState(\n        {\n          activePage: -1,\n        },\n        () => {\n          this.setState({\n            activePage: 0,\n          });\n        }\n      );\n    });\n  }\n\n  componentDidMount() {\n    if (!this.props.model.serviceConfig) {\n      this.setState({\n        configurationError: true,\n      });\n    }\n  }\n\n  saveError = (text) => {\n    this.setState({\n      saveError: text || saveErrorText,\n    });\n  };\n\n  renderSaveError() {\n    return this.state.saveError ? (\n      <SaveErrorTextWrapper>{this.state.saveError}</SaveErrorTextWrapper>\n    ) : null;\n  }\n\n  abort = () => {\n    this.props.onClose();\n  };\n\n  render() {\n    const { activePage, direction } = this.state;\n    const { form, serviceConfig } = this.props;\n    if (this.state.configurationError) {\n      return (\n        <ErrorTypography>\n          Nödvändig konfiguration saknas. Verktyget kan inte användas för\n          tillfället.\n        </ErrorTypography>\n      );\n    } else {\n      return form\n        .sort((p1, p2) =>\n          p1.order === p2.order ? 0 : p1.order > p2.order ? 1 : -1\n        )\n        .map(\n          (page, i) =>\n            activePage === page.order && (\n              <Page\n                key={i}\n                serviceConfig={serviceConfig}\n                model={this.props.model}\n                active={activePage === page.order}\n                numPages={form.length}\n                page={page}\n                direction={direction}\n                options={this.props.options}\n                onNextPage={() => {\n                  this.setState({\n                    activePage: activePage + 1,\n                    direction: \"left\",\n                  });\n                }}\n                onPrevPage={() => {\n                  this.setState({\n                    activePage: activePage - 1,\n                    direction: \"right\",\n                  });\n                }}\n              ></Page>\n            )\n        );\n    }\n  }\n}\n\nexport default CollectorForm;\n"],"names":["SaveErrorTextWrapper","styled","theme","color","palette","error","contrastText","background","main","marginTop","borderRadius","shape","padding","ErrorTypography","Typography","text","primary","CollectorForm","props","state","comment","saveError","validationError","form","displayPlace","activePage","direction","setState","abort","onClose","model","observer","subscribe","this","serviceConfig","configurationError","sort","p1","p2","order","map","page","i","active","numPages","length","options","onNextPage","onPrevPage","Component"],"sourceRoot":""}