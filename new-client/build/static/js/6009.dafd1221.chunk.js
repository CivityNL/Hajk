"use strict";(self.webpackChunkhajk_client=self.webpackChunkhajk_client||[]).push([[6009,6296,4673,9059],{84673:function(e,n,t){t.r(n);t(72791);var i=t(56650),r=t(4565),o=t(80184);n.default=function(e){var n=e.text;return(0,o.jsx)(i.Z,{style:{width:"100%",padding:8},children:(0,o.jsx)(r.Z,{align:"center",variant:"body2",children:n})})}},39059:function(e,n,t){t.r(n);var i=t(15861),r=t(29439),o=t(16296),a=t(64687),l=t.n(a),s=t(72791),c=t(54164),d=t(49392),u=t(80184);n.default=function(e){var n=e.open,t=e.setOpen,a=e.handleUploadedFile,h=s.useState(!1),f=(0,r.Z)(h,2),x=f[0],p=f[1],m=s.useCallback((0,i.Z)(l().mark((function e(){var n,i,r,s,c,d,u;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,n=document.getElementById("kml-file-input"),i=!1,r=!1,e.prev=4,c=function(){var e=u.value,n=new FileReader;n.onload=function(){try{a(n.result)}catch(e){console.error("Failed to import kml-file. Error: ".concat(e))}},n.readAsText(e)},d=(0,o.Z)(n.files);case 7:return e.next=9,d.next();case 9:if(!(i=!(u=e.sent).done)){e.next=14;break}c();case 11:i=!1,e.next=7;break;case 14:e.next=20;break;case 16:e.prev=16,e.t0=e.catch(4),r=!0,s=e.t0;case 20:if(e.prev=20,e.prev=21,!i||null==d.return){e.next=25;break}return e.next=25,d.return();case 25:if(e.prev=25,!r){e.next=28;break}throw s;case 28:return e.finish(25);case 29:return e.finish(20);case 30:e.next=35;break;case 32:e.prev=32,e.t1=e.catch(0),console.error("Failed to import kml-files. Error: ".concat(e.t1));case 35:t(!1),p(!1);case 37:case"end":return e.stop()}}),e,null,[[0,32],[4,16,20,30],[21,,25,29]])}))),[t,a]),v=s.useCallback((function(){t(!1)}),[t]),j=s.useCallback((function(e){var n=document.getElementById("kml-file-input");p(n.files.length>0)}),[]);return(0,c.createPortal)((0,u.jsx)(d.default,{options:{headerText:"Ladda upp .kml-filer",buttonText:x?"Ladda upp":null,abortText:"Avbryt",text:(0,u.jsx)("input",{type:"file",name:"files[]",accept:".kml",multiple:!0,id:"kml-file-input",onChange:j}),useLegacyNonMarkdownRenderer:!0},open:n,onClose:m,onAbort:v}),document.getElementById("map"))}},46009:function(e,n,t){t.r(n);var i=t(1413),r=t(93433),o=t(29439),a=t(72791),l=t(76863),s=t(45953),c=t(75814),d=t(61091),u=t(4565),h=t(56650),f=t(90069),x=t(13811),p=t(8014),m=t(16346),v=t(27247),j=t(20165),Z=t(3746),k=t(27392),g=t(25891),b=t(84673),y=t(39059),C=t(80184),w=(0,l.ZP)(h.Z)((function(e){var n=e.theme;return{width:"100%",padding:n.spacing(1),marginBottom:n.spacing(1),borderRight:"".concat(n.spacing(.5)," solid ").concat(n.palette.info.main),borderLeft:"".concat(n.spacing(.5)," solid ").concat(n.palette.info.main)}})),E=function(e){var n=e.kmlModel,t=e.setDialogOpen;return(0,C.jsxs)(s.ZP,{container:!0,spacing:1,children:[(0,C.jsx)(s.ZP,{item:!0,xs:12,children:(0,C.jsx)(c.Z,{disableInteractive:!0,title:"Klicka f\xf6r att \xf6ppna en dialog d\xe4r du kan v\xe4lja en .kml-fil fr\xe5n din dator.",children:(0,C.jsx)(d.Z,{fullWidth:!0,variant:"contained",onClick:function(){return t(!0)},startIcon:(0,C.jsx)(p.Z,{}),children:"Importera ritobjekt"})})}),(0,C.jsx)(s.ZP,{item:!0,xs:12,children:(0,C.jsx)(c.Z,{disableInteractive:!0,title:"Klicka f\xf6r att exportera alla ritobjekt till en .kml-fil.",children:(0,C.jsx)(d.Z,{fullWidth:!0,variant:"contained",onClick:function(){return n.export()},startIcon:(0,C.jsx)(m.Z,{}),children:"Exportera ritobjekt"})})})]})},P=function(e){return(0,C.jsx)(f.Z,{in:!0,appear:!0,children:(0,C.jsx)(w,{children:(0,C.jsxs)(s.ZP,{container:!0,justifyContent:"space-between",alignItems:"center",children:[(0,C.jsx)(s.ZP,{item:!0,xs:4,children:(0,C.jsx)(u.Z,{variant:"button",children:e.title})}),(0,C.jsxs)(s.ZP,{container:!0,item:!0,xs:8,justifyContent:"flex-end",spacing:1,children:[(0,C.jsx)(s.ZP,{item:!0,children:(0,C.jsx)(c.Z,{disableInteractive:!0,title:"Klicka f\xf6r att ta bort de importerade objekten.",children:(0,C.jsx)(x.Z,{size:"small",onClick:e.onRemoveClick,children:(0,C.jsx)(v.Z,{})})})}),(0,C.jsx)(s.ZP,{item:!0,children:(0,C.jsx)(c.Z,{disableInteractive:!0,title:"Klicka f\xf6r att ".concat(e.hidden?"visa":"d\xf6lja"," objekten ").concat(e.hidden?"i":"fr\xe5n"," kartan."),children:(0,C.jsx)(x.Z,{size:"small",onClick:e.onVisibilityChangeClick,children:e.hidden?(0,C.jsx)(Z.Z,{}):(0,C.jsx)(j.Z,{})})})}),(0,C.jsx)(s.ZP,{item:!0,children:(0,C.jsx)(c.Z,{disableInteractive:!0,title:"Klicka h\xe4r f\xf6r att ".concat(e.textShown?"d\xf6lja":"visa"," objektens etiketter."),children:(0,C.jsx)(x.Z,{size:"small",onClick:e.onToggleShowTextClick,children:e.textShown?(0,C.jsx)(k.Z,{}):(0,C.jsx)(g.Z,{})})})})]})]})})})},T=function(e){return(0,C.jsxs)(s.ZP,{container:!0,style:{maxHeight:240,overflowY:"auto"},children:[(0,C.jsx)(s.ZP,{item:!0,xs:12,children:(0,C.jsx)(u.Z,{variant:"caption",children:"Uppladdade filer"})}),(0,C.jsx)(s.ZP,{item:!0,xs:12,children:e.uploadedFiles.map((function(n){return(0,C.jsx)(P,{title:n.title,hidden:n.hidden,textShown:n.textShown,onVisibilityChangeClick:function(){return e.onVisibilityChangeClick(n.id)},onRemoveClick:function(){return e.onRemoveClick(n.id)},onToggleShowTextClick:function(){return e.onToggleShowTextClick(n.id)}},n.id)}))})]})};n.default=function(e){var n=a.useState(!1),t=(0,o.Z)(n,2),l=t[0],c=t[1],d=e.model.getActivityFromId(e.id);return(0,C.jsxs)(s.ZP,{container:!0,spacing:2,children:[(0,C.jsx)(s.ZP,{item:!0,xs:12,children:(0,C.jsx)(b.default,{text:d.information})}),(0,C.jsx)(s.ZP,{item:!0,xs:12,children:(0,C.jsx)(E,{kmlModel:e.kmlModel,setDialogOpen:c})}),(0,C.jsx)(s.ZP,{item:!0,xs:12,children:e.uploadedFiles.length>0&&(0,C.jsx)(T,{uploadedFiles:e.uploadedFiles,onVisibilityChangeClick:function(n){var t=e.uploadedFiles.map((function(e){return e.id===n?(0,i.Z)((0,i.Z)({},e),{},{hidden:!e.hidden}):e}));e.drawModel.toggleKmlFeaturesVisibility(n),e.setUploadedFiles(t)},onRemoveClick:function(n){var t=e.uploadedFiles.filter((function(e){return e.id!==n}));e.drawModel.removeKmlFeaturesById(n),e.setUploadedFiles(t)},onToggleShowTextClick:function(n){var t=e.uploadedFiles.map((function(e){return e.id===n?(0,i.Z)((0,i.Z)({},e),{},{textShown:!e.textShown}):e}));e.drawModel.toggleKmlFeaturesTextVisibility(n),e.setUploadedFiles(t)}})}),(0,C.jsx)(y.default,{open:l,setOpen:c,handleUploadedFile:function(n){var t=e.model.generateRandomString(),i=e.model.getDateTimeString({hour:"numeric",minute:"numeric",second:"numeric"});e.setUploadedFiles((function(e){return[].concat((0,r.Z)(e),[{id:t,title:i,hidden:!1,textShown:!0}])})),e.kmlModel.import(n,{zoomToExtent:!0,setProperties:{KML_ID:t}})}})]})}},8014:function(e,n,t){var i=t(64836);n.Z=void 0;var r=i(t(45649)),o=t(80184),a=(0,r.default)((0,o.jsx)("path",{d:"M20 6h-8l-2-2H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zm0 12H4V8h16v10z"}),"FolderOpen");n.Z=a},16346:function(e,n,t){var i=t(64836);n.Z=void 0;var r=i(t(45649)),o=t(80184),a=(0,r.default)((0,o.jsx)("path",{d:"M19 12v7H5v-7H3v7c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zm-6 .67 2.59-2.58L17 11.5l-5 5-5-5 1.41-1.41L11 12.67V3h2z"}),"SaveAlt");n.Z=a},27392:function(e,n,t){var i=t(64836);n.Z=void 0;var r=i(t(45649)),o=t(80184),a=(0,r.default)((0,o.jsx)("path",{d:"M.99 19h2.42l1.27-3.58h5.65L11.59 19h2.42L8.75 5h-2.5L.99 19zm4.42-5.61L7.44 7.6h.12l2.03 5.79H5.41zM23 11v2h-8v-2h8z"}),"TextDecrease");n.Z=a},25891:function(e,n,t){var i=t(64836);n.Z=void 0;var r=i(t(45649)),o=t(80184),a=(0,r.default)((0,o.jsx)("path",{d:"M.99 19h2.42l1.27-3.58h5.65L11.59 19h2.42L8.75 5h-2.5L.99 19zm4.42-5.61L7.44 7.6h.12l2.03 5.79H5.41zM20 11h3v2h-3v3h-2v-3h-3v-2h3V8h2v3z"}),"TextIncrease");n.Z=a},3746:function(e,n,t){var i=t(64836);n.Z=void 0;var r=i(t(45649)),o=t(80184),a=(0,r.default)((0,o.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"}),"Visibility");n.Z=a},90069:function(e,n,t){var i=t(87462),r=t(63366),o=t(72791),a=t(26752),l=t(74142),s=t(26780),c=t(57933),d=t(80184),u=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],h={entering:{transform:"none"},entered:{transform:"none"}},f=o.forwardRef((function(e,n){var t=(0,l.Z)(),f={enter:t.transitions.duration.enteringScreen,exit:t.transitions.duration.leavingScreen},x=e.addEndListener,p=e.appear,m=void 0===p||p,v=e.children,j=e.easing,Z=e.in,k=e.onEnter,g=e.onEntered,b=e.onEntering,y=e.onExit,C=e.onExited,w=e.onExiting,E=e.style,P=e.timeout,T=void 0===P?f:P,F=e.TransitionComponent,S=void 0===F?a.ZP:F,L=(0,r.Z)(e,u),I=o.useRef(null),z=(0,c.Z)(v.ref,n),M=(0,c.Z)(I,z),R=function(e){return function(n){if(e){var t=I.current;void 0===n?e(t):e(t,n)}}},V=R(b),K=R((function(e,n){(0,s.n)(e);var i=(0,s.C)({style:E,timeout:T,easing:j},{mode:"enter"});e.style.webkitTransition=t.transitions.create("transform",i),e.style.transition=t.transitions.create("transform",i),k&&k(e,n)})),H=R(g),O=R(w),U=R((function(e){var n=(0,s.C)({style:E,timeout:T,easing:j},{mode:"exit"});e.style.webkitTransition=t.transitions.create("transform",n),e.style.transition=t.transitions.create("transform",n),y&&y(e)})),A=R(C);return(0,d.jsx)(S,(0,i.Z)({appear:m,in:Z,nodeRef:I,onEnter:K,onEntered:H,onEntering:V,onExit:U,onExited:A,onExiting:O,addEndListener:function(e){x&&x(I.current,e)},timeout:T},L,{children:function(e,n){return o.cloneElement(v,(0,i.Z)({style:(0,i.Z)({transform:"scale(0)",visibility:"exited"!==e||Z?void 0:"hidden"},h[e],E,v.props.style),ref:M},n))}}))}));n.Z=f},16296:function(e,n,t){function i(e){var n,t,i,o=2;for("undefined"!=typeof Symbol&&(t=Symbol.asyncIterator,i=Symbol.iterator);o--;){if(t&&null!=(n=e[t]))return n.call(e);if(i&&null!=(n=e[i]))return new r(n.call(e));t="@@asyncIterator",i="@@iterator"}throw new TypeError("Object is not async iterable")}function r(e){function n(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var n=e.done;return Promise.resolve(e.value).then((function(e){return{value:e,done:n}}))}return r=function(e){this.s=e,this.n=e.next},r.prototype={s:null,n:null,next:function(){return n(this.n.apply(this.s,arguments))},return:function(e){var t=this.s.return;return void 0===t?Promise.resolve({value:e,done:!0}):n(t.apply(this.s,arguments))},throw:function(e){var t=this.s.return;return void 0===t?Promise.reject(e):n(t.apply(this.s,arguments))}},new r(e)}t.d(n,{Z:function(){return i}})}}]);
//# sourceMappingURL=6009.dafd1221.chunk.js.map