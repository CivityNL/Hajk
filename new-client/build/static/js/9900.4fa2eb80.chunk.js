"use strict";(self.webpackChunkhajk_client=self.webpackChunkhajk_client||[]).push([[9900],{99900:function(e,t,i){i.r(t);var a=i(15671),n=i(43144),r=i(97326),o=i(60136),s=i(29388),l=i(72791),d=i(78467),u=i(5500),c=i(81898),h=i(37924),p=i(93118),v=i(65651),m=i(97985),f=i(13704),g=i(35702),F=i(40508),x=i(45953),j=i(61091),y=i(63381),b=i(53329),k=i(96580),Z=i(4565),T=i(80184),S=function(e){(0,o.Z)(i,e);var t=(0,s.Z)(i);function i(e){var n;return(0,a.Z)(this,i),(n=t.call(this,e)).bindSubscriptions=function(){n.props.observer.subscribe("editFeature",(function(e){n.props.observer.publish("feature-to-update-view",e),n.setState({editFeature:e,editSource:n.props.model.editSource})})),n.props.observer.subscribe("resetView",(function(){n.props.observer.publish("feature-to-update-view",void 0),n.setState({editFeature:void 0,editSource:void 0,activeStep:0,activeTool:void 0})}))},n.handleVectorLoadingDone=function(e){n.setState({loading:!1,loadingError:"data-load-error"===e,activeStep:"data-load-error"===e?0:1})},n.handlePrev=function(){var e=n.state.activeStep-1;0===e?(n.props.model.reset(),n.setState({editFeature:void 0,editSource:void 0,activeStep:0,activeTool:void 0})):n.setState({activeStep:e})},n.handleNext=function(){var e=n.state.activeStep+1;n.setState({activeStep:e})},n.toggleActiveTool=function(e){var t=void 0;e!==n.state.activeTool&&(t=e),n.setState({activeTool:t})},n.getStatusMessage=function(e){return e?e.ExceptionReport?(0,T.jsxs)(Z.Z,{children:["Uppdateringen misslyckades:"," ",e.ExceptionReport.Exception.ExceptionText.toString()]}):e.TransactionResponse&&e.TransactionResponse.TransactionSummary?(0,T.jsxs)("div",{children:[(0,T.jsx)(Z.Z,{children:"Uppdateringen lyckades."}),(0,T.jsxs)(Z.Z,{children:["Antal skapade objekt:"," ",(null===(t=e.TransactionResponse.TransactionSummary.totalInserted)||void 0===t?void 0:t.toString())||0]}),(0,T.jsxs)(Z.Z,{children:["Antal borttagna objekt:"," ",(null===(i=e.TransactionResponse.TransactionSummary.totalDeleted)||void 0===i?void 0:i.toString())||0]}),(0,T.jsxs)(Z.Z,{children:["Antal uppdaterade objekt:"," ",(null===(a=e.TransactionResponse.TransactionSummary.totalUpdated)||void 0===a?void 0:a.toString())||0]})]}):(0,T.jsx)(Z.Z,{children:"Status f\xf6r uppdateringen kunde inte avl\xe4sas ur svaret fr\xe5n servern."}):(0,T.jsx)(Z.Z,{children:"Uppdateringen lyckades men det uppt\xe4cktes inte n\xe5gra \xe4ndringar."});var t,i,a},n.onSaveClicked=function(){var e=n.props,t=e.model,i=e.app;t.save((function(e){!e||!e.ExceptionReport&&e.TransactionResponse?(t.filty=!1,t.refreshEditingLayer(),t.editFeatureBackup=void 0,n.handleNext(),i.globalObserver.publish("core.alert",n.getStatusMessage(e)),n.toggleActiveTool(void 0),t.deactivateInteraction()):(n.props.observer.publish("editFeature",t.editFeatureBackup),i.globalObserver.publish("core.alert",n.getStatusMessage(e)))}))},n.renderToolbar=function(){return(0,T.jsx)(d.default,{ref:"toolbar",editSource:n.state.editSource,model:n.props.model,observer:n.props.observer,app:n.props.app,activeTool:n.state.activeTool,toggleActiveTool:function(e){return n.toggleActiveTool(e)}})},n.renderAttributeEditor=function(){var e=n.state.editSource,t=n.props,i=t.model,a=t.observer;return(0,T.jsx)(u.default,{ref:"attributeEditor",editSource:e,model:i,observer:a,panel:(0,r.Z)(n)})},n.state={sources:e.model.getSources(),editSource:void 0,editFeature:void 0,activeStep:0,activeTool:void 0},n.bindSubscriptions(),n}return(0,n.Z)(i,[{key:"setLayer",value:function(e){this.props.model.reset(),this.setState({loading:!0}),this.props.model.setLayer(e,this.handleVectorLoadingDone)}},{key:"renderSources",value:function(){var e=this,t=this.state,i=t.loadingError,a=t.editSource;return(0,T.jsxs)(c.Z,{variant:"standard",error:i,fullWidth:!0,children:[(0,T.jsx)(F.Z,{variant:"standard",id:"select-source-label",children:"Datak\xe4lla"}),(0,T.jsx)(y.Z,{id:"select-source",variant:"standard",value:(null===a||void 0===a?void 0:a.id)||"",onChange:function(t){e.setLayer(t.target.value)},children:this.state.sources.map((function(e,t){return(0,T.jsx)(g.Z,{value:e.id,children:"".concat(e.caption)},t)}))}),i&&(0,T.jsx)(h.Z,{children:"Fel vid laddning av data. Kontakta systemadministrat\xf6ren."})]})}},{key:"render",value:function(){var e=this.state,t=e.activeStep,i=e.editSource,a=e.editFeature,n=e.loading;return(0,T.jsx)(T.Fragment,{children:(0,T.jsxs)(p.Z,{activeStep:t,orientation:"vertical",children:[(0,T.jsxs)(v.Z,{children:[(0,T.jsx)(m.Z,{children:"V\xe4lj datam\xe4ngd att redigera"}),(0,T.jsx)(f.Z,{children:(0,T.jsx)(x.ZP,{container:!0,spacing:2,direction:"row",children:(0,T.jsx)(x.ZP,{item:!0,xs:12,children:n?(0,T.jsx)(k.Z,{}):this.renderSources()})})})]},"1"),(0,T.jsxs)(v.Z,{children:[(0,T.jsx)(m.Z,{children:1===t?"Redigerar ".concat(null===i||void 0===i?void 0:i.caption):"Redigera"}),(0,T.jsx)(f.Z,{children:(0,T.jsxs)(x.ZP,{container:!0,spacing:2,direction:"row",children:[(0,T.jsxs)(x.ZP,{item:!0,xs:12,children:[this.renderAttributeEditor(),this.renderToolbar()]}),!a&&(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(x.ZP,{item:!0,xs:6,children:(0,T.jsx)(j.Z,{fullWidth:!0,onClick:this.handlePrev,variant:"contained",children:"Bak\xe5t"})}),(0,T.jsx)(x.ZP,{item:!0,xs:6,children:(0,T.jsx)(j.Z,{fullWidth:!0,variant:"contained",endIcon:(0,T.jsx)(b.Z,{}),disabled:!i,color:"primary",onClick:this.onSaveClicked,children:"Spara"})})]})]})})]},"2"),(0,T.jsxs)(v.Z,{children:[(0,T.jsx)(m.Z,{children:"Klart!"}),(0,T.jsx)(f.Z,{children:(0,T.jsx)(x.ZP,{container:!0,spacing:2,direction:"row",children:(0,T.jsx)(x.ZP,{item:!0,xs:12,children:(0,T.jsx)(j.Z,{fullWidth:!0,variant:"contained",color:"primary",onClick:this.handlePrev,children:"Forts\xe4tt redigera"})})})})]},"3")]})})}}]),i}(l.PureComponent);t.default=S},5500:function(e,t,i){i.r(t);var a=i(15671),n=i(43144),r=i(60136),o=i(29388),s=i(72791),l=i(76863),d=i(45953),u=i(43595),c=i(59911),h=i(45473),p=i(63818),v=i(50120),m=i(81898),f=i(54871),g=i(72900),F=i(37924),x=i(61091),j=i(65209),y=i(80184),b=(0,l.ZP)(d.ZP)((function(e){return{textAlign:"center",padding:e.theme.spacing(1)}})),k=function(e){(0,r.Z)(i,e);var t=(0,o.Z)(i);function i(e){var n,r,o,s,l;return(0,a.Z)(this,i),(l=t.call(this,e)).initFormValues=function(e){var t=l.props.editSource;if(e&&t){var i=e.getProperties(),a={};return t.editableFields.forEach((function(e){null!==i[e.name]&&("flerval"===e.textType&&""!==i[e.name]?a[e.name]=e.values.map((function(t){return{name:t,checked:"string"===typeof i[e.name]&&void 0!==i[e.name].split(";").find((function(e){return e===t}))}})):"boolean"===e.textType?"boolean"===e.dataType?a[e.name]=i[e.name]||"ja"===e.defaultValue||!1:a[e.name]=i[e.name]||1===e.defaultValue||0:a[e.name]=i[e.name]||e.defaultValue||"")})),a}},l.state={formValues:void 0,feature:void 0},l.formErrors={},e.observer.subscribe("feature-to-update-view",(function(e){l.setState({formValues:l.initFormValues(e),feature:e})})),null===(n=e.editSource)||void 0===n||null===(r=n.editableFields)||void 0===r||r.forEach((function(e,t){e.initialRender=!0})),null===(o=e.editSource)||void 0===o||null===(s=o.nonEditableFields)||void 0===s||s.forEach((function(e,t){e.initialRender=!0})),l}return(0,n.Z)(i,[{key:"componentWillUnmount",value:function(){this.props.observer.unsubscribe("feature-to-update-view")}},{key:"updateFeature",value:function(){var e,t,i=this,a=this.props.model.editFeature.getProperties();Object.keys(this.state.formValues).forEach((function(e){var t=i.state.formValues[e];""===t&&(t=null),Array.isArray(t)&&(t=t.filter((function(e){return e.checked})).map((function(e){return e.name})).join(";")),a[e]=t})),null===(e=this.props.editSource)||void 0===e||null===(t=e.nonEditableFields)||void 0===t||t.forEach((function(e){var t=e.defaultValue;""===t&&(t=null),Array.isArray(t)&&(t=t.filter((function(e){return e.checked})).map((function(e){return e.name})).join(";"));var n=i.props.model.editFeature.getGeometryName();n||(n="geom"),e.name!==n&&(a[e.name]=t)})),this.props.model.editFeature.setProperties(a)}},{key:"checkInteger",value:function(e,t){var i=this,a=Object.assign({},this.state.formValues);/^\d+$/.test(t)||""===t?a[e]=t:this.state.formValues[e]||(a[e]=""),this.setState({formValues:a},(function(){i.updateFeature()}))}},{key:"checkBoolean",value:function(e,t){var i=this,a=Object.assign({},this.state.formValues);"ja"===t?t=!0:"nej"===t&&(t=!1),a[e]=t,this.setState({formValues:a},(function(){i.updateFeature()}))}},{key:"checkNumber",value:function(e,t){var i=this,a=Object.assign({},this.state.formValues);/^\d+([.,](\d+)?)?$/.test(t)||""===t?(t=t.replace(",","."),a[e]=t):this.state.formValues[e]||(a[e]=""),this.setState({formValues:a},(function(){i.updateFeature()}))}},{key:"checkUrl",value:function(e,t){var i=this,a=/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!$&'()*+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!$&'()*+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!$&'()*+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!$&'()*+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!$&'()*+,;=]|:|@)|\/|\?)*)?$/i.test(t),n=Object.assign({},this.state.formValues);a||""===t?(n[e]=t,delete this.formErrors[e]):(n[e]="",this.formErrors[e]="Ange en giltig url. t.ex. https://www.example.com"),this.setState({formValues:n},(function(){i.updateFeature()}))}},{key:"checkText",value:function(e,t){var i=this,a=Object.assign({},this.state.formValues);a[e]=t,this.setState({formValues:a},(function(){i.updateFeature()}))}},{key:"checkSelect",value:function(e,t){var i=this,a=Object.assign({},this.state.formValues);a[e]=t,this.setState({formValues:a},(function(){i.updateFeature()}))}},{key:"checkMultiple",value:function(e,t,i,a){var n=this,r=Object.assign({},this.state.formValues);r[e][a].checked=t,this.setState({formValues:r},(function(){n.updateFeature()}))}},{key:"checkDate",value:function(e,t){var i=this,a=Object.assign({},this.state.formValues);a[e]=t,this.updateFeature(),this.setState({formValues:a},(function(){i.updateFeature()}))}},{key:"setChanged",value:function(){"added"!==this.props.model.editFeature.modification&&"removed"!==this.props.model.editFeature.modification&&(this.props.model.editFeature.modification="updated")}},{key:"getValueMarkup",value:function(e,t){var i,a,n,r,o,s,l=this;"undefined"!==typeof e.alias&&""!==e.alias||(e.alias=e.name),e.textType&&""!==e.textType||("int"!==e.dataType&&"integer"!==e.dataType||(e.textType="heltal"),"number"!==e.dataType&&"decimal"!==e.dataType||(e.textType="nummer"),"date"===e.dataType&&(e.textType="datum"),"date-time"!==e.dataType&&"dateTime"!==e.dataType||(e.textType="date-time"),"boolean"===e.dataType&&(e.textType="boolean"));var d=this.state.formValues[e.name];switch(void 0!==d&&null!==d||(d=""),""===d&&e.initialRender&&null!==e.defaultValue&&(d=e.defaultValue),e.textType){case"heltal":return(0,y.jsx)(c.Z,{id:e.id,label:e.alias,fullWidth:!0,margin:"normal",variant:"outlined",disabled:!t,value:d,error:this.formErrors.hasOwnProperty(e.name),helperText:(null===(i=this.formErrors[e.name])||void 0===i?void 0:i.length)>=0?this.formErrors[e.name]:e.description,onChange:function(t){l.setChanged(),l.checkInteger(e.name,t.target.value),e.initialRender=!1}});case"nummer":return(0,y.jsx)(c.Z,{id:e.id,label:e.alias,fullWidth:!0,margin:"normal",variant:"outlined",disabled:!t,value:d,error:this.formErrors.hasOwnProperty(e.name),helperText:(null===(a=this.formErrors[e.name])||void 0===a?void 0:a.length)>=0?this.formErrors[e.name]:e.description,onChange:function(t){l.setChanged(),l.checkNumber(e.name,t.target.value),e.initialRender=!1}});case"datum":return(0,y.jsx)(c.Z,{id:e.id,label:e.alias,fullWidth:!0,margin:"normal",type:"date",variant:"outlined",disabled:!t,value:d,error:this.formErrors.hasOwnProperty(e.name),helperText:(null===(n=this.formErrors[e.name])||void 0===n?void 0:n.length)>=0?this.formErrors[e.name]:e.description,onChange:function(t){l.setChanged(),l.checkDate(e.name,t.target.value),e.initialRender=!1},InputLabelProps:{shrink:!0}});case"date-time":return(0,y.jsx)(c.Z,{id:e.id,label:e.name,fullWidth:!0,margin:"normal",type:"datetime-local",variant:"outlined",disabled:!t,value:d,error:this.formErrors.hasOwnProperty(e.name),helperText:(null===(r=this.formErrors[e.name])||void 0===r?void 0:r.length)>=0?this.formErrors[e.name]:e.description,onChange:function(t){l.setChanged(),l.checkDate(e.name,t.target.value),e.initialRender=!1},InputLabelProps:{shrink:!0}});case"url":return(0,y.jsx)(y.Fragment,{children:(0,y.jsx)(c.Z,{id:e.id,label:e.alias,size:"small",fullWidth:!0,margin:"normal",variant:"outlined",disabled:!t,error:this.formErrors.hasOwnProperty(e.name),helperText:(null===(o=this.formErrors[e.name])||void 0===o?void 0:o.length)>=0?this.formErrors[e.name]:e.description,value:d,onChange:function(t){l.setChanged(),l.checkText(e.name,t.target.value),e.initialRender=!1},onBlur:function(t){l.setChanged(),"url"===e.textType&&l.checkUrl(e.name,t.target.value),e.initialRender=!1}})});case"fritext":return(0,y.jsx)(y.Fragment,{children:(0,y.jsx)(c.Z,{id:e.id,label:e.alias,size:"small",fullWidth:!0,margin:"normal",variant:"outlined",disabled:!t,multiline:!0,error:this.formErrors.hasOwnProperty(e.name),helperText:(null===(s=this.formErrors[e.name])||void 0===s?void 0:s.length)>=0?this.formErrors[e.name]:e.description,value:d,onChange:function(t){l.setChanged(),l.checkText(e.name,t.target.value),e.initialRender=!1},onBlur:function(t){l.setChanged(),"url"===e.textType&&l.checkUrl(e.name,t.target.value),e.initialRender=!1}})});case"flerval":var x=[];"string"===typeof e.defaultValue&&(x=e.defaultValue.split(",")),e.initialRender&&x.forEach((function(e){d.forEach((function(t){e===t.name&&(t.checked=!0)}))}));var j=e.values.map((function(i,a){var n=e.name+a,r=d.find((function(e){return e.name===i}))||{checked:!1};return(0,y.jsx)(g.Z,{control:(0,y.jsx)(h.Z,{checked:r.checked,disabled:!t,color:"primary",onChange:function(t){l.setChanged(),l.checkMultiple(e.name,t.target.checked,i,a),e.initialRender=!1}}),label:i},n)}));return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)(m.Z,{fullWidth:!0,margin:"normal",component:"fieldset",children:[(0,y.jsx)(v.Z,{component:"legend",children:e.alias}),(0,y.jsx)(f.Z,{children:j}),(0,y.jsx)(F.Z,{style:{marginTop:"0px",marginBottom:"10px"}})]}),(0,y.jsx)("br",{})]});case"lista":var b=null;return Array.isArray(e.values)&&(b=e.values.map((function(e,t){return(0,y.jsx)("option",{value:e,children:e},t)}))),(0,y.jsx)(y.Fragment,{children:(0,y.jsxs)(m.Z,{fullWidth:!0,component:"fieldset",children:[(0,y.jsx)(v.Z,{component:"legend",children:e.alias}),(0,y.jsxs)(p.Z,{value:d,variant:"outlined",disabled:!t,input:(0,y.jsx)(u.Z,{name:e.name,id:e.name}),onChange:function(t){l.setChanged(),l.checkSelect(e.name,t.target.value),e.initialRender=!1},children:[(0,y.jsx)("option",{value:"",children:"-V\xe4lj v\xe4rde-"}),b]}),(0,y.jsx)(F.Z,{children:e.description})]})});case"boolean":return(0,y.jsx)(g.Z,{control:(0,y.jsx)(h.Z,{checked:"boolean"===e.dataType&&"ja"===e.value||"int"===e.dataType&&1===e.value,color:"primary",disabled:!t,onChange:function(t){l.setChanged(),t.target.checked?"boolean"===e.dataType?e.value="ja":e.value=1:"boolean"===e.dataType?e.value="nej":e.value=0,e.initialRender=!1,l.checkBoolean(e.name,e.value),l.forceUpdate()}}),label:e.name});default:return(0,y.jsx)("span",{children:d})}}},{key:"render",value:function(){var e,t,i,a,n=this,r=this.state.formValues,o=this.props.model;if(!r||void 0===this.props.editSource)return null;var s=null===(e=this.props.editSource)||void 0===e||null===(t=e.editableFields)||void 0===t?void 0:t.map((function(e,t){var i=n.getValueMarkup(e,!0);return(0,y.jsx)(d.ZP,{item:!0,xs:12,ref:e.name,children:i},t)})),l=null===(i=this.props.editSource)||void 0===i||null===(a=i.nonEditableFields)||void 0===a?void 0:a.filter((function(e){return!1===e.hidden})).map((function(e,t){var i=n.getValueMarkup(e,!1);return(0,y.jsx)(d.ZP,{item:!0,xs:12,ref:e.name,children:i},t)}));return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(b,{item:!0,xs:12,children:(0,y.jsx)(j.Z,{variant:"outlined",color:"primary",label:"Ange objektets attribut:"})}),(0,y.jsxs)(b,{item:!0,xs:12,children:[(0,y.jsx)("p",{children:"Editerbara f\xe4lt:"}),s,(null===l||void 0===l?void 0:l.length)>2?"Icke-editerbara f\xe4lt:":"",l]}),(0,y.jsx)(b,{item:!0,xs:12,children:(0,y.jsx)(x.Z,{color:"primary",sx:{width:"100px"},variant:"contained",onClick:o.resetEditFeature,children:"OK"})})]})}}]),i}(s.Component);t.default=k},78467:function(e,t,i){i.r(t);var a=i(15671),n=i(43144),r=i(60136),o=i(29388),s=i(72791),l=i(76863),d=i(61091),u=i(27247),c=i(16426),h=i(21456),p=i(43526),v=i(64119),m=i(34311),f=i(4565),g=i(45953),F=i(80184),x=(0,l.ZP)(d.Z)((function(e){var t=e.selected,i=e.theme;return{borderTop:"".concat(i.spacing(.5)," solid transparent"),borderBottom:t?"".concat(i.spacing(.5)," solid ").concat(i.palette.secondary.main):"".concat(i.spacing(.5)," solid transparent")}})),j=function(e){(0,r.Z)(i,e);var t=(0,o.Z)(i);function i(e){var n;return(0,a.Z)(this,i),(n=t.call(this,e)).state={editFeature:void 0},n.props.observer.subscribe("feature-to-update-view",(function(e){n.setState({editFeature:e})})),n}return(0,n.Z)(i,[{key:"componentWillUnmount",value:function(){this.props.observer.unsubscribe("feature-to-update-view")}},{key:"changeTool",value:function(e,t){var i=this.props,a=i.model,n=i.activeTool;if(t&&n===t.toLowerCase())a.deactivateInteraction();else if(n!==e)switch(a.deactivateInteraction(),e){case"add":a.activateInteraction("add",t);break;case"remove":a.activateInteraction("remove");break;case"modify":a.activateInteraction("modify");break;case"move":a.activateInteraction("move")}else a.deactivateInteraction()}},{key:"onAddPointClicked",value:function(){this.props.model.layer.dragLocked=!0,this.props.toggleActiveTool("point"),this.changeTool("add",this.props.editSource.editMultiPoint?"MultiPoint":"Point")}},{key:"onAddLineClicked",value:function(){this.props.model.layer.dragLocked=!0,this.props.toggleActiveTool("linestring"),this.changeTool("add",this.props.editSource.editMultiLine?"MultiLineString":"LineString")}},{key:"onAddPolygonClicked",value:function(){this.props.model.layer.dragLocked=!0,this.props.toggleActiveTool("polygon"),this.changeTool("add",this.props.editSource.editMultiPolygon?"MultiPolygon":"Polygon")}},{key:"onRemoveClicked",value:function(){this.props.toggleActiveTool("remove"),this.changeTool("remove")}},{key:"onModifyClicked",value:function(){this.props.toggleActiveTool("modify"),this.changeTool("modify")}},{key:"onMoveClicked",value:function(){this.props.model.layer.dragLocked=!1,this.props.toggleActiveTool("move"),this.changeTool("move")}},{key:"render",value:function(){var e=this,t=this.props.editSource,i=this.state.editFeature;return!t||i?null:(0,F.jsxs)(g.ZP,{container:!0,spacing:1,children:[(0,F.jsx)(g.ZP,{item:!0,xs:12,children:(0,F.jsx)(f.Z,{children:"L\xe4gg till"})}),(0,F.jsx)(g.ZP,{item:!0,xs:4,children:(0,F.jsxs)(x,{variant:"contained",fullWidth:!0,disabled:!t.editPoint&&!t.editMultiPoint,onClick:function(){e.onAddPointClicked()},selected:"point"===this.props.activeTool,type:"button",title:"L\xe4gg till punkt",children:["Punkt",(0,F.jsx)(c.Z,{sx:{marginLeft:1}})]})}),(0,F.jsx)(g.ZP,{item:!0,xs:4,children:(0,F.jsxs)(x,{variant:"contained",fullWidth:!0,disabled:!t.editLine&&!t.editMultiLine,onClick:function(){e.onAddLineClicked()},type:"button",title:"L\xe4gg till linje",selected:"linestring"===this.props.activeTool,children:["Linje",(0,F.jsx)(p.Z,{sx:{marginLeft:1}})]})}),(0,F.jsx)(g.ZP,{item:!0,xs:4,children:(0,F.jsxs)(x,{variant:"contained",fullWidth:!0,disabled:!t.editPolygon&&!t.editMultiPolygon,onClick:function(){e.onAddPolygonClicked()},type:"button",title:"L\xe4gg till yta",selected:"polygon"===this.props.activeTool,children:["Yta",(0,F.jsx)(h.Z,{sx:{marginLeft:1}})]})}),(0,F.jsx)(g.ZP,{item:!0,xs:12,children:(0,F.jsx)(f.Z,{children:"Editera"})}),(0,F.jsx)(g.ZP,{item:!0,xs:4,children:(0,F.jsxs)(x,{variant:"contained",fullWidth:!0,onClick:function(){e.onMoveClicked()},type:"button",title:"Flytta geometri",selected:"move"===this.props.activeTool,children:["Flytta",(0,F.jsx)(v.Z,{sx:{marginLeft:1}})]})}),(0,F.jsx)(g.ZP,{item:!0,xs:4,children:(0,F.jsxs)(x,{variant:"contained",fullWidth:!0,onClick:function(){e.onRemoveClicked()},type:"button",title:"Ta bort geometri",selected:"remove"===this.props.activeTool,children:["Radera",(0,F.jsx)(u.Z,{sx:{marginLeft:1}})]})}),(0,F.jsx)(g.ZP,{item:!0,xs:4,children:(0,F.jsxs)(x,{variant:"contained",fullWidth:!0,onClick:function(){e.onModifyClicked()},type:"button",title:"\xc4ndra geometri",selected:"modify"===this.props.activeTool,children:["\xc4ndra",(0,F.jsx)(m.Z,{sx:{marginLeft:1}})]})})]})}}]),i}(s.Component);t.default=j}}]);
//# sourceMappingURL=9900.4fa2eb80.chunk.js.map