{"version":3,"file":"static/js/6009.dafd1221.chunk.js","mappings":"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","sources":["plugins/Sketch/components/Information.js","plugins/Sketch/components/UploadDialog.js","plugins/Sketch/views/UploadView.js","../node_modules/@mui/icons-material/FolderOpen.js","../node_modules/@mui/icons-material/SaveAlt.js","../node_modules/@mui/icons-material/TextDecrease.js","../node_modules/@mui/icons-material/TextIncrease.js","../node_modules/@mui/icons-material/Visibility.js","../node_modules/@mui/material/esm/Zoom/Zoom.js","../node_modules/@babel/runtime/helpers/esm/asyncIterator.js"],"sourcesContent":["import React from \"react\";\nimport { Paper, Typography } from \"@mui/material\";\n\n// A simple component showing the supplied text in a wrapper\nconst Information = ({ text }) => {\n  return (\n    <Paper style={{ width: \"100%\", padding: 8 }}>\n      <Typography align=\"center\" variant=\"body2\">\n        {text}\n      </Typography>\n    </Paper>\n  );\n};\n\nexport default Information;\n","import React from \"react\";\nimport { createPortal } from \"react-dom\";\nimport Dialog from \"../../../components/Dialog/Dialog\";\n\nconst UploadDialog = ({ open, setOpen, handleUploadedFile }) => {\n  const [filesChosen, setFilesChosen] = React.useState(false);\n\n  const handleUploadClick = React.useCallback(async () => {\n    try {\n      const fileInput = document.getElementById(\"kml-file-input\");\n      for await (const file of fileInput.files) {\n        // The file-reader should not be re-used. Let's initialize a new for each file.\n        const reader = new FileReader();\n        reader.onload = () => {\n          try {\n            handleUploadedFile(reader.result);\n          } catch (error) {\n            console.error(`Failed to import kml-file. Error: ${error}`);\n          }\n        };\n        reader.readAsText(file);\n      }\n    } catch (error) {\n      console.error(`Failed to import kml-files. Error: ${error}`);\n    }\n    // When we're done we have to close the dialog and make sure we disable the upload-button\n    // by setting the filesChosen-state to false.\n    setOpen(false);\n    setFilesChosen(false);\n  }, [setOpen, handleUploadedFile]);\n\n  const handleCloseClick = React.useCallback(() => {\n    setOpen(false);\n  }, [setOpen]);\n\n  const handleFileInputChange = React.useCallback((e) => {\n    const fileInput = document.getElementById(\"kml-file-input\");\n    setFilesChosen(fileInput.files.length > 0);\n  }, []);\n\n  return createPortal(\n    <Dialog\n      options={{\n        headerText: \"Ladda upp .kml-filer\",\n        buttonText: filesChosen ? \"Ladda upp\" : null,\n        abortText: \"Avbryt\",\n        text: (\n          <input\n            type=\"file\"\n            name=\"files[]\"\n            accept=\".kml\"\n            multiple\n            id=\"kml-file-input\"\n            onChange={handleFileInputChange}\n          />\n        ),\n        useLegacyNonMarkdownRenderer: true,\n      }}\n      open={open}\n      onClose={handleUploadClick}\n      onAbort={handleCloseClick}\n    />,\n    document.getElementById(\"map\")\n  );\n};\n\nexport default UploadDialog;\n","import React from \"react\";\nimport { styled } from \"@mui/material\";\nimport { Button, Grid, Tooltip, Typography } from \"@mui/material\";\nimport { IconButton, Zoom, Paper } from \"@mui/material\";\n\nimport FolderOpenIcon from \"@mui/icons-material/FolderOpen\";\nimport SaveAltIcon from \"@mui/icons-material/SaveAlt\";\nimport DeleteIcon from \"@mui/icons-material/Delete\";\nimport VisibilityOffIcon from \"@mui/icons-material/VisibilityOff\";\nimport VisibilityIcon from \"@mui/icons-material/Visibility\";\nimport TextDecreaseIcon from \"@mui/icons-material/TextDecrease\";\nimport TextIncreaseIcon from \"@mui/icons-material/TextIncrease\";\n\nimport Information from \"../components/Information\";\nimport UploadDialog from \"../components/UploadDialog\";\n\nconst StyledPaper = styled(Paper)(({ theme }) => ({\n  width: \"100%\",\n  padding: theme.spacing(1),\n  marginBottom: theme.spacing(1),\n  borderRight: `${theme.spacing(0.5)} solid ${theme.palette.info.main}`,\n  borderLeft: `${theme.spacing(0.5)} solid ${theme.palette.info.main}`,\n}));\n\nconst ButtonPanel = ({ kmlModel, setDialogOpen }) => {\n  return (\n    <Grid container spacing={1}>\n      <Grid item xs={12}>\n        <Tooltip\n          disableInteractive\n          title=\"Klicka för att öppna en dialog där du kan välja en .kml-fil från din dator.\"\n        >\n          <Button\n            fullWidth\n            variant=\"contained\"\n            onClick={() => setDialogOpen(true)}\n            startIcon={<FolderOpenIcon />}\n          >\n            Importera ritobjekt\n          </Button>\n        </Tooltip>\n      </Grid>\n      <Grid item xs={12}>\n        <Tooltip\n          disableInteractive\n          title=\"Klicka för att exportera alla ritobjekt till en .kml-fil.\"\n        >\n          <Button\n            fullWidth\n            variant=\"contained\"\n            onClick={() => kmlModel.export()}\n            startIcon={<SaveAltIcon />}\n          >\n            Exportera ritobjekt\n          </Button>\n        </Tooltip>\n      </Grid>\n    </Grid>\n  );\n};\n\nconst UploadedFile = (props) => {\n  return (\n    <Zoom in appear>\n      <StyledPaper>\n        <Grid container justifyContent=\"space-between\" alignItems=\"center\">\n          <Grid item xs={4}>\n            <Typography variant=\"button\">{props.title}</Typography>\n          </Grid>\n          <Grid container item xs={8} justifyContent=\"flex-end\" spacing={1}>\n            <Grid item>\n              <Tooltip\n                disableInteractive\n                title=\"Klicka för att ta bort de importerade objekten.\"\n              >\n                <IconButton size=\"small\" onClick={props.onRemoveClick}>\n                  <DeleteIcon />\n                </IconButton>\n              </Tooltip>\n            </Grid>\n            <Grid item>\n              <Tooltip\n                disableInteractive\n                title={`Klicka för att ${\n                  props.hidden ? \"visa\" : \"dölja\"\n                } objekten ${props.hidden ? \"i\" : \"från\"} kartan.`}\n              >\n                <IconButton\n                  size=\"small\"\n                  onClick={props.onVisibilityChangeClick}\n                >\n                  {props.hidden ? <VisibilityIcon /> : <VisibilityOffIcon />}\n                </IconButton>\n              </Tooltip>\n            </Grid>\n            <Grid item>\n              <Tooltip\n                disableInteractive\n                title={`Klicka här för att ${\n                  props.textShown ? \"dölja\" : \"visa\"\n                } objektens etiketter.`}\n              >\n                <IconButton size=\"small\" onClick={props.onToggleShowTextClick}>\n                  {props.textShown ? (\n                    <TextDecreaseIcon />\n                  ) : (\n                    <TextIncreaseIcon />\n                  )}\n                </IconButton>\n              </Tooltip>\n            </Grid>\n          </Grid>\n        </Grid>\n      </StyledPaper>\n    </Zoom>\n  );\n};\n\nconst UploadedFileList = (props) => {\n  return (\n    <Grid container style={{ maxHeight: 240, overflowY: \"auto\" }}>\n      <Grid item xs={12}>\n        <Typography variant=\"caption\">Uppladdade filer</Typography>\n      </Grid>\n      <Grid item xs={12}>\n        {props.uploadedFiles.map((file) => {\n          return (\n            <UploadedFile\n              key={file.id}\n              title={file.title}\n              hidden={file.hidden}\n              textShown={file.textShown}\n              onVisibilityChangeClick={() =>\n                props.onVisibilityChangeClick(file.id)\n              }\n              onRemoveClick={() => props.onRemoveClick(file.id)}\n              onToggleShowTextClick={() => props.onToggleShowTextClick(file.id)}\n            />\n          );\n        })}\n      </Grid>\n    </Grid>\n  );\n};\n\nconst UploadView = (props) => {\n  // We're gonna need to keep track of if we should show the upload-dialog or not.\n  const [dialogOpen, setDialogOpen] = React.useState(false);\n\n  // Adds the supplied file (kml-string) to the map and updates the list\n  // of added kml-files.\n  const handleUploadedFile = (file) => {\n    // We're gonna need to generate an id that we can set on all the features\n    // in each file. This id can then be used to find all features that belongs to\n    // a kml-upload.\n    const id = props.model.generateRandomString();\n    // We're also gonna need to generate a date-time-string that can be shown in the list\n    // of uploaded kml-files.\n    const dateTime = props.model.getDateTimeString({\n      hour: \"numeric\",\n      minute: \"numeric\",\n      second: \"numeric\",\n    });\n    // Let's create an object with some meta-data and add it to the list of uploaded files.\n    props.setUploadedFiles((files) => [\n      ...files,\n      { id, title: dateTime, hidden: false, textShown: true },\n    ]);\n    // Then we can add the features to the map!\n    props.kmlModel.import(file, {\n      zoomToExtent: true,\n      setProperties: { KML_ID: id },\n    });\n  };\n\n  const onVisibilityChangeClick = (id) => {\n    const updatedFiles = props.uploadedFiles.map((file) => {\n      if (file.id === id) {\n        return { ...file, hidden: !file.hidden };\n      }\n      return file;\n    });\n    props.drawModel.toggleKmlFeaturesVisibility(id);\n    props.setUploadedFiles(updatedFiles);\n  };\n\n  const onRemoveClick = (id) => {\n    const updatedFiles = props.uploadedFiles.filter((file) => file.id !== id);\n    props.drawModel.removeKmlFeaturesById(id);\n    props.setUploadedFiles(updatedFiles);\n  };\n\n  const onToggleShowTextClick = (id) => {\n    const updatedFiles = props.uploadedFiles.map((file) => {\n      if (file.id === id) {\n        return { ...file, textShown: !file.textShown };\n      }\n      return file;\n    });\n    props.drawModel.toggleKmlFeaturesTextVisibility(id);\n    props.setUploadedFiles(updatedFiles);\n  };\n\n  // We have to get some information about the current activity (view)\n  const activity = props.model.getActivityFromId(props.id);\n  return (\n    <Grid container spacing={2}>\n      <Grid item xs={12}>\n        <Information text={activity.information} />\n      </Grid>\n      <Grid item xs={12}>\n        <ButtonPanel kmlModel={props.kmlModel} setDialogOpen={setDialogOpen} />\n      </Grid>\n      <Grid item xs={12}>\n        {props.uploadedFiles.length > 0 && (\n          <UploadedFileList\n            uploadedFiles={props.uploadedFiles}\n            onVisibilityChangeClick={onVisibilityChangeClick}\n            onRemoveClick={onRemoveClick}\n            onToggleShowTextClick={onToggleShowTextClick}\n          />\n        )}\n      </Grid>\n      <UploadDialog\n        open={dialogOpen}\n        setOpen={setDialogOpen}\n        handleUploadedFile={handleUploadedFile}\n      />\n    </Grid>\n  );\n};\n\nexport default UploadView;\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _jsxRuntime = require(\"react/jsx-runtime\");\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M20 6h-8l-2-2H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zm0 12H4V8h16v10z\"\n}), 'FolderOpen');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _jsxRuntime = require(\"react/jsx-runtime\");\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M19 12v7H5v-7H3v7c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zm-6 .67 2.59-2.58L17 11.5l-5 5-5-5 1.41-1.41L11 12.67V3h2z\"\n}), 'SaveAlt');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _jsxRuntime = require(\"react/jsx-runtime\");\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M.99 19h2.42l1.27-3.58h5.65L11.59 19h2.42L8.75 5h-2.5L.99 19zm4.42-5.61L7.44 7.6h.12l2.03 5.79H5.41zM23 11v2h-8v-2h8z\"\n}), 'TextDecrease');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _jsxRuntime = require(\"react/jsx-runtime\");\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M.99 19h2.42l1.27-3.58h5.65L11.59 19h2.42L8.75 5h-2.5L.99 19zm4.42-5.61L7.44 7.6h.12l2.03 5.79H5.41zM20 11h3v2h-3v3h-2v-3h-3v-2h3V8h2v3z\"\n}), 'TextIncrease');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _jsxRuntime = require(\"react/jsx-runtime\");\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z\"\n}), 'Visibility');\n\nexports.default = _default;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nconst _excluded = [\"addEndListener\", \"appear\", \"children\", \"easing\", \"in\", \"onEnter\", \"onEntered\", \"onEntering\", \"onExit\", \"onExited\", \"onExiting\", \"style\", \"timeout\", \"TransitionComponent\"];\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport { Transition } from 'react-transition-group';\nimport { elementAcceptingRef } from '@mui/utils';\nimport useTheme from '../styles/useTheme';\nimport { reflow, getTransitionProps } from '../transitions/utils';\nimport useForkRef from '../utils/useForkRef';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst styles = {\n  entering: {\n    transform: 'none'\n  },\n  entered: {\n    transform: 'none'\n  }\n};\n/**\n * The Zoom transition can be used for the floating variant of the\n * [Button](/material-ui/react-button/#floating-action-buttons) component.\n * It uses [react-transition-group](https://github.com/reactjs/react-transition-group) internally.\n */\n\nconst Zoom = /*#__PURE__*/React.forwardRef(function Zoom(props, ref) {\n  const theme = useTheme();\n  const defaultTimeout = {\n    enter: theme.transitions.duration.enteringScreen,\n    exit: theme.transitions.duration.leavingScreen\n  };\n\n  const {\n    addEndListener,\n    appear = true,\n    children,\n    easing,\n    in: inProp,\n    onEnter,\n    onEntered,\n    onEntering,\n    onExit,\n    onExited,\n    onExiting,\n    style,\n    timeout = defaultTimeout,\n    // eslint-disable-next-line react/prop-types\n    TransitionComponent = Transition\n  } = props,\n        other = _objectWithoutPropertiesLoose(props, _excluded);\n\n  const nodeRef = React.useRef(null);\n  const foreignRef = useForkRef(children.ref, ref);\n  const handleRef = useForkRef(nodeRef, foreignRef);\n\n  const normalizedTransitionCallback = callback => maybeIsAppearing => {\n    if (callback) {\n      const node = nodeRef.current; // onEnterXxx and onExitXxx callbacks have a different arguments.length value.\n\n      if (maybeIsAppearing === undefined) {\n        callback(node);\n      } else {\n        callback(node, maybeIsAppearing);\n      }\n    }\n  };\n\n  const handleEntering = normalizedTransitionCallback(onEntering);\n  const handleEnter = normalizedTransitionCallback((node, isAppearing) => {\n    reflow(node); // So the animation always start from the start.\n\n    const transitionProps = getTransitionProps({\n      style,\n      timeout,\n      easing\n    }, {\n      mode: 'enter'\n    });\n    node.style.webkitTransition = theme.transitions.create('transform', transitionProps);\n    node.style.transition = theme.transitions.create('transform', transitionProps);\n\n    if (onEnter) {\n      onEnter(node, isAppearing);\n    }\n  });\n  const handleEntered = normalizedTransitionCallback(onEntered);\n  const handleExiting = normalizedTransitionCallback(onExiting);\n  const handleExit = normalizedTransitionCallback(node => {\n    const transitionProps = getTransitionProps({\n      style,\n      timeout,\n      easing\n    }, {\n      mode: 'exit'\n    });\n    node.style.webkitTransition = theme.transitions.create('transform', transitionProps);\n    node.style.transition = theme.transitions.create('transform', transitionProps);\n\n    if (onExit) {\n      onExit(node);\n    }\n  });\n  const handleExited = normalizedTransitionCallback(onExited);\n\n  const handleAddEndListener = next => {\n    if (addEndListener) {\n      // Old call signature before `react-transition-group` implemented `nodeRef`\n      addEndListener(nodeRef.current, next);\n    }\n  };\n\n  return /*#__PURE__*/_jsx(TransitionComponent, _extends({\n    appear: appear,\n    in: inProp,\n    nodeRef: nodeRef,\n    onEnter: handleEnter,\n    onEntered: handleEntered,\n    onEntering: handleEntering,\n    onExit: handleExit,\n    onExited: handleExited,\n    onExiting: handleExiting,\n    addEndListener: handleAddEndListener,\n    timeout: timeout\n  }, other, {\n    children: (state, childProps) => {\n      return /*#__PURE__*/React.cloneElement(children, _extends({\n        style: _extends({\n          transform: 'scale(0)',\n          visibility: state === 'exited' && !inProp ? 'hidden' : undefined\n        }, styles[state], style, children.props.style),\n        ref: handleRef\n      }, childProps));\n    }\n  }));\n});\nprocess.env.NODE_ENV !== \"production\" ? Zoom.propTypes\n/* remove-proptypes */\n= {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * Add a custom transition end trigger. Called with the transitioning DOM\n   * node and a done callback. Allows for more fine grained transition end\n   * logic. Note: Timeouts are still used as a fallback if provided.\n   */\n  addEndListener: PropTypes.func,\n\n  /**\n   * Perform the enter transition when it first mounts if `in` is also `true`.\n   * Set this to `false` to disable this behavior.\n   * @default true\n   */\n  appear: PropTypes.bool,\n\n  /**\n   * A single child content element.\n   */\n  children: elementAcceptingRef.isRequired,\n\n  /**\n   * The transition timing function.\n   * You may specify a single easing or a object containing enter and exit values.\n   */\n  easing: PropTypes.oneOfType([PropTypes.shape({\n    enter: PropTypes.string,\n    exit: PropTypes.string\n  }), PropTypes.string]),\n\n  /**\n   * If `true`, the component will transition in.\n   */\n  in: PropTypes.bool,\n\n  /**\n   * @ignore\n   */\n  onEnter: PropTypes.func,\n\n  /**\n   * @ignore\n   */\n  onEntered: PropTypes.func,\n\n  /**\n   * @ignore\n   */\n  onEntering: PropTypes.func,\n\n  /**\n   * @ignore\n   */\n  onExit: PropTypes.func,\n\n  /**\n   * @ignore\n   */\n  onExited: PropTypes.func,\n\n  /**\n   * @ignore\n   */\n  onExiting: PropTypes.func,\n\n  /**\n   * @ignore\n   */\n  style: PropTypes.object,\n\n  /**\n   * The duration for the transition, in milliseconds.\n   * You may specify a single timeout for all transitions, or individually with an object.\n   * @default {\n   *   enter: theme.transitions.duration.enteringScreen,\n   *   exit: theme.transitions.duration.leavingScreen,\n   * }\n   */\n  timeout: PropTypes.oneOfType([PropTypes.number, PropTypes.shape({\n    appear: PropTypes.number,\n    enter: PropTypes.number,\n    exit: PropTypes.number\n  })])\n} : void 0;\nexport default Zoom;","export default function _asyncIterator(iterable) {\n  var method,\n      async,\n      sync,\n      retry = 2;\n\n  for (\"undefined\" != typeof Symbol && (async = Symbol.asyncIterator, sync = Symbol.iterator); retry--;) {\n    if (async && null != (method = iterable[async])) return method.call(iterable);\n    if (sync && null != (method = iterable[sync])) return new AsyncFromSyncIterator(method.call(iterable));\n    async = \"@@asyncIterator\", sync = \"@@iterator\";\n  }\n\n  throw new TypeError(\"Object is not async iterable\");\n}\n\nfunction AsyncFromSyncIterator(s) {\n  function AsyncFromSyncIteratorContinuation(r) {\n    if (Object(r) !== r) return Promise.reject(new TypeError(r + \" is not an object.\"));\n    var done = r.done;\n    return Promise.resolve(r.value).then(function (value) {\n      return {\n        value: value,\n        done: done\n      };\n    });\n  }\n\n  return AsyncFromSyncIterator = function AsyncFromSyncIterator(s) {\n    this.s = s, this.n = s.next;\n  }, AsyncFromSyncIterator.prototype = {\n    s: null,\n    n: null,\n    next: function next() {\n      return AsyncFromSyncIteratorContinuation(this.n.apply(this.s, arguments));\n    },\n    \"return\": function _return(value) {\n      var ret = this.s[\"return\"];\n      return void 0 === ret ? Promise.resolve({\n        value: value,\n        done: !0\n      }) : AsyncFromSyncIteratorContinuation(ret.apply(this.s, arguments));\n    },\n    \"throw\": function _throw(value) {\n      var thr = this.s[\"return\"];\n      return void 0 === thr ? Promise.reject(value) : AsyncFromSyncIteratorContinuation(thr.apply(this.s, arguments));\n    }\n  }, new AsyncFromSyncIterator(s);\n}"],"names":["text","style","width","padding","align","variant","open","setOpen","handleUploadedFile","React","filesChosen","setFilesChosen","handleUploadClick","fileInput","document","getElementById","file","reader","FileReader","onload","result","error","console","readAsText","files","handleCloseClick","handleFileInputChange","e","length","createPortal","options","headerText","buttonText","abortText","type","name","accept","multiple","id","onChange","useLegacyNonMarkdownRenderer","onClose","onAbort","StyledPaper","styled","Paper","theme","spacing","marginBottom","borderRight","palette","info","main","borderLeft","ButtonPanel","kmlModel","setDialogOpen","container","item","xs","disableInteractive","title","fullWidth","onClick","startIcon","export","UploadedFile","props","Z","in","appear","justifyContent","alignItems","size","onRemoveClick","hidden","onVisibilityChangeClick","textShown","onToggleShowTextClick","UploadedFileList","maxHeight","overflowY","uploadedFiles","map","dialogOpen","activity","model","getActivityFromId","information","updatedFiles","drawModel","toggleKmlFeaturesVisibility","setUploadedFiles","filter","removeKmlFeaturesById","toggleKmlFeaturesTextVisibility","generateRandomString","dateTime","getDateTimeString","hour","minute","second","import","zoomToExtent","setProperties","KML_ID","_interopRequireDefault","require","exports","_createSvgIcon","_jsxRuntime","_default","default","jsx","d","_excluded","styles","entering","transform","entered","Zoom","ref","useTheme","defaultTimeout","enter","transitions","duration","enteringScreen","exit","leavingScreen","addEndListener","children","easing","inProp","onEnter","onEntered","onEntering","onExit","onExited","onExiting","timeout","TransitionComponent","Transition","other","_objectWithoutPropertiesLoose","nodeRef","foreignRef","useForkRef","handleRef","normalizedTransitionCallback","callback","maybeIsAppearing","node","current","undefined","handleEntering","handleEnter","isAppearing","reflow","transitionProps","getTransitionProps","mode","webkitTransition","create","transition","handleEntered","handleExiting","handleExit","handleExited","_jsx","_extends","next","state","childProps","visibility","_asyncIterator","iterable","method","async","sync","retry","Symbol","asyncIterator","iterator","call","AsyncFromSyncIterator","TypeError","s","AsyncFromSyncIteratorContinuation","r","Object","Promise","reject","done","resolve","value","then","this","n","prototype","apply","arguments","ret","thr"],"sourceRoot":""}