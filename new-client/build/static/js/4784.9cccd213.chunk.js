"use strict";(self.webpackChunkhajk_client=self.webpackChunkhajk_client||[]).push([[4784,2389,1960],{24784:function(e,n,r){r.r(n);var t=r(43144),a=r(15671),o=r(60136),u=r(29388),c=r(72791),p=r(4565),i=r(82389),l=r(21960),s=r(50228),d=r(80184),h=function(e){(0,o.Z)(r,e);var n=(0,u.Z)(r);function r(e){var t;return(0,a.Z)(this,r),(t=n.call(this,e)).state={popupImage:null,activeContent:null},t.bindPrintSpecificHandlers=function(){var e=t.props,n=e.localObserver,r=e.model;n.unsubscribe("append-chapter-components"),n.subscribe("append-document-components",(function(e){var a=[],o=[];e.forEach((function(e){if(e.isGroupHeader)o.push(t.createGroupHeadingTag(e.title,e.id)),a.push(o),o=[];else{e.chapters.forEach((function(e){r.appendComponentsToChapter(e)}));var n=[],u=(0,l.flattenChaptersTree)(e.chapters);u=u.map((function(e){if(e.mustReplace){e={}}return e})),n.push(t.renderChapters(u,!0)),a.push(n)}})),n.publish("chapter-components-appended",a)}))},t.componentDidMount=function(){var e=t.props.localObserver;t.bindPrintSpecificHandlers(),e.subscribe("image-popup",t.showPopupModal)},t.componentWillUnmount=function(){t.props.localObserver.unsubscribe("chapter-components-appended")},t.closePopupModal=function(){t.setState({popupImage:null})},t.showPopupModal=function(e){t.setState({popupImage:e})},t.renderImageInModal=function(){var e=t.state.popupImage;return(0,d.jsx)(i.default,{open:null!=e,close:t.closePopupModal,image:e})},t.createGroupHeadingTag=function(e,n){return(0,d.jsx)(p.Z,{"data-type":"chapter-header",variant:"h1",children:e},n)},t.renderChapters=function(e,n){return Array.isArray(e)?e.map((function(e){return t.renderChapter(e,n)})):null},t.renderChapter=function(e,n){return(0,d.jsxs)(c.Fragment,{children:[t.renderHeadline(e,n),e.components,Array.isArray(e.chapters)?e.chapters.map((function(e){return t.renderChapter(e)})):null]},e.id)},t.getHeaderVariant=function(e,n){var r=2;if(n)return r+=e.level,"h".concat(r);for(;e.parent;)r++,e=e.parent;return"h".concat(r)},t.renderHeadline=function(e,n){return(0,d.jsx)(d.Fragment,{children:(0,d.jsx)(p.Z,{ref:e.scrollRef,sx:{overflowWrap:"break-word"},"data-type":"chapter-header",variant:t.getHeaderVariant(e,n),children:e.header})})},t.render=function(){return t.props.activeDocument?(0,d.jsxs)(s.Z,{style:{display:"block",maxWidth:"100%"},children:[t.renderImageInModal(),t.renderChapters(t.props.activeDocument.chapters)]}):null},t.internalIds=[],t}return(0,t.Z)(r)}(c.PureComponent);n.default=h},82389:function(e,n,r){r.r(n);var t=r(15671),a=r(43144),o=r(60136),u=r(29388),c=r(72791),p=r(76863),i=r(13811),l=r(29823),s=r(60788),d=r(56650),h=r(80184),f=document.getElementById("map"),m="filter : blur(7px)",v=(0,p.ZP)(i.Z)((function(e){var n=e.theme;return{position:"absolute",backgroundColor:n.palette.grey[50],"&:hover":{backgroundColor:n.palette.grey[400]},zIndex:100,right:n.spacing(2),top:n.spacing(2)}})),g=(0,p.ZP)(d.Z)((function(){return{maxHeight:"80%",maxWidth:"90%",overflow:"auto",backgroundColor:"transparent",boxShadow:"none",objectFit:"contain"}}));function b(e){var n=e.component,r=e.onClose,t=e.src,a=e.altValue;return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(v,{size:"small",onClick:r,children:(0,h.jsx)(l.Z,{})}),(0,h.jsx)(g,{alt:a,component:n,src:t})]})}var C=function(e){(0,o.Z)(r,e);var n=(0,u.Z)(r);function r(){var e;(0,t.Z)(this,r);for(var a=arguments.length,o=new Array(a),u=0;u<a;u++)o[u]=arguments[u];return(e=n.call.apply(n,[this].concat(o))).removeMapBlur=function(){f.removeAttribute("style",m)},e.addMapBlur=function(){f.setAttribute("style",m)},e.componentWillUnmount=function(){e.removeMapBlur()},e.componentDidMount=function(){},e}return(0,a.Z)(r,[{key:"render",value:function(){var e=this.props,n=e.open,r=e.close,t=e.image;return n?this.addMapBlur():this.removeMapBlur(),(0,h.jsx)(s.Z,{maxWidth:"lg",onBackdropClick:r,PaperComponent:b,PaperProps:{component:"img",onClose:r,src:null===t||void 0===t?void 0:t.url,altValue:null===t||void 0===t?void 0:t.altValue},open:n})}}]),r}(c.PureComponent);n.default=C},21960:function(e,n,r){r.r(n),r.d(n,{flattenChaptersTree:function(){return p},getStringArray:function(){return u},hasSubMenu:function(){return c},splitAndTrimOnCommas:function(){return o}});var t=r(93433),a=r(1413),o=function(e){return e.split(",").map((function(e){return e.trim()}))},u=function(e){return o(e).join(" ").split(" ")},c=function(e){return e.menu&&e.menu.length>0},p=function e(n){return n.reduce((function(n,r){if(r.header){var o=(0,a.Z)({},r);o.chapters=[],n=[].concat((0,t.Z)(n),[o])}return r.chapters&&r.chapters.length>0?[].concat((0,t.Z)(n),(0,t.Z)(e(r.chapters))):n}),[])}}}]);
//# sourceMappingURL=4784.9cccd213.chunk.js.map