"use strict";(self.webpackChunkhajk_client=self.webpackChunkhajk_client||[]).push([[1651,6430,7959],{16430:function(e,t,r){r.r(t);var o=r(15671),i=r(43144),a=r(60136),n=r(29388),s=r(72791),l=r(4565),c=r(59911),d=r(30948),h=r(42708),u=r(98246),p=r(45953),f=r(80184),m=function(e){(0,a.Z)(r,e);var t=(0,n.Z)(r);function r(e){var i;return(0,o.Z)(this,r),(i=t.call(this,e)).state={errorX:"",errorY:"",coordinateX:"",coordinateY:"",coordinateXFloat:0,coordinateYFloat:0,wasLastChanged:!1,wasModified:!1},i.model=i.props.model,i.transformation=i.props.transformation,i.localObserver=i.props.model.localObserver,i.localObserver.subscribe("newCoordinates",(function(e){if(e.proj!==i.transformation.code||e.force){var t=(0,h.vs)(e.coordinates,e.proj,i.props.transformation.code);i.setState({errorX:"",errorY:"",wasModified:!0,coordinateX:t[0].toFixed(i.transformation.precision),coordinateY:t[1].toFixed(i.transformation.precision),coordinateXFloat:t[0],coordinateYFloat:t[1],wasLastChanged:!1})}else i.setState({wasLastChanged:!0,wasModified:!0})})),i.localObserver.subscribe("resetCoordinates",(function(){i.setState({errorX:"",errorY:"",coordinateX:"",coordinateY:"",coordinateXFloat:0,coordinateYFloat:0})})),i}return(0,i.Z)(r,[{key:"handleInputX",value:function(e){if(!(!this.props.inverseAxis&&e.value===this.state.coordinateX||this.props.inverseAxis&&e.value===this.state.coordinateY))if(this.props.inverseAxis?this.setState({coordinateY:e.value,coordinateYFloat:e.floatValue,wasModified:!0}):this.setState({coordinateX:e.value,coordinateXFloat:e.floatValue,wasModified:!0}),isNaN(e.floatValue)||!isFinite(e.floatValue))this.setState({errorX:"Ange ett decimaltal"});else{this.setState({errorX:""});var t=e.floatValue;this.props.inverseAxis?this.localObserver.publish("newCoordinates",{coordinates:[this.state.coordinateXFloat,t],proj:this.props.transformation.code,force:!1}):this.localObserver.publish("newCoordinates",{coordinates:[t,this.state.coordinateYFloat],proj:this.props.transformation.code,force:!1})}}},{key:"handleInputY",value:function(e){if(!(!this.props.inverseAxis&&e.value===this.state.coordinateY||this.props.inverseAxis&&e.value===this.state.coordinateX))if(this.props.inverseAxis?this.setState({coordinateX:e.value,coordinateXFloat:e.floatValue,wasModified:!0}):this.setState({coordinateY:e.value,coordinateYFloat:e.floatValue,wasModified:!0}),isNaN(e.floatValue)||!isFinite(e.floatValue))this.setState({errorY:"Ange ett decimaltal"});else{this.setState({errorY:""});var t=e.floatValue;this.props.inverseAxis?this.localObserver.publish("newCoordinates",{coordinates:[t,this.state.coordinateYFloat],proj:this.props.transformation.code,force:!1}):this.localObserver.publish("newCoordinates",{coordinates:[this.state.coordinateXFloat,t],proj:this.props.transformation.code,force:!1})}}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){var e=this,t=this.props.inverseAxis?this.state.coordinateY:this.state.coordinateX,r=this.props.inverseAxis?this.state.coordinateX:this.state.coordinateY;return this.model.showFieldsOnStart||this.state.wasModified?(0,f.jsxs)(p.ZP,{container:!0,item:!0,spacing:2,rowSpacing:1,children:[(0,f.jsx)(p.ZP,{item:!0,xs:12,children:(0,f.jsx)(l.Z,{variant:"body2",style:{fontWeight:600},children:this.transformation?this.transformation.title+" ("+this.transformation.code+")":""})}),(0,f.jsx)(p.ZP,{item:!0,xs:12,md:6,children:(0,f.jsx)(d.Z,{label:this.props.transformation.xtitle,margin:"dense",variant:"outlined",size:"small",value:t,name:"numberformatX",type:"text",onValueChange:function(t){e.handleInputX(t)},axis:this.props.transformation.inverseAxis?"X":"Y",error:""!==this.state.errorX,helperText:this.state.errorX,thousandSeparator:!!this.model.thousandSeparator&&" ",customInput:c.Z,fullWidth:!0})}),(0,f.jsx)(p.ZP,{item:!0,xs:12,md:6,children:(0,f.jsx)(d.Z,{label:this.props.transformation.ytitle,margin:"dense",size:"small",variant:"outlined",value:r,name:"numberformatY",type:"text",onValueChange:function(t){e.handleInputY(t)},axis:this.props.transformation.inverseAxis?"Y":"X",error:""!==this.state.errorY,helperText:this.state.errorY,thousandSeparator:!!this.model.thousandSeparator&&" ",customInput:c.Z,fullWidth:!0})})]}):(0,f.jsx)(f.Fragment,{})}}]),r}(s.PureComponent);t.default=(0,u.RM)(m)},31651:function(e,t,r){r.r(t);var o=r(15671),i=r(43144),a=r(60136),n=r(29388),s=r(72791),l=r(61091),c=r(76863),d=r(45953),h=r(16430),u=r(75814),p=r(81872),f=r(98246),m=r(77959),v=r(80184),x=(0,c.ZP)(d.ZP)((function(e){return{padding:e.theme.spacing(2)}})),b=function(e){(0,a.Z)(r,e);var t=(0,n.Z)(r);function r(e){var i;return(0,o.Z)(this,r),(i=t.call(this,e)).state={},i.model=i.props.model,i.snackbarKey=null,i.localObserver=i.props.localObserver,i.localObserver.subscribe("showSnackbar",(function(){i.snackbarKey=i.props.enqueueSnackbar("Klicka i kartan f\xf6r att v\xe4lja position.",{variant:"info",persist:!0,anchorOrigin:{vertical:"bottom",horizontal:"center"}})})),i.localObserver.subscribe("hideSnackbar",(function(){i.props.closeSnackbar(i.snackbarKey)})),i.localObserver.subscribe("location-permissions-denied",(function(){i.props.enqueueSnackbar(m.LOCATION_DENIED_SNACK_MESSAGE,m.LOCATION_DENIED_SNACK_OPTIONS)})),i}return(0,i.Z)(r,[{key:"componentWillUnmount",value:function(){this.model.deactivate()}},{key:"renderProjections",value:function(){var e=this;return(0,v.jsx)(v.Fragment,{children:this.props.model.transformations.map((function(t,r){return(0,v.jsx)(h.default,{model:e.model,transformation:t,inverseAxis:t.inverseAxis},"".concat(t.code).concat(r,"-element"))}))})}},{key:"renderButtons",value:function(){var e=this;return(0,v.jsxs)(d.ZP,{container:!0,item:!0,spacing:2,rowSpacing:1,sx:{mb:{xs:6,sm:0,md:0}},children:[(0,v.jsx)(d.ZP,{item:!0,xs:12,md:6,children:(0,v.jsx)(u.Z,{title:"Rensa f\xe4lt",children:(0,v.jsx)(l.Z,{fullWidth:!0,variant:"contained",color:"primary",onClick:function(){e.props.model.resetCoords()},children:"Rensa"})})}),(0,v.jsx)(d.ZP,{item:!0,xs:12,md:6,children:(0,v.jsx)(u.Z,{title:"Min position",children:(0,v.jsx)(l.Z,{fullWidth:!0,variant:"contained",color:"primary",onClick:function(){e.props.model.goToUserLocation()},children:"Min position"})})}),(0,v.jsx)(d.ZP,{item:!0,xs:12,sm:6,md:6,children:(0,v.jsx)(u.Z,{title:"Panorera till markering",children:(0,v.jsx)(l.Z,{fullWidth:!0,variant:"contained",color:"primary",onClick:function(){e.props.model.centerOnMarker()},children:"Panorera"})})}),(0,v.jsx)(d.ZP,{item:!0,xs:12,sm:6,md:6,children:(0,v.jsx)(u.Z,{title:"Zooma in till markering",children:(0,v.jsx)(l.Z,{fullWidth:!0,variant:"contained",color:"primary",onClick:function(){e.props.model.zoomOnMarker()},children:"Zooma"})})})]})}},{key:"render",value:function(){return(0,v.jsxs)(d.ZP,{container:!0,children:[(0,v.jsx)(x,{container:!0,rowSpacing:2,columnSpacing:1,children:this.renderProjections()}),(0,v.jsx)(d.ZP,{item:!0,xs:12,children:(0,v.jsx)(p.Z,{})}),(0,v.jsx)(x,{container:!0,rowSpacing:2,columnSpacing:1,children:this.renderButtons()})]})}}]),r}(s.PureComponent);t.default=(0,f.RM)(b)},77959:function(e,t,r){r.r(t),r.d(t,{LOCATION_DENIED_SNACK_MESSAGE:function(){return o},LOCATION_DENIED_SNACK_OPTIONS:function(){return i}});var o="Du beh\xf6ver till\xe5ta att applikationen visar din position. F\xf6r datorer: De flesta webbl\xe4sare har en l\xe5s-ikon i adressf\xe4ltet som du kan klicka p\xe5 f\xf6r att till\xe5ta Plats/Position.",i=Object.freeze({variant:"info",persist:!1,anchorOrigin:{vertical:"top",horizontal:"center"}})}}]);
//# sourceMappingURL=1651.8d6c40cc.chunk.js.map