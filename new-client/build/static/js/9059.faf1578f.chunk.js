"use strict";(self.webpackChunkhajk_client=self.webpackChunkhajk_client||[]).push([[9059,6296],{39059:function(e,t,n){n.r(t);var r=n(15861),a=n(29439),o=n(16296),l=n(64687),i=n.n(l),u=n(72791),c=n(54164),s=n(49392),f=n(80184);t.default=function(e){var t=e.open,n=e.setOpen,l=e.handleUploadedFile,p=u.useState(!1),d=(0,a.Z)(p,2),h=d[0],m=d[1],v=u.useCallback((0,r.Z)(i().mark((function e(){var t,r,a,u,c,s,f;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,t=document.getElementById("kml-file-input"),r=!1,a=!1,e.prev=4,c=function(){var e=f.value,t=new FileReader;t.onload=function(){try{l(t.result)}catch(e){console.error("Failed to import kml-file. Error: ".concat(e))}},t.readAsText(e)},s=(0,o.Z)(t.files);case 7:return e.next=9,s.next();case 9:if(!(r=!(f=e.sent).done)){e.next=14;break}c();case 11:r=!1,e.next=7;break;case 14:e.next=20;break;case 16:e.prev=16,e.t0=e.catch(4),a=!0,u=e.t0;case 20:if(e.prev=20,e.prev=21,!r||null==s.return){e.next=25;break}return e.next=25,s.return();case 25:if(e.prev=25,!a){e.next=28;break}throw u;case 28:return e.finish(25);case 29:return e.finish(20);case 30:e.next=35;break;case 32:e.prev=32,e.t1=e.catch(0),console.error("Failed to import kml-files. Error: ".concat(e.t1));case 35:n(!1),m(!1);case 37:case"end":return e.stop()}}),e,null,[[0,32],[4,16,20,30],[21,,25,29]])}))),[n,l]),k=u.useCallback((function(){n(!1)}),[n]),b=u.useCallback((function(e){var t=document.getElementById("kml-file-input");m(t.files.length>0)}),[]);return(0,c.createPortal)((0,f.jsx)(s.default,{options:{headerText:"Ladda upp .kml-filer",buttonText:h?"Ladda upp":null,abortText:"Avbryt",text:(0,f.jsx)("input",{type:"file",name:"files[]",accept:".kml",multiple:!0,id:"kml-file-input",onChange:b}),useLegacyNonMarkdownRenderer:!0},open:t,onClose:v,onAbort:k}),document.getElementById("map"))}},16296:function(e,t,n){function r(e){var t,n,r,o=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,r=Symbol.iterator);o--;){if(n&&null!=(t=e[n]))return t.call(e);if(r&&null!=(t=e[r]))return new a(t.call(e));n="@@asyncIterator",r="@@iterator"}throw new TypeError("Object is not async iterable")}function a(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then((function(e){return{value:e,done:t}}))}return a=function(e){this.s=e,this.n=e.next},a.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var n=this.s.return;return void 0===n?Promise.resolve({value:e,done:!0}):t(n.apply(this.s,arguments))},throw:function(e){var n=this.s.return;return void 0===n?Promise.reject(e):t(n.apply(this.s,arguments))}},new a(e)}n.d(t,{Z:function(){return r}})}}]);
//# sourceMappingURL=9059.faf1578f.chunk.js.map