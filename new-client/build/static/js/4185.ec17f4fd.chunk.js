"use strict";(self.webpackChunkhajk_client=self.webpackChunkhajk_client||[]).push([[4185,2670],{82589:function(e,t,n){n.d(t,{Z:function(){return d}});var i=n(15545),r=n(28907),o=n(87076);function a(e){var t={type:"Feature"};return Object.keys(e).forEach((function(n){switch(n){case"type":case"properties":case"geometry":return;default:t[n]=e[n]}})),t.properties=s(e.properties),t.geometry=u(e.geometry),t}function s(e){var t={};return e?(Object.keys(e).forEach((function(n){var i=e[n];"object"===typeof i?null===i?t[n]=null:Array.isArray(i)?t[n]=i.map((function(e){return e})):t[n]=s(i):t[n]=i})),t):t}function u(e){var t={type:e.type};return e.bbox&&(t.bbox=e.bbox),"GeometryCollection"===e.type?(t.geometries=e.geometries.map((function(e){return u(e)})),t):(t.coordinates=l(e.coordinates),t)}function l(e){var t=e;return"object"!==typeof t[0]?t.slice():t.map((function(e){return l(e)}))}var h=function(e){if(!e)throw new Error("geojson is required");switch(e.type){case"Feature":return a(e);case"FeatureCollection":return function(e){var t={type:"FeatureCollection"};return Object.keys(e).forEach((function(n){switch(n){case"type":case"features":return;default:t[n]=e[n]}})),t.features=e.features.map((function(e){return a(e)})),t}(e);case"Point":case"LineString":case"Polygon":case"MultiPoint":case"MultiLineString":case"MultiPolygon":case"GeometryCollection":return u(e);default:throw new Error("unknown GeoJSON type")}};var c=function(e,t,n,i){void 0===i&&(i={});var a=t<0,s=(0,r.vs)(Math.abs(t),i.units,"meters");a&&(s=-Math.abs(s));var u=(0,o.c9)(e),l=function(e,t,n,i){i=void 0===i?r.rQ:Number(i);var o=t/i,a=e[0]*Math.PI/180,s=(0,r.Ht)(e[1]),u=(0,r.Ht)(n),l=o*Math.cos(u),h=s+l;Math.abs(h)>Math.PI/2&&(h=h>0?Math.PI-h:-Math.PI-h);var c=Math.log(Math.tan(h/2+Math.PI/4)/Math.tan(s/2+Math.PI/4)),d=Math.abs(c)>1e-11?l/c:Math.cos(s),f=o*Math.sin(u)/d;return[(180*(a+f)/Math.PI+540)%360-180,180*h/Math.PI]}(u,s,n);return l[0]+=l[0]-u[0]>180?-360:u[0]-l[0]>180?360:0,(0,r.xm)(l,i.properties)};var d=function(e,t,n,a){if(a=a||{},!(0,r.Kn)(a))throw new Error("options is invalid");var s=a.units,u=a.zTranslation,l=a.mutate;if(!e)throw new Error("geojson is required");if(void 0===t||null===t||isNaN(t))throw new Error("distance is required");if(u&&"number"!==typeof u&&isNaN(u))throw new Error("zTranslation is not a number");if(u=void 0!==u?u:0,0===t&&0===u)return e;if(void 0===n||null===n||isNaN(n))throw new Error("direction is required");return t<0&&(t=-t,n+=180),!1!==l&&void 0!==l||(e=h(e)),(0,i.pZ)(e,(function(e){var i=(0,o.r7)(c(e,t,n,{units:s}));e[0]=i[0],e[1]=i[1],u&&3===e.length&&(e[2]+=u)})),e}},42670:function(e,t,n){var i=n(15671),r=n(43144),o=n(60136),a=n(29388),s=n(45957),u=n(5989),l=n(99148),h=n(37130),c=n(30923),d=n(1408),f="element",g="map",v="offset",p="position",m="positioning",y=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(e){var r;return(0,i.Z)(this,n),(r=t.call(this)).on,r.once,r.un,r.options=e,r.id=e.id,r.insertFirst=void 0===e.insertFirst||e.insertFirst,r.stopEvent=void 0===e.stopEvent||e.stopEvent,r.element=document.createElement("div"),r.element.className=void 0!==e.className?e.className:"ol-overlay-container "+l.$A,r.element.style.position="absolute",r.element.style.pointerEvents="auto",r.autoPan=!0===e.autoPan?{}:e.autoPan||void 0,r.rendered={transform_:"",visible:!0},r.mapPostrenderListenerKey=null,r.addChangeListener(f,r.handleElementChanged),r.addChangeListener(g,r.handleMapChanged),r.addChangeListener(v,r.handleOffsetChanged),r.addChangeListener(p,r.handlePositionChanged),r.addChangeListener(m,r.handlePositioningChanged),void 0!==e.element&&r.setElement(e.element),r.setOffset(void 0!==e.offset?e.offset:[0,0]),r.setPositioning(e.positioning||"top-left"),void 0!==e.position&&r.setPosition(e.position),r}return(0,r.Z)(n,[{key:"getElement",value:function(){return this.get(f)}},{key:"getId",value:function(){return this.id}},{key:"getMap",value:function(){return this.get(g)||null}},{key:"getOffset",value:function(){return this.get(v)}},{key:"getPosition",value:function(){return this.get(p)}},{key:"getPositioning",value:function(){return this.get(m)}},{key:"handleElementChanged",value:function(){(0,d.ep)(this.element);var e=this.getElement();e&&this.element.appendChild(e)}},{key:"handleMapChanged",value:function(){this.mapPostrenderListenerKey&&((0,d.ZF)(this.element),(0,c.bN)(this.mapPostrenderListenerKey),this.mapPostrenderListenerKey=null);var e=this.getMap();if(e){this.mapPostrenderListenerKey=(0,c.oL)(e,u.Z.POSTRENDER,this.render,this),this.updatePixelPosition();var t=this.stopEvent?e.getOverlayContainerStopEvent():e.getOverlayContainer();this.insertFirst?t.insertBefore(this.element,t.childNodes[0]||null):t.appendChild(this.element),this.performAutoPan()}}},{key:"render",value:function(){this.updatePixelPosition()}},{key:"handleOffsetChanged",value:function(){this.updatePixelPosition()}},{key:"handlePositionChanged",value:function(){this.updatePixelPosition(),this.performAutoPan()}},{key:"handlePositioningChanged",value:function(){this.updatePixelPosition()}},{key:"setElement",value:function(e){this.set(f,e)}},{key:"setMap",value:function(e){this.set(g,e)}},{key:"setOffset",value:function(e){this.set(v,e)}},{key:"setPosition",value:function(e){this.set(p,e)}},{key:"performAutoPan",value:function(){this.autoPan&&this.panIntoView(this.autoPan)}},{key:"panIntoView",value:function(e){var t=this.getMap();if(t&&t.getTargetElement()&&this.get(p)){var n=this.getRect(t.getTargetElement(),t.getSize()),i=this.getElement(),r=this.getRect(i,[(0,d.iO)(i),(0,d.Pb)(i)]),o=void 0===(e=e||{}).margin?20:e.margin;if(!(0,h.containsExtent)(n,r)){var a=r[0]-n[0],s=n[2]-r[2],u=r[1]-n[1],l=n[3]-r[3],c=[0,0];if(a<0?c[0]=a-o:s<0&&(c[0]=Math.abs(s)+o),u<0?c[1]=u-o:l<0&&(c[1]=Math.abs(l)+o),0!==c[0]||0!==c[1]){var f=t.getView().getCenterInternal(),g=t.getPixelFromCoordinateInternal(f);if(!g)return;var v=[g[0]+c[0],g[1]+c[1]],m=e.animation||{};t.getView().animateInternal({center:t.getCoordinateFromPixelInternal(v),duration:m.duration,easing:m.easing})}}}}},{key:"getRect",value:function(e,t){var n=e.getBoundingClientRect(),i=n.left+window.pageXOffset,r=n.top+window.pageYOffset;return[i,r,i+t[0],r+t[1]]}},{key:"setPositioning",value:function(e){this.set(m,e)}},{key:"setVisible",value:function(e){this.rendered.visible!==e&&(this.element.style.display=e?"":"none",this.rendered.visible=e)}},{key:"updatePixelPosition",value:function(){var e=this.getMap(),t=this.getPosition();if(e&&e.isRendered()&&t){var n=e.getPixelFromCoordinate(t),i=e.getSize();this.updateRenderedPosition(n,i)}else this.setVisible(!1)}},{key:"updateRenderedPosition",value:function(e,t){var n=this.element.style,i=this.getOffset(),r=this.getPositioning();this.setVisible(!0);var o=Math.round(e[0]+i[0])+"px",a=Math.round(e[1]+i[1])+"px",s="0%",u="0%";"bottom-right"==r||"center-right"==r||"top-right"==r?s="-100%":"bottom-center"!=r&&"center-center"!=r&&"top-center"!=r||(s="-50%"),"bottom-left"==r||"bottom-center"==r||"bottom-right"==r?u="-100%":"center-left"!=r&&"center-center"!=r&&"center-right"!=r||(u="-50%");var l="translate(".concat(s,", ").concat(u,") translate(").concat(o,", ").concat(a,")");this.rendered.transform_!=l&&(this.rendered.transform_=l,n.transform=l)}},{key:"getOptions",value:function(){return this.options}}]),n}(s.Z);t.Z=y}}]);
//# sourceMappingURL=4185.ec17f4fd.chunk.js.map