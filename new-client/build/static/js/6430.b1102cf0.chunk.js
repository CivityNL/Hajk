"use strict";(self.webpackChunkhajk_client=self.webpackChunkhajk_client||[]).push([[6430],{16430:function(t,e,o){o.r(e);var a=o(15671),r=o(43144),s=o(60136),i=o(29388),n=o(72791),l=o(4565),d=o(59911),c=o(30948),h=o(42708),p=o(98246),u=o(45953),f=o(80184),m=function(t){(0,s.Z)(o,t);var e=(0,i.Z)(o);function o(t){var r;return(0,a.Z)(this,o),(r=e.call(this,t)).state={errorX:"",errorY:"",coordinateX:"",coordinateY:"",coordinateXFloat:0,coordinateYFloat:0,wasLastChanged:!1,wasModified:!1},r.model=r.props.model,r.transformation=r.props.transformation,r.localObserver=r.props.model.localObserver,r.localObserver.subscribe("newCoordinates",(function(t){if(t.proj!==r.transformation.code||t.force){var e=(0,h.vs)(t.coordinates,t.proj,r.props.transformation.code);r.setState({errorX:"",errorY:"",wasModified:!0,coordinateX:e[0].toFixed(r.transformation.precision),coordinateY:e[1].toFixed(r.transformation.precision),coordinateXFloat:e[0],coordinateYFloat:e[1],wasLastChanged:!1})}else r.setState({wasLastChanged:!0,wasModified:!0})})),r.localObserver.subscribe("resetCoordinates",(function(){r.setState({errorX:"",errorY:"",coordinateX:"",coordinateY:"",coordinateXFloat:0,coordinateYFloat:0})})),r}return(0,r.Z)(o,[{key:"handleInputX",value:function(t){if(!(!this.props.inverseAxis&&t.value===this.state.coordinateX||this.props.inverseAxis&&t.value===this.state.coordinateY))if(this.props.inverseAxis?this.setState({coordinateY:t.value,coordinateYFloat:t.floatValue,wasModified:!0}):this.setState({coordinateX:t.value,coordinateXFloat:t.floatValue,wasModified:!0}),isNaN(t.floatValue)||!isFinite(t.floatValue))this.setState({errorX:"Ange ett decimaltal"});else{this.setState({errorX:""});var e=t.floatValue;this.props.inverseAxis?this.localObserver.publish("newCoordinates",{coordinates:[this.state.coordinateXFloat,e],proj:this.props.transformation.code,force:!1}):this.localObserver.publish("newCoordinates",{coordinates:[e,this.state.coordinateYFloat],proj:this.props.transformation.code,force:!1})}}},{key:"handleInputY",value:function(t){if(!(!this.props.inverseAxis&&t.value===this.state.coordinateY||this.props.inverseAxis&&t.value===this.state.coordinateX))if(this.props.inverseAxis?this.setState({coordinateX:t.value,coordinateXFloat:t.floatValue,wasModified:!0}):this.setState({coordinateY:t.value,coordinateYFloat:t.floatValue,wasModified:!0}),isNaN(t.floatValue)||!isFinite(t.floatValue))this.setState({errorY:"Ange ett decimaltal"});else{this.setState({errorY:""});var e=t.floatValue;this.props.inverseAxis?this.localObserver.publish("newCoordinates",{coordinates:[e,this.state.coordinateYFloat],proj:this.props.transformation.code,force:!1}):this.localObserver.publish("newCoordinates",{coordinates:[this.state.coordinateXFloat,e],proj:this.props.transformation.code,force:!1})}}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){var t=this,e=this.props.inverseAxis?this.state.coordinateY:this.state.coordinateX,o=this.props.inverseAxis?this.state.coordinateX:this.state.coordinateY;return this.model.showFieldsOnStart||this.state.wasModified?(0,f.jsxs)(u.ZP,{container:!0,item:!0,spacing:2,rowSpacing:1,children:[(0,f.jsx)(u.ZP,{item:!0,xs:12,children:(0,f.jsx)(l.Z,{variant:"body2",style:{fontWeight:600},children:this.transformation?this.transformation.title+" ("+this.transformation.code+")":""})}),(0,f.jsx)(u.ZP,{item:!0,xs:12,md:6,children:(0,f.jsx)(c.Z,{label:this.props.transformation.xtitle,margin:"dense",variant:"outlined",size:"small",value:e,name:"numberformatX",type:"text",onValueChange:function(e){t.handleInputX(e)},axis:this.props.transformation.inverseAxis?"X":"Y",error:""!==this.state.errorX,helperText:this.state.errorX,thousandSeparator:!!this.model.thousandSeparator&&" ",customInput:d.Z,fullWidth:!0})}),(0,f.jsx)(u.ZP,{item:!0,xs:12,md:6,children:(0,f.jsx)(c.Z,{label:this.props.transformation.ytitle,margin:"dense",size:"small",variant:"outlined",value:o,name:"numberformatY",type:"text",onValueChange:function(e){t.handleInputY(e)},axis:this.props.transformation.inverseAxis?"Y":"X",error:""!==this.state.errorY,helperText:this.state.errorY,thousandSeparator:!!this.model.thousandSeparator&&" ",customInput:d.Z,fullWidth:!0})})]}):(0,f.jsx)(f.Fragment,{})}}]),o}(n.PureComponent);e.default=(0,p.RM)(m)}}]);
//# sourceMappingURL=6430.b1102cf0.chunk.js.map