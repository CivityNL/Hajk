"use strict";(self.webpackChunkhajk_client=self.webpackChunkhajk_client||[]).push([[5262],{65262:function(e,t,n){n.r(t),n.d(t,{default:function(){return b}});var r=n(93433),c=n(1413),u=n(29439),i=n(72791),l=n(54164),d=n(60788),s=n(40464),a=n(8440),o=n(45629),h=n(35110),f=n(19978),F=n(65514),x=n(45473),g=n(4346),k=n(77248),Z=n(61091),j=n(80184);function b(e){var t=e.localObserver,n=e.drawModel,b=e.model,p=i.useState({clickedFeatures:[],selectedFeatureIndexes:[],highlightedFeature:null}),I=(0,u.Z)(p,2),v=I[0],m=I[1],w=i.useCallback((function(){m({clickedFeatures:[],selectedFeatureIndexes:[],highlightedFeature:null})}),[]),C=i.useCallback((function(e){m((function(t){return(0,c.Z)((0,c.Z)({},t),{},{clickedFeatures:e})}))}),[]),M=function(){v.highlightedFeature&&n.removeFeature(v.highlightedFeature),w()};return i.useEffect((function(){return t.subscribe("drawModel.select.click",C),function(){t.unsubscribe("drawModel.select.click")}}),[t,C]),(0,l.createPortal)((0,j.jsxs)(d.Z,{open:v.clickedFeatures.length>1,onClose:M,onMouseDown:function(e){e.stopPropagation()},children:[(0,j.jsx)(s.Z,{children:"V\xe4lj de objekt du vill kopiera"}),(0,j.jsx)(a.Z,{children:(0,j.jsx)(o.Z,{sx:{width:"100%",maxHeight:"30vh"},children:v.clickedFeatures.map((function(e,t){return(0,j.jsx)(h.ZP,{disableGutters:!0,onMouseEnter:function(){return function(e){var t=v.clickedFeatures[e],r=b.createHighlightFeature(t);n.addFeature(r,{silent:!0}),m((0,c.Z)((0,c.Z)({},v),{},{highlightedFeature:r}))}(t)},onMouseLeave:function(){v.highlightedFeature&&n.removeFeature(v.highlightedFeature)},children:(0,j.jsxs)(f.Z,{onClick:function(){return function(e){var t=-1!==v.selectedFeatureIndexes.indexOf(e)?v.selectedFeatureIndexes.filter((function(t){return t!==e})):[].concat((0,r.Z)(v.selectedFeatureIndexes),[e]);m((function(e){return(0,c.Z)((0,c.Z)({},e),{},{selectedFeatureIndexes:t})}))}(t)},dense:!0,children:[(0,j.jsx)(F.Z,{children:(0,j.jsx)(x.Z,{edge:"start",checked:-1!==v.selectedFeatureIndexes.indexOf(t),tabIndex:-1,disableRipple:!0})}),(0,j.jsx)(g.Z,{primary:e.getId()})]})},t)}))})}),(0,j.jsxs)(k.Z,{children:[(0,j.jsx)(Z.Z,{disabled:0===v.selectedFeatureIndexes.length,onClick:function(){v.selectedFeatureIndexes.map((function(e){return n.drawSelectedFeature(v.clickedFeatures[e])})),w()},children:"OK"}),(0,j.jsx)(Z.Z,{onClick:M,children:"Avbryt"})]})]}),document.getElementById("map"))}}}]);
//# sourceMappingURL=5262.9c8245e4.chunk.js.map