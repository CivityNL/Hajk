"use strict";(self.webpackChunkhajk_client=self.webpackChunkhajk_client||[]).push([[4398,83,4083,1768,8355,2516,4673,5262,5732],{20083:function(e,t,n){n.r(t);n(72791);var i=n(54164),a=n(60788),r=n(40464),l=n(8440),s=n(4565),o=n(77248),c=n(61091),d=n(80184);t.default=function(e){var t=e.open,n=e.handleConfirm,u=e.handleAbort,h=e.titleName,f=e.contentDescription,x=e.cancel,m=e.confirm;return(0,i.createPortal)((0,d.jsxs)(a.Z,{open:t,onClose:u,onMouseDown:function(e){e.stopPropagation()},children:[(0,d.jsx)(r.Z,{children:h}),(0,d.jsx)(l.Z,{children:(0,d.jsx)(s.Z,{children:f})}),(0,d.jsxs)(o.Z,{children:[(0,d.jsx)(c.Z,{onClick:n,children:m}),(0,d.jsx)(c.Z,{onClick:u,variant:"contained",children:x})]})]}),document.getElementById("map"))}},4083:function(e,t,n){n.r(t),n.d(t,{default:function(){return l}});var i=n(29439),a=n(72791),r=n(67246);function l(e){var t=a.useState({functionalCookiesOk:(0,r.functionalOk)(),thirdPartyCookiesOk:(0,r.thirdPartyOk)()}),n=(0,i.Z)(t,2),l=n[0],s=n[1];return a.useEffect((function(){var t=e.subscribe("core.cookieLevelChanged",(function(){s({functionalCookiesOk:(0,r.functionalOk)(),thirdPartyCookiesOk:(0,r.thirdPartyOk)()})}));return function(){t.unsubscribe()}}),[e]),l}},51768:function(e,t,n){n.r(t),n.d(t,{default:function(){return a}});var i=n(72791);function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=i.useRef(!1);i.useEffect((function(){if(n.current)return e();n.current=!0}),t)}},35266:function(e,t,n){n.r(t);n(72791);var i=n(45953),a=n(56650),r=n(75814),l=n(28854),s=n(91762),o=n(80184);t.default=function(e){return(0,o.jsx)(i.ZP,{container:!0,justifyContent:"right"===e.pluginPosition?"flex-end":"flex-start",children:(0,o.jsx)(a.Z,{elevation:4,children:s.ACTIVITIES.map((function(t,n){return(0,o.jsx)("div",{style:{padding:8},children:(0,o.jsx)(r.Z,{disableInteractive:!0,title:t.tooltip,children:(0,o.jsx)(l.Z,{sx:{color:"text.primary"},value:t.id,selected:e.activityId===t.id,onChange:function(){e.setActivityId(t.id)},children:t.icon})})},n)}))})})}},37979:function(e,t,n){n.r(t);n(72791);var i=n(59911),a=n(35702),r=n(75814),l=n(91762),s=n(80184);t.default=function(e){return(0,s.jsx)(i.Z,{fullWidth:!0,id:"select-draw-type",variant:"outlined",size:"small",select:!0,value:e.activeDrawType,onChange:function(t){return e.setActiveDrawType(t.target.value)},children:l.DRAW_TYPES.map((function(e){return(0,s.jsx)(a.Z,{value:e.type,children:(0,s.jsx)(r.Z,{disableInteractive:!0,title:e.tooltip,children:(0,s.jsx)("span",{style:{width:"100%"},children:e.label})})},e.type)}))})}},48355:function(e,t,n){n.r(t);var i=n(29439),a=n(72791),r=n(54164),l=n(49392),s=n(80184);t.default=function(e){var t=e.drawModel,n=e.localObserver,o=a.useState(null),c=(0,i.Z)(o,2),d=c[0],u=c[1],h=a.useCallback((function(e){"Text"===e.get("DRAW_METHOD")&&u(e)}),[]),f=a.useCallback((function(e){0===e.length?t.removeFeature(d):(d.set("USER_TEXT",e),t.refreshFeaturesTextStyle()),u(null)}),[t,d]),x=a.useCallback((function(){t.removeFeature(d),u(null)}),[t,d]);return a.useEffect((function(){return n.subscribe("drawModel.featureAdded",h),function(){n.unsubscribe("drawModel.featureAdded")}}),[t,n,h]),null!==d?(0,r.createPortal)((0,s.jsx)(l.default,{options:{text:"",prompt:!0,headerText:"Ange text",buttonText:"Ok",abortText:"Avbryt"},open:null!==d,onClose:f,onAbort:x}),document.getElementById("map")):null}},62516:function(e,t,n){n.r(t);var i=n(29439),a=n(72791),r=n(45953),l=n(4565),s=n(75814),o=n(59911),c=n(80184);t.default=function(e){var t=e.feature,n=e.model,d=e.drawModel,u=a.useState(""),h=(0,i.Z)(u,2),f=h[0],x=h[1];return a.useEffect((function(){x(n.getFeatureTitle(t))}),[t,n]),a.useEffect((function(){d.setFeatureAttribute(t,"FEATURE_TITLE",f)}),[d,t,f]),"Text"!==t.get("DRAW_METHOD")?(0,c.jsxs)(r.ZP,{item:!0,xs:12,style:{marginTop:16},children:[(0,c.jsx)(r.ZP,{item:!0,xs:12,style:{marginBottom:4},children:(0,c.jsx)(l.Z,{align:"center",children:"Titel"})}),(0,c.jsx)(r.ZP,{item:!0,xs:12,children:(0,c.jsx)(s.Z,{title:"Angle en titel som kan anv\xe4ndas f\xf6r att identifiera objektet.",children:(0,c.jsx)(o.Z,{fullWidth:!0,value:f,onChange:function(e){return x(e.target.value)},variant:"outlined",size:"small"})})})]}):null}},84673:function(e,t,n){n.r(t);n(72791);var i=n(56650),a=n(4565),r=n(80184);t.default=function(e){var t=e.text;return(0,r.jsx)(i.Z,{style:{width:"100%",padding:8},children:(0,r.jsx)(a.Z,{align:"center",variant:"body2",children:t})})}},65262:function(e,t,n){n.r(t),n.d(t,{default:function(){return k}});var i=n(93433),a=n(1413),r=n(29439),l=n(72791),s=n(54164),o=n(60788),c=n(40464),d=n(8440),u=n(45629),h=n(35110),f=n(19978),x=n(65514),m=n(45473),v=n(4346),j=n(77248),g=n(61091),Z=n(80184);function k(e){var t=e.localObserver,n=e.drawModel,k=e.model,p=l.useState({clickedFeatures:[],selectedFeatureIndexes:[],highlightedFeature:null}),b=(0,r.Z)(p,2),y=b[0],S=b[1],w=l.useCallback((function(){S({clickedFeatures:[],selectedFeatureIndexes:[],highlightedFeature:null})}),[]),C=l.useCallback((function(e){S((function(t){return(0,a.Z)((0,a.Z)({},t),{},{clickedFeatures:e})}))}),[]),P=function(){y.highlightedFeature&&n.removeFeature(y.highlightedFeature),w()};return l.useEffect((function(){return t.subscribe("drawModel.select.click",C),function(){t.unsubscribe("drawModel.select.click")}}),[t,C]),(0,s.createPortal)((0,Z.jsxs)(o.Z,{open:y.clickedFeatures.length>1,onClose:P,onMouseDown:function(e){e.stopPropagation()},children:[(0,Z.jsx)(c.Z,{children:"V\xe4lj de objekt du vill kopiera"}),(0,Z.jsx)(d.Z,{children:(0,Z.jsx)(u.Z,{sx:{width:"100%",maxHeight:"30vh"},children:y.clickedFeatures.map((function(e,t){return(0,Z.jsx)(h.ZP,{disableGutters:!0,onMouseEnter:function(){return function(e){var t=y.clickedFeatures[e],i=k.createHighlightFeature(t);n.addFeature(i,{silent:!0}),S((0,a.Z)((0,a.Z)({},y),{},{highlightedFeature:i}))}(t)},onMouseLeave:function(){y.highlightedFeature&&n.removeFeature(y.highlightedFeature)},children:(0,Z.jsxs)(f.Z,{onClick:function(){return function(e){var t=-1!==y.selectedFeatureIndexes.indexOf(e)?y.selectedFeatureIndexes.filter((function(t){return t!==e})):[].concat((0,i.Z)(y.selectedFeatureIndexes),[e]);S((function(e){return(0,a.Z)((0,a.Z)({},e),{},{selectedFeatureIndexes:t})}))}(t)},dense:!0,children:[(0,Z.jsx)(x.Z,{children:(0,Z.jsx)(m.Z,{edge:"start",checked:-1!==y.selectedFeatureIndexes.indexOf(t),tabIndex:-1,disableRipple:!0})}),(0,Z.jsx)(v.Z,{primary:e.getId()})]})},t)}))})}),(0,Z.jsxs)(j.Z,{children:[(0,Z.jsx)(g.Z,{disabled:0===y.selectedFeatureIndexes.length,onClick:function(){y.selectedFeatureIndexes.map((function(e){return n.drawSelectedFeature(y.clickedFeatures[e])})),w()},children:"OK"}),(0,Z.jsx)(g.Z,{onClick:P,children:"Avbryt"})]})]}),document.getElementById("map"))}},39059:function(e,t,n){n.r(t);var i=n(15861),a=n(29439),r=n(16296),l=n(64687),s=n.n(l),o=n(72791),c=n(54164),d=n(49392),u=n(80184);t.default=function(e){var t=e.open,n=e.setOpen,l=e.handleUploadedFile,h=o.useState(!1),f=(0,a.Z)(h,2),x=f[0],m=f[1],v=o.useCallback((0,i.Z)(s().mark((function e(){var t,i,a,o,c,d,u;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,t=document.getElementById("kml-file-input"),i=!1,a=!1,e.prev=4,c=function(){var e=u.value,t=new FileReader;t.onload=function(){try{l(t.result)}catch(e){console.error("Failed to import kml-file. Error: ".concat(e))}},t.readAsText(e)},d=(0,r.Z)(t.files);case 7:return e.next=9,d.next();case 9:if(!(i=!(u=e.sent).done)){e.next=14;break}c();case 11:i=!1,e.next=7;break;case 14:e.next=20;break;case 16:e.prev=16,e.t0=e.catch(4),a=!0,o=e.t0;case 20:if(e.prev=20,e.prev=21,!i||null==d.return){e.next=25;break}return e.next=25,d.return();case 25:if(e.prev=25,!a){e.next=28;break}throw o;case 28:return e.finish(25);case 29:return e.finish(20);case 30:e.next=35;break;case 32:e.prev=32,e.t1=e.catch(0),console.error("Failed to import kml-files. Error: ".concat(e.t1));case 35:n(!1),m(!1);case 37:case"end":return e.stop()}}),e,null,[[0,32],[4,16,20,30],[21,,25,29]])}))),[n,l]),j=o.useCallback((function(){n(!1)}),[n]),g=o.useCallback((function(e){var t=document.getElementById("kml-file-input");m(t.files.length>0)}),[]);return(0,c.createPortal)((0,u.jsx)(d.default,{options:{headerText:"Ladda upp .kml-filer",buttonText:x?"Ladda upp":null,abortText:"Avbryt",text:(0,u.jsx)("input",{type:"file",name:"files[]",accept:".kml",multiple:!0,id:"kml-file-input",onChange:g}),useLegacyNonMarkdownRenderer:!0},open:t,onClose:v,onAbort:j}),document.getElementById("map"))}},55474:function(e,t,n){n.r(t);n(72791);var i=n(45953),a=n(4565),r=n(37979),l=n(84673),s=n(36833),o=n(48355),c=n(65262),d=n(80184);t.default=function(e){var t=e.model,n=e.activeDrawType,u=e.setActiveDrawType,h=e.localObserver,f=e.drawModel,x=t.getActivityFromId(e.id);return(0,d.jsxs)(i.ZP,{container:!0,children:[(0,d.jsx)(i.ZP,{item:!0,xs:12,children:(0,d.jsx)(l.default,{text:x.information})}),(0,d.jsxs)(i.ZP,{item:!0,xs:12,style:{marginTop:16},children:[(0,d.jsx)(i.ZP,{item:!0,xs:12,style:{marginBottom:4},children:(0,d.jsx)(a.Z,{align:"center",children:"Typ"})}),(0,d.jsx)(i.ZP,{item:!0,xs:12,children:(0,d.jsx)(r.default,{activeDrawType:n,setActiveDrawType:u})})]}),(0,d.jsx)(s.default,{activeDrawType:n,drawStyle:e.drawStyle,drawModel:e.drawModel,setDrawStyle:e.setDrawStyle,textStyle:e.textStyle,setTextStyle:e.setTextStyle}),(0,d.jsx)(o.default,{localObserver:e.localObserver,drawModel:e.drawModel}),(0,d.jsx)(c.default,{localObserver:h,drawModel:f,model:t})]})}},62079:function(e,t,n){n.r(t);n(72791);var i=n(76863),a=n(61091),r=n(90069),l=n(13811),s=n(56650),o=n(45953),c=n(4565),d=n(75814),u=n(63939),h=n(27247),f=n(84673),x=n(80184),m=(0,i.ZP)(s.Z)((function(e){var t=e.theme;return{width:"100%",padding:t.spacing(1),marginBottom:t.spacing(1),borderRight:"".concat(t.spacing(.5)," solid ").concat(t.palette.info.main),borderLeft:"".concat(t.spacing(.5)," solid ").concat(t.palette.info.main)}})),v=function(e){var t=e.globalObserver;return(0,x.jsxs)(o.ZP,{container:!0,spacing:2,children:[(0,x.jsx)(o.ZP,{item:!0,xs:12,children:(0,x.jsx)(f.default,{text:"Det ser ut som att du har valt att inte till\xe5ta funktionella kakor. P\xe5 grund av detta s\xe5 kan du inte se dina senast borttagna objekt. Klicka nedan f\xf6r att \xe4ndra inst\xe4llningarna."})}),(0,x.jsx)(o.ZP,{item:!0,xs:12,children:(0,x.jsx)(a.Z,{fullWidth:!0,variant:"contained",onClick:function(){t.publish("core.showCookieBanner")},children:"Cookie-inst\xe4llningar"})})]})},j=function(e){var t=e.onRestoreClick,n=e.title;return(0,x.jsx)(r.Z,{in:!0,appear:!0,children:(0,x.jsx)(m,{children:(0,x.jsxs)(o.ZP,{container:!0,justifyContent:"space-between",alignItems:"center",children:[(0,x.jsx)(c.Z,{variant:"button",children:n}),(0,x.jsx)(d.Z,{disableInteractive:!0,title:"Klicka f\xf6r att \xe5terst\xe4lla ritobjektet.",children:(0,x.jsx)(l.Z,{size:"small",onClick:t,children:(0,x.jsx)(u.Z,{})})})]})})})},g=function(e){var t=e.removedFeatures,n=e.drawModel;return t.map((function(e){return(0,x.jsx)(j,{title:e.get("HANDLED_AT"),onRestoreClick:function(){return n.addFeature(e)}},e.get("HANDLED_ID"))}))};t.default=function(e){var t=e.id,n=e.model,i=e.drawModel,r=e.removedFeatures,l=e.globalObserver,s=e.functionalCookiesOk,d=n.getActivityFromId(t);return(0,x.jsxs)(o.ZP,{container:!0,spacing:2,children:[(0,x.jsx)(o.ZP,{item:!0,xs:12,children:(0,x.jsx)(f.default,{text:d.information})}),(0,x.jsx)(o.ZP,{item:!0,xs:12,children:(0,x.jsx)(a.Z,{fullWidth:!0,variant:"contained",onClick:i.removeDrawnFeatures,startIcon:(0,x.jsx)(h.Z,{}),children:"Ta bort alla ritobjekt"})}),(0,x.jsxs)(o.ZP,{container:!0,item:!0,children:[(0,x.jsx)(o.ZP,{item:!0,xs:12,children:(0,x.jsx)(c.Z,{variant:"caption",children:"Senast borttagna:"})}),(0,x.jsx)(o.ZP,{item:!0,xs:12,children:s?(0,x.jsx)(g,{drawModel:i,removedFeatures:r}):(0,x.jsx)(v,{globalObserver:l})})]})]})}},89353:function(e,t,n){n.r(t);n(72791);var i=n(56650),a=n(45953),r=n(61091),l=n(4565),s=n(75814),o=n(71770),c=n(84673),d=n(62516),u=n(98462),h=n(80184),f=function(e){var t=e.modifyEnabled,n=e.setModifyEnabled;return(0,h.jsx)(i.Z,{style:{padding:8,marginTop:8},children:(0,h.jsxs)(a.ZP,{container:!0,justifyContent:"space-between",alignItems:"center",children:[(0,h.jsx)(l.Z,{variant:"body2",children:"Till\xe5t redigering av noder"}),(0,h.jsx)(s.Z,{disableInteractive:!0,title:t?"Avaktivera redigering av noder f\xf6r att enklare kunna selektera objekt i kartan f\xf6r redigering av f\xe4rg etc.":"Aktivera f\xf6r att kunna redigera objektens utbredning i kartan.",children:(0,h.jsx)(o.Z,{checked:t,onChange:function(){return n(!t)},size:"small",color:"primary"})})]})})};t.default=function(e){var t=e.model.getActivityFromId(e.id);return(0,h.jsxs)(a.ZP,{container:!0,direction:"column",justifyContent:"space-between",style:{height:"100%"},children:[(0,h.jsxs)(a.ZP,{container:!0,children:[(0,h.jsx)(a.ZP,{item:!0,xs:12,children:(0,h.jsx)(c.default,{text:t.information})}),(0,h.jsx)(a.ZP,{item:!0,xs:12,children:(0,h.jsx)(f,{drawModel:e.drawModel,modifyEnabled:e.modifyEnabled,setModifyEnabled:e.setModifyEnabled})}),(0,h.jsx)(a.ZP,{item:!0,xs:12,children:null===e.editFeature?(0,h.jsx)(l.Z,{align:"center",style:{marginTop:24},children:"Klicka p\xe5 ett objekt i kartan f\xf6r att \xe4ndra dess utseende."}):(0,h.jsxs)(a.ZP,{item:!0,xs:12,children:[(0,h.jsx)(d.default,{feature:e.editFeature,model:e.model,drawModel:e.drawModel}),(0,h.jsx)(u.default,{feature:e.editFeature,model:e.model,drawModel:e.drawModel})]})})]}),e.editFeature&&(0,h.jsx)(a.ZP,{container:!0,style:{marginTop:8},children:(0,h.jsx)(s.Z,{disableInteractive:!0,title:"Klicka f\xf6r att duplicera det markerade objektet.",children:(0,h.jsx)(r.Z,{variant:"contained",fullWidth:!0,onClick:function(){e.drawModel.duplicateFeature(e.editFeature),e.drawModel.reBindFeaturePropertyListener()},children:"Duplicera objekt"})})})]})}},65732:function(e,t,n){n.r(t);var i=n(29439),a=n(93433),r=n(72791),l=n(56650),s=n(45953),o=n(59911),c=n(61091),d=n(4565),u=n(75814),h=n(71770),f=n(84673),x=n(80184),m=function(e){var t=e.translateEnabled,n=e.setTranslateEnabled;return(0,x.jsx)(l.Z,{style:{padding:8,marginTop:8},children:(0,x.jsxs)(s.ZP,{container:!0,justifyContent:"space-between",alignItems:"center",children:[(0,x.jsx)(d.Z,{variant:"body2",children:"Till\xe5t fri f\xf6rflyttning"}),(0,x.jsx)(u.Z,{disableInteractive:!0,title:t?"Avaktivera f\xf6r att inte till\xe5ta f\xf6rflyttning av objekten i kartan.":"Aktivera f\xf6r att till\xe5ta f\xf6rflyttning av objekten i kartan.",children:(0,x.jsx)(h.Z,{checked:t,onChange:function(){return n(!t)},size:"small",color:"primary"})})]})})},v=function(e){return(0,x.jsx)(l.Z,{style:{padding:8,marginTop:8},children:(0,x.jsxs)(s.ZP,{container:!0,item:!0,justifyContent:"center",alignItems:"center",children:[(0,x.jsx)(s.ZP,{item:!0,xs:12,children:(0,x.jsx)(d.Z,{variant:"body2",align:"center",children:"Fast f\xf6rflyttning"})}),(0,x.jsx)(s.ZP,{item:!0,xs:12,style:{marginTop:16},children:(0,x.jsx)(u.Z,{disableInteractive:!0,title:"Ange hur m\xe5nga meter du vill flytta objekten.",children:(0,x.jsx)(o.Z,{label:"F\xf6rflyttningsavst\xe5nd (meter)",variant:"outlined",fullWidth:!0,type:"number",size:"small",value:e.movementLength,onChange:function(t){var n=Math.floor(t.target.value);e.setMovementLength(n)}})})}),(0,x.jsx)(s.ZP,{item:!0,xs:12,style:{marginTop:16},children:(0,x.jsx)(u.Z,{disableInteractive:!0,title:"Ange i vilken riktning du vill flytta objekten. 0 grader \xe4r rakt norrut, 90 grader \xe4r rakt \xe5t \xf6ster, osv.",children:(0,x.jsx)(o.Z,{label:"F\xf6rflyttningsriktning (grader)",variant:"outlined",fullWidth:!0,type:"number",size:"small",value:e.movementAngle,onChange:function(t){var n=Math.floor(t.target.value),i=n>=360?n-360:n<0?360+n:n;e.setMovementAngle(i)}})})}),(0,x.jsxs)(s.ZP,{container:!0,spacing:1,style:{marginTop:8},children:[(0,x.jsx)(s.ZP,{item:!0,xs:6,children:(0,x.jsx)(c.Z,{variant:"contained",fullWidth:!0,size:"small",onClick:function(){var t=(0,a.Z)(e.lastMoves),n=t.pop(),i=n.length,r=n.angle;e.drawModel.translateSelectedFeatures(i,r-180),e.setLastMoves(t)},disabled:0===e.lastMoves.length,children:"\xc5ngra"})}),(0,x.jsx)(s.ZP,{item:!0,xs:6,children:(0,x.jsx)(c.Z,{variant:"contained",fullWidth:!0,size:"small",onClick:function(){var t=e.movementLength,n=e.movementAngle;e.drawModel.translateSelectedFeatures(e.movementLength,e.movementAngle),e.setLastMoves([].concat((0,a.Z)(e.lastMoves),[{length:t,angle:n}]))},children:"Flytta"})})]})]})})};t.default=function(e){var t=r.useState(100),n=(0,i.Z)(t,2),a=n[0],l=n[1],o=r.useState(90),c=(0,i.Z)(o,2),d=c[0],u=c[1],h=r.useState([]),j=(0,i.Z)(h,2),g=j[0],Z=j[1],k=e.drawModel,p=e.moveFeatures,b=e.translateEnabled,y=e.setTranslateEnabled;r.useEffect((function(){Z([])}),[p]);var S=e.model.getActivityFromId(e.id);return(0,x.jsxs)(s.ZP,{container:!0,children:[(0,x.jsx)(s.ZP,{item:!0,xs:12,children:(0,x.jsx)(f.default,{text:S.information})}),(0,x.jsxs)(s.ZP,{item:!0,xs:12,children:[(0,x.jsx)(m,{translateEnabled:b,setTranslateEnabled:y}),p.length>0&&(0,x.jsx)(v,{drawModel:k,lastMoves:g,setLastMoves:Z,movementLength:a,setMovementLength:l,movementAngle:d,setMovementAngle:u})]})]})}},46272:function(e,t,n){n.r(t);var i=n(1413),a=n(29439),r=n(72791),l=n(76863),s=n(4565),o=n(61091),c=n(90069),d=n(13811),u=n(56650),h=n(45953),f=n(75814),x=n(59911),m=n(42419),v=n(27247),j=n(98246),g=n(91762),Z=n(84673),k=n(20083),p=n(80184),b=(0,l.ZP)(u.Z)((function(e){var t=e.theme;return{width:"100%",padding:t.spacing(1),marginBottom:t.spacing(1),borderRight:"".concat(t.spacing(.5)," solid ").concat(t.palette.info.main),borderLeft:"".concat(t.spacing(.5)," solid ").concat(t.palette.info.main)}})),y=(0,l.ZP)("div")((function(e){var t=e.theme;return{color:"".concat(t.palette.error.main),fontSize:"11px",letterSpacing:"0.035rem",marginTop:"3px"}})),S=function(e){var t=e.globalObserver;return(0,p.jsxs)(h.ZP,{container:!0,spacing:2,children:[(0,p.jsx)(h.ZP,{item:!0,xs:12,children:(0,p.jsx)(Z.default,{text:"Det ser ut som att du har valt att inte till\xe5ta funktionella kakor. P\xe5 grund av detta s\xe5 kan du inte spara dina rit-objekt. Klicka nedan f\xf6r att \xe4ndra inst\xe4llningarna."})}),(0,p.jsx)(h.ZP,{item:!0,xs:12,children:(0,p.jsx)(o.Z,{fullWidth:!0,variant:"contained",onClick:function(){t.publish("core.showCookieBanner")},children:"Cookie-inst\xe4llningar"})})]})},w=function(e){var t=r.useState({truncatedSketchName:"",text:" ",show:!1}),n=(0,a.Z)(t,2),l=n[0],s=n[1],c=r.useState({disabled:!0,message:"Klicka f\xf6r att spara de ritobjekt som finns i kartan."}),d=(0,a.Z)(c,2),m=d[0],v=d[1],Z=(0,j.Ds)().enqueueSnackbar,k=function(){var t=e.model.addCurrentSketchToStorage({title:e.sketchName}),n=t.status,a=t.message;e.setSavedSketches(e.model.getSketchesFromStorage()),e.setSketchName(""),s((0,i.Z)((0,i.Z)({},l),{},{text:" ",show:!1})),Z(a,{variant:"FAILED"===n?"error":"success"})},b=function(){var t=e.savedSketches.some((function(t){return t.title.toLowerCase()===e.sketchName.toLowerCase()}));return s((0,i.Z)((0,i.Z)({},l),{},{truncatedSketchName:e.sketchName.length>15?e.sketchName.substring(0,15)+"...":e.sketchName,text:t?'Namnet upptaget. Ers\xe4tt arbetsyta "'.concat(l.truncatedSketchName,'"?'):" ",show:!!t})),t},S=function(){return e.sketchName.length<4?v((0,i.Z)((0,i.Z)({},m),{},{disabled:!0,message:"Minst fyra tecken m\xe5ste anges f\xf6r att en arbetsyta ska kunna skapas."})):e.savedSketches.length>=g.MAX_SKETCHES&&!b()?v((0,i.Z)((0,i.Z)({},m),{},{disabled:!0,message:"Maximalt antal arbetsytor har sparats. Ta bort eller skriv \xf6ver en genom att ange ett av namnen i listan nedan."})):void v((0,i.Z)((0,i.Z)({},m),{},{disabled:!1,message:"Klicka f\xf6r att spara de ritobjekt som finns i kartan."}))};return(0,p.jsxs)(u.Z,{style:{padding:8},children:[(0,p.jsxs)(h.ZP,{container:!0,alignItems:"center",justifyContent:"space-between",children:[(0,p.jsx)(h.ZP,{item:!0,xs:8,children:(0,p.jsx)(f.Z,{disableInteractive:!0,title:"Ange att namn s\xe5 att arbetsytan kan identifieras senare.",children:(0,p.jsx)(x.Z,{size:"small",variant:"outlined",style:{maxWidth:"100%"},onChange:function(t){e.setSketchName(t.target.value),S()},onKeyUp:function(e){b(e.target.value),S()},onKeyDown:function(e){"Enter"===e.key&&!m.disabled&&k()},value:e.sketchName})})}),(0,p.jsx)(h.ZP,{container:!0,item:!0,xs:3,justifyContent:"flex-end",children:(0,p.jsx)(f.Z,{disableInteractive:!0,title:m.message,children:(0,p.jsx)("span",{children:(0,p.jsx)(o.Z,{size:"small",variant:"contained",disabled:m.disabled,onClick:k,children:l.show?"Ers\xe4tt":"Spara"})})})})]}),(0,p.jsx)(y,{children:l.text})]})},C=function(e){var t,n=e.sketchInfo,i=e.handleRemoveClick,a=e.handleAddToMapClick;return(0,p.jsx)(c.Z,{in:!0,appear:!0,children:(0,p.jsx)(b,{children:(0,p.jsxs)(h.ZP,{container:!0,justifyContent:"space-between",alignItems:"center",children:[(0,p.jsxs)(h.ZP,{item:!0,xs:8,children:[(0,p.jsx)(f.Z,{disableInteractive:!0,title:n.title,children:(0,p.jsx)(h.ZP,{item:!0,xs:12,sx:{overflow:"hidden",textOverflow:"ellipsis"},children:(0,p.jsx)(s.Z,{variant:"button",noWrap:!0,children:n.title})})}),(0,p.jsx)(h.ZP,{item:!0,xs:12,children:(0,p.jsx)(f.Z,{disableInteractive:!0,title:"Arbetsytan uppdaterades senast ".concat(n.date),children:(0,p.jsx)(s.Z,{variant:"caption",children:"Uppdaterad: ".concat(null===(t=n.date)||void 0===t?void 0:t.split(" ")[0])})})})]}),(0,p.jsxs)(h.ZP,{container:!0,item:!0,xs:4,justifyContent:"flex-end",children:[(0,p.jsx)(f.Z,{disableInteractive:!0,title:"Klicka f\xf6r att radera arbetsytan.",children:(0,p.jsx)(d.Z,{size:"small",onClick:i,children:(0,p.jsx)(v.Z,{})})}),(0,p.jsx)(f.Z,{disableInteractive:!0,title:"Klicka f\xf6r att l\xe4sa in objekten.",children:(0,p.jsx)(d.Z,{size:"small",onClick:a,children:(0,p.jsx)(m.Z,{})})})]})]})})})},P=function(e){var t=e.model,n=e.savedSketches,i=e.setSavedSketches,l=r.useState(null),o=(0,a.Z)(l,2),c=o[0],d=o[1];return(0,p.jsxs)(h.ZP,{container:!0,children:[(0,p.jsx)(h.ZP,{item:!0,xs:12,children:(0,p.jsx)(s.Z,{variant:"caption",children:0===n.length?"Inga sparade arbetsytor hittades.":"Sparade arbetsytor:"})}),(0,p.jsx)(h.ZP,{item:!0,xs:12,children:n.map((function(e){return(0,p.jsx)(C,{sketchInfo:e,handleAddToMapClick:function(){return function(e){t.addSketchToMap(e)}(e)},handleRemoveClick:function(){return function(e){d(e)}(e)}},e.id)}))}),(0,p.jsx)(k.default,{open:null!==c,titleName:"Radera arbetsyta",contentDescription:"\xc4r du s\xe4ker p\xe5 att du vill radera arbetsytan? Detta g\xe5r inte att \xe5ngra.",cancel:"Avbryt",confirm:"Radera",handleConfirm:function(){t.removeSketchFromStorage(c),i(n.filter((function(e){return!t.equalsIgnoringCase(e.title,c.title)}))),d(null)},handleAbort:function(){d(null)}})]})};t.default=function(e){var t=e.globalObserver,n=e.model,i=e.id,l=e.functionalCookiesOk,s=r.useState(""),o=(0,a.Z)(s,2),c=o[0],d=o[1],u=r.useState(n.getSketchesFromStorage()),f=(0,a.Z)(u,2),x=f[0],m=f[1],v=n.getActivityFromId(i);return l?(0,p.jsxs)(h.ZP,{container:!0,spacing:2,children:[(0,p.jsx)(h.ZP,{item:!0,xs:12,children:(0,p.jsx)(Z.default,{text:v.information})}),(0,p.jsx)(h.ZP,{item:!0,xs:12,children:(0,p.jsx)(w,{model:n,sketchName:c,setSketchName:d,savedSketches:x,setSavedSketches:m})}),(0,p.jsx)(h.ZP,{item:!0,xs:12,children:(0,p.jsx)(P,{model:n,savedSketches:x,setSavedSketches:m})})]}):(0,p.jsx)(S,{globalObserver:t})}},69658:function(e,t,n){n.r(t);var i=n(1413),a=n(29439),r=n(72791),l=n(45953),s=n(81898),o=n(50120),c=n(75814),d=n(72900),u=n(71770),h=n(40508),f=n(63381),x=n(35702),m=n(42468),v=n(4083),j=n(91762),g=n(80184);t.default=function(e){var t,n,Z=e.model,k=e.measurementSettings,p=e.setMeasurementSettings,b=(0,v.default)(e.globalObserver).functionalCookiesOk,y=r.useState(Z.getShowHelperSnacks()),S=(0,a.Z)(y,2),w=S[0],C=S[1];return r.useEffect((function(){Z.setShowHelperSnacks(w),b&&m.default.set(j.STORAGE_KEY,(0,i.Z)((0,i.Z)({},m.default.get(j.STORAGE_KEY)),{},{showHelperSnacks:w}))}),[Z,w,b]),(0,g.jsxs)(l.ZP,{container:!0,children:[(0,g.jsx)(l.ZP,{item:!0,xs:12,sx:{marginTop:2},children:(0,g.jsxs)(s.Z,{component:"fieldset",children:[(0,g.jsx)(o.Z,{focused:!1,component:"legend",children:"Generella inst\xe4llningar"}),(0,g.jsx)(c.Z,{disableInteractive:!0,title:"Sl\xe5 ".concat(k.showText?"av":"p\xe5"," om du vill ").concat(k.showText?"d\xf6lja":"visa"," text p\xe5 objekten."),children:(0,g.jsx)(d.Z,{label:"Visa text p\xe5 objekten",control:(0,g.jsx)(u.Z,{checked:k.showText,onChange:function(){p((function(e){return(0,i.Z)((0,i.Z)({},e),{},{showText:!e.showText})}))},color:"primary"})})}),(0,g.jsx)(c.Z,{disableInteractive:!0,title:"Sl\xe5 ".concat(w?"av":"p\xe5"," om du vill ").concat(w?"d\xf6lja":"visa"," hj\xe4lptexter."),children:(0,g.jsx)(d.Z,{label:"Hj\xe4lptexter aktiverade",control:(0,g.jsx)(u.Z,{checked:w,onChange:function(){return C((function(e){return!e}))},color:"primary"})})})]})}),(0,g.jsx)(l.ZP,{item:!0,xs:12,children:(0,g.jsxs)(s.Z,{component:"fieldset",children:[(0,g.jsx)(o.Z,{focused:!1,component:"legend",children:"M\xe4tinst\xe4llningar"}),(0,g.jsx)(c.Z,{disableInteractive:!0,title:k.showText?"Sl\xe5 ".concat(k.showArea?"av":"p\xe5"," om du vill ").concat(k.showArea?"d\xf6lja":"visa"," area p\xe5 objekten."):"Aktivera text p\xe5 objekten om du vill visa objektens omkrets/radie.",children:(0,g.jsx)(d.Z,{label:"Visa area",control:(0,g.jsx)(u.Z,{disabled:!k.showText,checked:k.showArea,onChange:function(){p((function(e){return(0,i.Z)((0,i.Z)({},e),{},{showArea:!e.showArea})}))},color:"primary"})})}),(0,g.jsx)(c.Z,{disableInteractive:!0,title:k.showText?"Sl\xe5 ".concat(k.showLength?"av":"p\xe5"," om du vill ").concat(k.showLength?"d\xf6lja":"visa"," l\xe4ngd p\xe5 objekten."):"Aktivera text p\xe5 objekten om du vill visa objektens l\xe4ngd",children:(0,g.jsx)(d.Z,{label:"Visa l\xe4ngd",control:(0,g.jsx)(u.Z,{disabled:!k.showText,checked:null!==(t=k.showLength)&&void 0!==t&&t,onChange:function(){p((function(e){return(0,i.Z)((0,i.Z)({},e),{},{showLength:!e.showLength})}))},color:"primary"})})}),(0,g.jsx)(c.Z,{disableInteractive:!0,title:k.showText?"Sl\xe5 ".concat(k.showPerimeter?"av":"p\xe5"," om du vill ").concat(k.showPerimeter?"d\xf6lja":"visa"," omkrets/radie. p\xe5 objekten."):"Aktivera text p\xe5 objekten om du vill visa objektens omkrets/radie.",children:(0,g.jsx)(d.Z,{label:"Visa omkrets/radie",control:(0,g.jsx)(u.Z,{disabled:!k.showText,checked:k.showPerimeter,onChange:function(){p((function(e){return(0,i.Z)((0,i.Z)({},e),{},{showPerimeter:!e.showPerimeter})}))},color:"primary"})})}),(0,g.jsx)(c.Z,{title:"V\xe4lj enhet f\xf6r m\xe4tning av areal.",children:(0,g.jsxs)(s.Z,{size:"small",style:{marginTop:8},children:[(0,g.jsx)(h.Z,{variant:"outlined",id:"sketch-select-area-measurement-unit-label",children:"M\xe4tenhet, areal"}),(0,g.jsx)(f.Z,{id:"sketch-select-area-measurement-unit",labelId:"sketch-select-area-measurement-unit-label",value:k.areaUnit,label:"M\xe4tenhet, areal",variant:"outlined",onChange:function(e){p((function(t){return(0,i.Z)((0,i.Z)({},t),{},{areaUnit:e.target.value})}))},children:j.AREA_MEASUREMENT_UNITS.map((function(e,t){return(0,g.jsx)(x.Z,{value:e.type,children:e.name},t)}))})]})}),(0,g.jsx)(c.Z,{title:"V\xe4lj enhet f\xf6r m\xe4tning av l\xe4ngd.",children:(0,g.jsxs)(s.Z,{size:"small",style:{marginTop:16},children:[(0,g.jsx)(h.Z,{variant:"outlined",id:"sketch-select-length-measurement-unit-label",children:"M\xe4tenhet, l\xe4ngd"}),(0,g.jsx)(f.Z,{id:"sketch-select-length-measurement-unit",labelId:"sketch-select-length-measurement-unit-label",value:k.lengthUnit,label:"M\xe4tenhet, l\xe4ngd",variant:"outlined",onChange:function(e){p((function(t){return(0,i.Z)((0,i.Z)({},t),{},{lengthUnit:e.target.value})}))},children:j.LENGTH_MEASUREMENT_UNITS.map((function(e,t){return(0,g.jsx)(x.Z,{value:e.type,children:e.name},t)}))})]})}),(0,g.jsx)(c.Z,{title:"V\xe4lj med vilken precision m\xe4tv\xe4rdena ska presenteras.",children:(0,g.jsxs)(s.Z,{size:"small",style:{marginTop:16},children:[(0,g.jsx)(h.Z,{variant:"outlined",id:"sketch-select-precision-label",children:"M\xe4tprecision"}),(0,g.jsx)(f.Z,{id:"sketch-select-precision",labelId:"sketch-select-precision-label",value:null!==(n=k.precision)&&void 0!==n?n:0,label:"M\xe4tprecision",variant:"outlined",onChange:function(e){p((function(t){return(0,i.Z)((0,i.Z)({},t),{},{precision:parseInt(e.target.value)})}))},children:j.MEASUREMENT_PRECISIONS.map((function(e,t){return(0,g.jsx)(x.Z,{value:e.value,children:e.name},t)}))})]})})]})})]})}},74398:function(e,t,n){n.r(t);var i=n(37762),a=n(93433),r=n(29439),l=n(72791),s=n(45953),o=n(91762),c=n(35266),d=n(55474),u=n(46272),h=n(46009),f=n(62079),x=n(65732),m=n(89353),v=n(69658),j=n(4083),g=n(51768),Z=n(98246),k=n(80184);t.default=function(e){var t,n,p=null!==(t=null===(n=e.options)||void 0===n?void 0:n.position)&&void 0!==t?t:"left",b=e.model,y=e.drawModel,S=e.kmlModel,w=e.localObserver,C=e.globalObserver,P=e.activeDrawType,T=e.setActiveDrawType,M=e.activityId,F=e.setActivityId,E=(0,Z.Ds)(),I=E.closeSnackbar,A=E.enqueueSnackbar,D=l.useRef(null),O=l.useState(b.getDrawStyleSettings()),R=(0,r.Z)(O,2),L=R[0],N=R[1],_=l.useState(b.getTextStyleSettings()),U=(0,r.Z)(_,2),K=U[0],z=U[1],V=l.useState(b.getRemovedFeaturesFromStorage()),H=(0,r.Z)(V,2),W=H[0],B=H[1],G=l.useState([]),X=(0,r.Z)(G,2),Y=X[0],q=X[1],J=(0,j.default)(C).functionalCookiesOk,Q=l.useCallback((function(){var e=Y.filter((function(e){return S.importedKmlStillHasFeatures(e.id)}));q(e)}),[S,Y]),$=l.useCallback((function(e){J&&b.featureShouldBeAddedToStorage(e)&&(b.decorateFeature(e),b.addFeatureToStorage(e),B([e].concat((0,a.Z)(W)).slice(0,o.MAX_REMOVED_FEATURES)),Q())}),[b,W,J,Q]),ee=l.useCallback((function(e){if(J){var t,n=e.filter((function(e){return!0!==e.get("HIDDEN")})).slice(0,o.MAX_REMOVED_FEATURES),r=(0,i.Z)(n);try{for(r.s();!(t=r.n()).done;){var l=t.value;b.decorateFeature(l),b.addFeatureToStorage(l)}}catch(c){r.e(c)}finally{r.f()}var s=[].concat((0,a.Z)(n),(0,a.Z)(W)).slice(0,o.MAX_REMOVED_FEATURES);B(s),Q()}}),[b,W,J,Q]),te=l.useCallback((function(e){var t=e.get("HANDLED_ID");t&&(B(W.filter((function(e){return e.get("HANDLED_ID")!==t}))),b.removeFeatureFromStorage(t))}),[b,W]),ne=l.useCallback((function(e){var t=e.id;q((function(e){return[].concat((0,a.Z)(e),[{id:t,title:b.getDateTimeString({hour:"numeric",minute:"numeric",second:"numeric"}),hidden:!1,textShown:!0}])}))}),[b]);l.useEffect((function(){return y.setDrawStyleSettings(L)}),[y,L]),l.useEffect((function(){return y.setTextStyleSettings(K)}),[y,K]),l.useEffect((function(){J&&b.setStoredDrawStyleSettings(L)}),[L,J,b]),l.useEffect((function(){J&&b.setStoredTextStyleSettings(K)}),[K,J,b]),(0,g.default)((function(){var e=b.getHelperSnackText(M,P);return e&&(D.current=A(e,{variant:"default",anchorOrigin:{vertical:"bottom",horizontal:"center"}})),function(){I(D.current)}}),[M,P,A,I]),l.useEffect((function(){return w.subscribe("drawModel.featureRemoved",$),w.subscribe("drawModel.featuresRemoved",ee),w.subscribe("drawModel.featureAdded",te),w.subscribe("kmlModel.fileImported",ne),function(){w.unsubscribe("drawModel.featureRemoved"),w.unsubscribe("drawModel.featuresRemoved"),w.unsubscribe("drawModel.featureAdded"),w.unsubscribe("kmlModel.fileImported")}}),[M,w,$,ee,te,ne]);var ie=function(){switch(M){case"ADD":return(0,k.jsx)(d.default,{id:M,model:b,localObserver:w,drawModel:y,activeDrawType:P,setActiveDrawType:T,drawStyle:L,setDrawStyle:N,textStyle:K,setTextStyle:z});case"DELETE":return(0,k.jsx)(f.default,{id:M,model:b,drawModel:y,removedFeatures:W,globalObserver:C,functionalCookiesOk:J});case"EDIT":return(0,k.jsx)(m.default,{id:M,model:b,drawModel:y,editFeature:e.editFeature,modifyEnabled:e.modifyEnabled,setModifyEnabled:e.setModifyEnabled});case"MOVE":return(0,k.jsx)(x.default,{id:M,model:b,drawModel:y,translateEnabled:e.translateEnabled,setTranslateEnabled:e.setTranslateEnabled,moveFeatures:e.moveFeatures});case"SAVE":return(0,k.jsx)(u.default,{id:M,model:b,drawModel:y,globalObserver:C,functionalCookiesOk:J});case"UPLOAD":return(0,k.jsx)(h.default,{id:M,model:b,drawModel:y,kmlModel:S,uploadedFiles:Y,setUploadedFiles:q});case"SETTINGS":return(0,k.jsx)(v.default,{id:M,model:b,functionalCookiesOk:J,measurementSettings:e.measurementSettings,setMeasurementSettings:e.setMeasurementSettings,globalObserver:C});default:return null}};return"left"===p?(0,k.jsxs)(s.ZP,{container:!0,children:[(0,k.jsx)(s.ZP,{item:!0,xs:3,style:{marginLeft:-o.PLUGIN_MARGIN},children:(0,k.jsx)(c.default,{pluginPosition:p,activityId:M,setActivityId:F})}),(0,k.jsx)(s.ZP,{item:!0,xs:9,children:ie()})]}):(0,k.jsxs)(s.ZP,{container:!0,justifyContent:"flex-end",children:[(0,k.jsx)(s.ZP,{item:!0,xs:9,children:ie()}),(0,k.jsx)(s.ZP,{item:!0,xs:3,style:{marginRight:-o.PLUGIN_MARGIN},children:(0,k.jsx)(c.default,{pluginPosition:p,activityId:M,setActivityId:F})})]})}},46009:function(e,t,n){n.r(t);var i=n(1413),a=n(93433),r=n(29439),l=n(72791),s=n(76863),o=n(45953),c=n(75814),d=n(61091),u=n(4565),h=n(56650),f=n(90069),x=n(13811),m=n(8014),v=n(16346),j=n(27247),g=n(20165),Z=n(3746),k=n(27392),p=n(25891),b=n(84673),y=n(39059),S=n(80184),w=(0,s.ZP)(h.Z)((function(e){var t=e.theme;return{width:"100%",padding:t.spacing(1),marginBottom:t.spacing(1),borderRight:"".concat(t.spacing(.5)," solid ").concat(t.palette.info.main),borderLeft:"".concat(t.spacing(.5)," solid ").concat(t.palette.info.main)}})),C=function(e){var t=e.kmlModel,n=e.setDialogOpen;return(0,S.jsxs)(o.ZP,{container:!0,spacing:1,children:[(0,S.jsx)(o.ZP,{item:!0,xs:12,children:(0,S.jsx)(c.Z,{disableInteractive:!0,title:"Klicka f\xf6r att \xf6ppna en dialog d\xe4r du kan v\xe4lja en .kml-fil fr\xe5n din dator.",children:(0,S.jsx)(d.Z,{fullWidth:!0,variant:"contained",onClick:function(){return n(!0)},startIcon:(0,S.jsx)(m.Z,{}),children:"Importera ritobjekt"})})}),(0,S.jsx)(o.ZP,{item:!0,xs:12,children:(0,S.jsx)(c.Z,{disableInteractive:!0,title:"Klicka f\xf6r att exportera alla ritobjekt till en .kml-fil.",children:(0,S.jsx)(d.Z,{fullWidth:!0,variant:"contained",onClick:function(){return t.export()},startIcon:(0,S.jsx)(v.Z,{}),children:"Exportera ritobjekt"})})})]})},P=function(e){return(0,S.jsx)(f.Z,{in:!0,appear:!0,children:(0,S.jsx)(w,{children:(0,S.jsxs)(o.ZP,{container:!0,justifyContent:"space-between",alignItems:"center",children:[(0,S.jsx)(o.ZP,{item:!0,xs:4,children:(0,S.jsx)(u.Z,{variant:"button",children:e.title})}),(0,S.jsxs)(o.ZP,{container:!0,item:!0,xs:8,justifyContent:"flex-end",spacing:1,children:[(0,S.jsx)(o.ZP,{item:!0,children:(0,S.jsx)(c.Z,{disableInteractive:!0,title:"Klicka f\xf6r att ta bort de importerade objekten.",children:(0,S.jsx)(x.Z,{size:"small",onClick:e.onRemoveClick,children:(0,S.jsx)(j.Z,{})})})}),(0,S.jsx)(o.ZP,{item:!0,children:(0,S.jsx)(c.Z,{disableInteractive:!0,title:"Klicka f\xf6r att ".concat(e.hidden?"visa":"d\xf6lja"," objekten ").concat(e.hidden?"i":"fr\xe5n"," kartan."),children:(0,S.jsx)(x.Z,{size:"small",onClick:e.onVisibilityChangeClick,children:e.hidden?(0,S.jsx)(Z.Z,{}):(0,S.jsx)(g.Z,{})})})}),(0,S.jsx)(o.ZP,{item:!0,children:(0,S.jsx)(c.Z,{disableInteractive:!0,title:"Klicka h\xe4r f\xf6r att ".concat(e.textShown?"d\xf6lja":"visa"," objektens etiketter."),children:(0,S.jsx)(x.Z,{size:"small",onClick:e.onToggleShowTextClick,children:e.textShown?(0,S.jsx)(k.Z,{}):(0,S.jsx)(p.Z,{})})})})]})]})})})},T=function(e){return(0,S.jsxs)(o.ZP,{container:!0,style:{maxHeight:240,overflowY:"auto"},children:[(0,S.jsx)(o.ZP,{item:!0,xs:12,children:(0,S.jsx)(u.Z,{variant:"caption",children:"Uppladdade filer"})}),(0,S.jsx)(o.ZP,{item:!0,xs:12,children:e.uploadedFiles.map((function(t){return(0,S.jsx)(P,{title:t.title,hidden:t.hidden,textShown:t.textShown,onVisibilityChangeClick:function(){return e.onVisibilityChangeClick(t.id)},onRemoveClick:function(){return e.onRemoveClick(t.id)},onToggleShowTextClick:function(){return e.onToggleShowTextClick(t.id)}},t.id)}))})]})};t.default=function(e){var t=l.useState(!1),n=(0,r.Z)(t,2),s=n[0],c=n[1],d=e.model.getActivityFromId(e.id);return(0,S.jsxs)(o.ZP,{container:!0,spacing:2,children:[(0,S.jsx)(o.ZP,{item:!0,xs:12,children:(0,S.jsx)(b.default,{text:d.information})}),(0,S.jsx)(o.ZP,{item:!0,xs:12,children:(0,S.jsx)(C,{kmlModel:e.kmlModel,setDialogOpen:c})}),(0,S.jsx)(o.ZP,{item:!0,xs:12,children:e.uploadedFiles.length>0&&(0,S.jsx)(T,{uploadedFiles:e.uploadedFiles,onVisibilityChangeClick:function(t){var n=e.uploadedFiles.map((function(e){return e.id===t?(0,i.Z)((0,i.Z)({},e),{},{hidden:!e.hidden}):e}));e.drawModel.toggleKmlFeaturesVisibility(t),e.setUploadedFiles(n)},onRemoveClick:function(t){var n=e.uploadedFiles.filter((function(e){return e.id!==t}));e.drawModel.removeKmlFeaturesById(t),e.setUploadedFiles(n)},onToggleShowTextClick:function(t){var n=e.uploadedFiles.map((function(e){return e.id===t?(0,i.Z)((0,i.Z)({},e),{},{textShown:!e.textShown}):e}));e.drawModel.toggleKmlFeaturesTextVisibility(t),e.setUploadedFiles(n)}})}),(0,S.jsx)(y.default,{open:s,setOpen:c,handleUploadedFile:function(t){var n=e.model.generateRandomString(),i=e.model.getDateTimeString({hour:"numeric",minute:"numeric",second:"numeric"});e.setUploadedFiles((function(e){return[].concat((0,a.Z)(e),[{id:n,title:i,hidden:!1,textShown:!0}])})),e.kmlModel.import(t,{zoomToExtent:!0,setProperties:{KML_ID:n}})}})]})}}}]);
//# sourceMappingURL=4398.3bad34d3.chunk.js.map