{"version":3,"file":"static/js/7844.dc080208.chunk.js","mappings":"gIAEA,MAAMA,UAAaC,EAAAA,EACjBC,cAGEC,QACAF,EAAAA,EAAAA,KAAaG,KAAM,CACjBC,gBAAiBD,KAAKC,gBACtBC,gBAAiBF,KAAKE,gBACtBC,gBAAiBH,KAAKG,gBACtBC,cAAeJ,KAAKI,gBAGtBJ,KAAKK,YAAc,KAEnBL,KAAKM,QAAU,UAEfN,KAAKO,SAAW,KAEhBP,KAAKQ,OAAS,KAEdR,KAAKS,qBAAkBC,EAEvBV,KAAKW,eAAiB,CACpBC,aAAa,EACbC,cAAc,EAEjB,CAEDC,QACEd,KAAKe,QAAS,CACf,CAEDC,SACEhB,KAAKe,QAAS,CACf,CAEDE,iBAAiBC,GACflB,KAAKW,eAAeO,GAAaA,CAClC,CAEDC,oBAAoBD,UACXlB,KAAKW,eAAeO,EAC5B,CAEDE,YAAYC,GACV,OAAOA,IACHrB,KAAKW,eAAeW,eAAeD,EAAME,gBAAgBC,QAClC,IAArBH,EAAMI,WAEb,CAEDxB,gBAAgByB,GACd,IACEC,EADEC,EAAMF,EAAIE,IAqBd,OAlBA5B,KAAKQ,YAASE,GAEdiB,EAAUC,EAAIC,sBAAsBH,EAAII,OAAO,CAACH,EAASN,KACvDrB,KAAKQ,OAASa,EACPM,OAGM3B,KAAKoB,YAAYpB,KAAKQ,SACnCR,KAAKK,YAAcqB,EAAIK,WACvB/B,KAAKO,SAAWoB,IAEZ3B,KAAKQ,SACPR,KAAKQ,OAAOiB,YAAa,GAE3BE,GAAU,EACV3B,KAAKO,UAAW,KAGToB,CACV,CAEDzB,gBAAgBwB,GACd,IAAIM,EACFC,EAEEjC,KAAKe,SAITiB,EAASN,EAAIK,WAAW,GAAK/B,KAAKK,YAAY,GAC9C4B,EAASP,EAAIK,WAAW,GAAK/B,KAAKK,YAAY,GAE9CL,KAAKK,YAAY,GAAKqB,EAAIK,WAAW,GACrC/B,KAAKK,YAAY,GAAKqB,EAAIK,WAAW,GAEjC/B,KAAKQ,QAA+C,kBAArCR,KAAKQ,OAAOe,gBAAgBC,MAC7CxB,KAAKO,SAAS2B,cAAcC,UAAUH,EAAQC,GAEjD,CAED9B,gBAAgBuB,GACd,GAAI1B,KAAKM,QAAS,CAChB,IACEqB,EADQD,EAAIE,IACEC,sBAAsBH,EAAII,OAAO,CAACH,EAASN,IAChDM,IAETS,EAAUV,EAAIE,IAAIS,mBAEhBV,IAA4C,IAAjCA,EAAQJ,gBAAgBe,KACjCF,EAAQG,MAAMC,SAAWxC,KAAKM,UAChCN,KAAKS,gBAAkB2B,EAAQG,MAAMC,OACrCJ,EAAQG,MAAMC,OAASxC,KAAKM,cAEII,IAAzBV,KAAKS,kBACd2B,EAAQG,MAAMC,OAASxC,KAAKS,gBAC5BT,KAAKS,qBAAkBC,EAE1B,CACF,CAEDN,cAAcsB,GAGZ,OAFA1B,KAAKK,YAAc,KACnBL,KAAKO,SAAW,MACT,CACR,EAGH,W","sources":["models/Drag.js"],"sourcesContent":["import { Pointer } from \"ol/interaction\";\n\nclass Drag extends Pointer {\n  constructor() {\n    // FIXME: This code looks obsolete, I can't find any imports.\n    // Candidate for removal?\n    super();\n    Pointer.call(this, {\n      handleDownEvent: this.handleDownEvent,\n      handleDragEvent: this.handleDragEvent,\n      handleMoveEvent: this.handleMoveEvent,\n      handleUpEvent: this.handleUpEvent,\n    });\n\n    this.coordinate_ = null;\n\n    this.cursor_ = \"pointer\";\n\n    this.feature_ = null;\n\n    this.layer_ = null;\n\n    this.previousCursor_ = undefined;\n\n    this.acceptedLayers = {\n      pluginPrint: true,\n      pluginExport: true,\n    };\n  }\n\n  pause() {\n    this.paused = true;\n  }\n\n  resume() {\n    this.paused = false;\n  }\n\n  addAcceptedLayer(layerName) {\n    this.acceptedLayers[layerName] = layerName;\n  }\n\n  removeAcceptedLayer(layerName) {\n    delete this.acceptedLayers[layerName];\n  }\n\n  isDraggable(layer) {\n    return layer\n      ? this.acceptedLayers.hasOwnProperty(layer.getProperties().name) ||\n          layer.dragLocked === false\n      : true;\n  }\n\n  handleDownEvent(evt) {\n    var map = evt.map,\n      feature;\n\n    this.layer_ = undefined;\n\n    feature = map.forEachFeatureAtPixel(evt.pixel, (feature, layer) => {\n      this.layer_ = layer;\n      return feature;\n    });\n\n    if (feature && this.isDraggable(this.layer_)) {\n      this.coordinate_ = evt.coordinate;\n      this.feature_ = feature;\n    } else {\n      if (this.layer_) {\n        this.layer_.dragLocked = true;\n      }\n      feature = false;\n      this.feature_ = false;\n    }\n\n    return !!feature;\n  }\n\n  handleDragEvent(evt) {\n    var deltaX = 0,\n      deltaY = 0;\n\n    if (this.paused) {\n      return;\n    }\n\n    deltaX = evt.coordinate[0] - this.coordinate_[0];\n    deltaY = evt.coordinate[1] - this.coordinate_[1];\n\n    this.coordinate_[0] = evt.coordinate[0];\n    this.coordinate_[1] = evt.coordinate[1];\n\n    if (this.layer_ && this.layer_.getProperties().name !== \"highlight-wms\") {\n      this.feature_.getGeometry().translate(deltaX, deltaY);\n    }\n  }\n\n  handleMoveEvent(evt) {\n    if (this.cursor_) {\n      var map = evt.map,\n        feature = map.forEachFeatureAtPixel(evt.pixel, (feature, layer) => {\n          return feature;\n        }),\n        element = evt.map.getTargetElement();\n\n      if (feature && feature.getProperties().user === true) {\n        if (element.style.cursor !== this.cursor_) {\n          this.previousCursor_ = element.style.cursor;\n          element.style.cursor = this.cursor_;\n        }\n      } else if (this.previousCursor_ !== undefined) {\n        element.style.cursor = this.previousCursor_;\n        this.previousCursor_ = undefined;\n      }\n    }\n  }\n\n  handleUpEvent(evt) {\n    this.coordinate_ = null;\n    this.feature_ = null;\n    return false;\n  }\n}\n\nexport default Drag;\n"],"names":["Drag","Pointer","constructor","super","this","handleDownEvent","handleDragEvent","handleMoveEvent","handleUpEvent","coordinate_","cursor_","feature_","layer_","previousCursor_","undefined","acceptedLayers","pluginPrint","pluginExport","pause","paused","resume","addAcceptedLayer","layerName","removeAcceptedLayer","isDraggable","layer","hasOwnProperty","getProperties","name","dragLocked","evt","feature","map","forEachFeatureAtPixel","pixel","coordinate","deltaX","deltaY","getGeometry","translate","element","getTargetElement","user","style","cursor"],"sourceRoot":""}