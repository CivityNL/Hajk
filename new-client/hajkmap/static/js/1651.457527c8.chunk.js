"use strict";(self.webpackChunkhajk_client=self.webpackChunkhajk_client||[]).push([[1651,6430,7959],{16430:(t,e,s)=>{s.r(e);var r=s(72791),i=s(20890),o=s(48550),a=s(30948),n=s(42708),l=s(98246),c=s(61889),d=s(80184);class h extends r.PureComponent{constructor(t){super(t),this.state={errorX:"",errorY:"",coordinateX:"",coordinateY:"",coordinateXFloat:0,coordinateYFloat:0,wasLastChanged:!1,wasModified:!1},this.model=this.props.model,this.transformation=this.props.transformation,this.localObserver=this.props.model.localObserver,this.localObserver.subscribe("newCoordinates",(t=>{if(t.proj!==this.transformation.code||t.force){const e=(0,n.vs)(t.coordinates,t.proj,this.props.transformation.code);this.setState({errorX:"",errorY:"",wasModified:!0,coordinateX:e[0].toFixed(this.transformation.precision),coordinateY:e[1].toFixed(this.transformation.precision),coordinateXFloat:e[0],coordinateYFloat:e[1],wasLastChanged:!1})}else this.setState({wasLastChanged:!0,wasModified:!0})})),this.localObserver.subscribe("resetCoordinates",(()=>{this.setState({errorX:"",errorY:"",coordinateX:"",coordinateY:"",coordinateXFloat:0,coordinateYFloat:0})}))}handleInputX(t){if(!(!this.props.inverseAxis&&t.value===this.state.coordinateX||this.props.inverseAxis&&t.value===this.state.coordinateY))if(this.props.inverseAxis?this.setState({coordinateY:t.value,coordinateYFloat:t.floatValue,wasModified:!0}):this.setState({coordinateX:t.value,coordinateXFloat:t.floatValue,wasModified:!0}),isNaN(t.floatValue)||!isFinite(t.floatValue))this.setState({errorX:"Ange ett decimaltal"});else{this.setState({errorX:""});const e=t.floatValue;this.props.inverseAxis?this.localObserver.publish("newCoordinates",{coordinates:[this.state.coordinateXFloat,e],proj:this.props.transformation.code,force:!1}):this.localObserver.publish("newCoordinates",{coordinates:[e,this.state.coordinateYFloat],proj:this.props.transformation.code,force:!1})}}handleInputY(t){if(!(!this.props.inverseAxis&&t.value===this.state.coordinateY||this.props.inverseAxis&&t.value===this.state.coordinateX))if(this.props.inverseAxis?this.setState({coordinateX:t.value,coordinateXFloat:t.floatValue,wasModified:!0}):this.setState({coordinateY:t.value,coordinateYFloat:t.floatValue,wasModified:!0}),isNaN(t.floatValue)||!isFinite(t.floatValue))this.setState({errorY:"Ange ett decimaltal"});else{this.setState({errorY:""});const e=t.floatValue;this.props.inverseAxis?this.localObserver.publish("newCoordinates",{coordinates:[e,this.state.coordinateYFloat],proj:this.props.transformation.code,force:!1}):this.localObserver.publish("newCoordinates",{coordinates:[this.state.coordinateXFloat,e],proj:this.props.transformation.code,force:!1})}}componentWillUnmount(){}render(){let t=this.props.inverseAxis?this.state.coordinateY:this.state.coordinateX,e=this.props.inverseAxis?this.state.coordinateX:this.state.coordinateY;return this.model.showFieldsOnStart||this.state.wasModified?(0,d.jsxs)(c.ZP,{container:!0,item:!0,spacing:2,rowSpacing:1,children:[(0,d.jsx)(c.ZP,{item:!0,xs:12,children:(0,d.jsx)(i.Z,{variant:"body2",style:{fontWeight:600},children:this.transformation?this.transformation.title+" ("+this.transformation.code+")":""})}),(0,d.jsx)(c.ZP,{item:!0,xs:12,md:6,children:(0,d.jsx)(a.Z,{label:this.props.transformation.xtitle,margin:"dense",variant:"outlined",size:"small",value:t,name:"numberformatX",type:"text",onValueChange:t=>{this.handleInputX(t)},axis:this.props.transformation.inverseAxis?"X":"Y",error:""!==this.state.errorX,helperText:this.state.errorX,thousandSeparator:!!this.model.thousandSeparator&&" ",customInput:o.Z,fullWidth:!0})}),(0,d.jsx)(c.ZP,{item:!0,xs:12,md:6,children:(0,d.jsx)(a.Z,{label:this.props.transformation.ytitle,margin:"dense",size:"small",variant:"outlined",value:e,name:"numberformatY",type:"text",onValueChange:t=>{this.handleInputY(t)},axis:this.props.transformation.inverseAxis?"Y":"X",error:""!==this.state.errorY,helperText:this.state.errorY,thousandSeparator:!!this.model.thousandSeparator&&" ",customInput:o.Z,fullWidth:!0})})]}):(0,d.jsx)(d.Fragment,{})}}e.default=(0,l.RM)(h)},31651:(t,e,s)=>{s.r(e);var r=s(72791),i=s(24518),o=s(66934),a=s(61889),n=s(16430),l=s(20068),c=s(94721),d=s(98246),h=s(77959),p=s(80184);const m=(0,o.ZP)(a.ZP)((t=>{let{theme:e}=t;return{padding:e.spacing(2)}}));class u extends r.PureComponent{constructor(t){super(t),this.state={},this.model=this.props.model,this.snackbarKey=null,this.localObserver=this.props.localObserver,this.localObserver.subscribe("showSnackbar",(()=>{this.snackbarKey=this.props.enqueueSnackbar("Klicka i kartan f\xf6r att v\xe4lja position.",{variant:"info",persist:!0,anchorOrigin:{vertical:"bottom",horizontal:"center"},sx:{".SnackbarItem-contentRoot":{flexWrap:"inherit !important"}},action:t=>(0,p.jsx)(i.Z,{"aria-label":"close",color:"inherit",id:t,onClick:()=>{this.props.model.closeSnackbar()},children:"Sluiten"})})})),this.localObserver.subscribe("hideSnackbar",(()=>{this.props.closeSnackbar(this.snackbarKey)})),this.localObserver.subscribe("location-permissions-denied",(()=>{this.props.enqueueSnackbar(h.LOCATION_DENIED_SNACK_MESSAGE,h.LOCATION_DENIED_SNACK_OPTIONS)}))}componentWillUnmount(){this.model.deactivate()}renderProjections(){return(0,p.jsx)(p.Fragment,{children:this.props.model.transformations.map(((t,e)=>(0,p.jsx)(n.default,{model:this.model,transformation:t,inverseAxis:t.inverseAxis},"".concat(t.code).concat(e,"-element"))))})}renderButtons(){return(0,p.jsxs)(a.ZP,{container:!0,item:!0,spacing:2,rowSpacing:1,sx:{mb:{xs:6,sm:0,md:0}},children:[(0,p.jsx)(a.ZP,{item:!0,xs:12,md:6,children:(0,p.jsx)(l.Z,{title:"Rensa f\xe4lt",children:(0,p.jsx)(i.Z,{fullWidth:!0,variant:"contained",color:"primary",onClick:()=>{this.props.model.resetCoords()},children:"Rensa"})})}),(0,p.jsx)(a.ZP,{item:!0,xs:12,md:6,children:(0,p.jsx)(l.Z,{title:"Min position",children:(0,p.jsx)(i.Z,{fullWidth:!0,variant:"contained",color:"primary",onClick:()=>{this.props.model.goToUserLocation()},children:"Min position"})})}),(0,p.jsx)(a.ZP,{item:!0,xs:12,sm:6,md:6,children:(0,p.jsx)(l.Z,{title:"Panorera till markering",children:(0,p.jsx)(i.Z,{fullWidth:!0,variant:"contained",color:"primary",onClick:()=>{this.props.model.centerOnMarker()},children:"Panorera"})})}),(0,p.jsx)(a.ZP,{item:!0,xs:12,sm:6,md:6,children:(0,p.jsx)(l.Z,{title:"Zooma in till markering",children:(0,p.jsx)(i.Z,{fullWidth:!0,variant:"contained",color:"primary",onClick:()=>{this.props.model.zoomOnMarker()},children:"Zooma"})})})]})}render(){return(0,p.jsxs)(a.ZP,{container:!0,children:[(0,p.jsx)(m,{container:!0,rowSpacing:2,columnSpacing:1,children:this.renderProjections()}),(0,p.jsx)(a.ZP,{item:!0,xs:12,children:(0,p.jsx)(c.Z,{})}),(0,p.jsx)(m,{container:!0,rowSpacing:2,columnSpacing:1,children:this.renderButtons()})]})}}e.default=(0,d.RM)(u)},77959:(t,e,s)=>{s.r(e),s.d(e,{LOCATION_DENIED_SNACK_MESSAGE:()=>r,LOCATION_DENIED_SNACK_OPTIONS:()=>i});const r="Du beh\xf6ver till\xe5ta att applikationen visar din position. F\xf6r datorer: De flesta webbl\xe4sare har en l\xe5s-ikon i adressf\xe4ltet som du kan klicka p\xe5 f\xf6r att till\xe5ta Plats/Position.",i=Object.freeze({variant:"info",persist:!1,anchorOrigin:{vertical:"top",horizontal:"center"}})}}]);
//# sourceMappingURL=1651.457527c8.chunk.js.map