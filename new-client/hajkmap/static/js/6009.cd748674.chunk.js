"use strict";(self.webpackChunkhajk_client=self.webpackChunkhajk_client||[]).push([[6009,4673,9059],{84673:(e,t,i)=>{i.r(t);i(72791);var l=i(35527),n=i(20890),a=i(80184);t.default=e=>{let{text:t}=e;return(0,a.jsx)(l.Z,{style:{width:"100%",padding:8},children:(0,a.jsx)(n.Z,{align:"center",variant:"body2",children:t})})}},39059:(e,t,i)=>{i.r(t);var l=i(72791),n=i(54164),a=i(49392),o=i(80184);t.default=e=>{let{open:t,setOpen:i,handleUploadedFile:d}=e;const[s,r]=l.useState(!1),c=l.useCallback((async()=>{try{const e=document.getElementById("kml-file-input");for await(const t of e.files){const e=new FileReader;e.onload=()=>{try{d(e.result)}catch(t){console.error("Failed to import kml-file. Error: ".concat(t))}},e.readAsText(t)}}catch(e){console.error("Failed to import kml-files. Error: ".concat(e))}i(!1),r(!1)}),[i,d]),h=l.useCallback((()=>{i(!1)}),[i]),x=l.useCallback((e=>{const t=document.getElementById("kml-file-input");r(t.files.length>0)}),[]);return(0,n.createPortal)((0,o.jsx)(a.default,{options:{headerText:"Ladda upp .kml-filer",buttonText:s?"Ladda upp":null,abortText:"Annuleren",text:(0,o.jsx)("input",{type:"file",name:"files[]",accept:".kml",multiple:!0,id:"kml-file-input",onChange:x}),useLegacyNonMarkdownRenderer:!0},open:t,onClose:c,onAbort:h}),document.getElementById("map"))}},46009:(e,t,i)=>{i.r(t);var l=i(72791),n=i(66934),a=i(61889),o=i(20068),d=i(24518),s=i(20890),r=i(35527),c=i(48980),h=i(13400),x=i(8014),m=i(16346),p=i(27247),u=i(20165),j=i(3746),v=i(27392),k=i(25891),Z=i(84673),g=i(39059),f=i(80184);const b=(0,n.ZP)(r.Z)((e=>{let{theme:t}=e;return{width:"100%",padding:t.spacing(1),marginBottom:t.spacing(1),borderRight:"".concat(t.spacing(.5)," solid ").concat(t.palette.info.main),borderLeft:"".concat(t.spacing(.5)," solid ").concat(t.palette.info.main)}})),C=e=>{let{kmlModel:t,setDialogOpen:i}=e;return(0,f.jsxs)(a.ZP,{container:!0,spacing:1,children:[(0,f.jsx)(a.ZP,{item:!0,xs:12,children:(0,f.jsx)(o.Z,{disableInteractive:!0,title:"Klik hierop om een dialoogvenster te openen waarmee u een .kml-bestand op uw computer kunt selecteren.",children:(0,f.jsx)(d.Z,{fullWidth:!0,variant:"contained",onClick:()=>i(!0),startIcon:(0,f.jsx)(x.Z,{}),children:"Objecten importeren"})})}),(0,f.jsx)(a.ZP,{item:!0,xs:12,children:(0,f.jsx)(o.Z,{disableInteractive:!0,title:"Klik hierop om alle tekenobjecten naar een .kml-bestand te exporteren.",children:(0,f.jsx)(d.Z,{fullWidth:!0,variant:"contained",onClick:()=>t.export(),startIcon:(0,f.jsx)(m.Z,{}),children:"Objecten exporteren"})})})]})},w=e=>(0,f.jsx)(c.Z,{in:!0,appear:!0,children:(0,f.jsx)(b,{children:(0,f.jsxs)(a.ZP,{container:!0,justifyContent:"space-between",alignItems:"center",children:[(0,f.jsx)(a.ZP,{item:!0,xs:4,children:(0,f.jsx)(s.Z,{variant:"button",children:e.title})}),(0,f.jsxs)(a.ZP,{container:!0,item:!0,xs:8,justifyContent:"flex-end",spacing:1,children:[(0,f.jsx)(a.ZP,{item:!0,children:(0,f.jsx)(o.Z,{disableInteractive:!0,title:"Klik om de ge\xefmporteerde items te verwijderen.",children:(0,f.jsx)(h.Z,{size:"small",onClick:e.onRemoveClick,children:(0,f.jsx)(p.Z,{})})})}),(0,f.jsx)(a.ZP,{item:!0,children:(0,f.jsx)(o.Z,{disableInteractive:!0,title:"Klicka f\xf6r att ".concat(e.hidden?"visa":"d\xf6lja"," objekten ").concat(e.hidden?"i":"fr\xe5n"," kartan."),children:(0,f.jsx)(h.Z,{size:"small",onClick:e.onVisibilityChangeClick,children:e.hidden?(0,f.jsx)(j.Z,{}):(0,f.jsx)(u.Z,{})})})}),(0,f.jsx)(a.ZP,{item:!0,children:(0,f.jsx)(o.Z,{disableInteractive:!0,title:"Klicka h\xe4r f\xf6r att ".concat(e.textShown?"d\xf6lja":"visa"," objektens etiketter."),children:(0,f.jsx)(h.Z,{size:"small",onClick:e.onToggleShowTextClick,children:e.textShown?(0,f.jsx)(v.Z,{}):(0,f.jsx)(k.Z,{})})})})]})]})})}),y=e=>(0,f.jsxs)(a.ZP,{container:!0,style:{maxHeight:240,overflowY:"auto"},children:[(0,f.jsx)(a.ZP,{item:!0,xs:12,children:(0,f.jsx)(s.Z,{variant:"caption",children:"Uppladdade filer"})}),(0,f.jsx)(a.ZP,{item:!0,xs:12,children:e.uploadedFiles.map((t=>(0,f.jsx)(w,{title:t.title,hidden:t.hidden,textShown:t.textShown,onVisibilityChangeClick:()=>e.onVisibilityChangeClick(t.id),onRemoveClick:()=>e.onRemoveClick(t.id),onToggleShowTextClick:()=>e.onToggleShowTextClick(t.id)},t.id)))})]});t.default=e=>{const[t,i]=l.useState(!1),n=e.model.getActivityFromId(e.id);return(0,f.jsxs)(a.ZP,{container:!0,spacing:2,children:[(0,f.jsx)(a.ZP,{item:!0,xs:12,children:(0,f.jsx)(Z.default,{text:n.information})}),(0,f.jsx)(a.ZP,{item:!0,xs:12,children:(0,f.jsx)(C,{kmlModel:e.kmlModel,setDialogOpen:i})}),(0,f.jsx)(a.ZP,{item:!0,xs:12,children:e.uploadedFiles.length>0&&(0,f.jsx)(y,{uploadedFiles:e.uploadedFiles,onVisibilityChangeClick:t=>{const i=e.uploadedFiles.map((e=>e.id===t?{...e,hidden:!e.hidden}:e));e.drawModel.toggleKmlFeaturesVisibility(t),e.setUploadedFiles(i)},onRemoveClick:t=>{const i=e.uploadedFiles.filter((e=>e.id!==t));e.drawModel.removeKmlFeaturesById(t),e.setUploadedFiles(i)},onToggleShowTextClick:t=>{const i=e.uploadedFiles.map((e=>e.id===t?{...e,textShown:!e.textShown}:e));e.drawModel.toggleKmlFeaturesTextVisibility(t),e.setUploadedFiles(i)}})}),(0,f.jsx)(g.default,{open:t,setOpen:i,handleUploadedFile:t=>{const i=e.model.generateRandomString(),l=e.model.getDateTimeString({hour:"numeric",minute:"numeric",second:"numeric"});e.setUploadedFiles((e=>[...e,{id:i,title:l,hidden:!1,textShown:!0}])),e.kmlModel.import(t,{zoomToExtent:!0,setProperties:{KML_ID:i}})}})]})}},8014:(e,t,i)=>{var l=i(64836);t.Z=void 0;var n=l(i(45649)),a=i(80184),o=(0,n.default)((0,a.jsx)("path",{d:"M20 6h-8l-2-2H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zm0 12H4V8h16v10z"}),"FolderOpen");t.Z=o},16346:(e,t,i)=>{var l=i(64836);t.Z=void 0;var n=l(i(45649)),a=i(80184),o=(0,n.default)((0,a.jsx)("path",{d:"M19 12v7H5v-7H3v7c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zm-6 .67 2.59-2.58L17 11.5l-5 5-5-5 1.41-1.41L11 12.67V3h2z"}),"SaveAlt");t.Z=o},27392:(e,t,i)=>{var l=i(64836);t.Z=void 0;var n=l(i(45649)),a=i(80184),o=(0,n.default)((0,a.jsx)("path",{d:"M.99 19h2.42l1.27-3.58h5.65L11.59 19h2.42L8.75 5h-2.5L.99 19zm4.42-5.61L7.44 7.6h.12l2.03 5.79H5.41zM23 11v2h-8v-2h8z"}),"TextDecrease");t.Z=o},25891:(e,t,i)=>{var l=i(64836);t.Z=void 0;var n=l(i(45649)),a=i(80184),o=(0,n.default)((0,a.jsx)("path",{d:"M.99 19h2.42l1.27-3.58h5.65L11.59 19h2.42L8.75 5h-2.5L.99 19zm4.42-5.61L7.44 7.6h.12l2.03 5.79H5.41zM20 11h3v2h-3v3h-2v-3h-3v-2h3V8h2v3z"}),"TextIncrease");t.Z=o},3746:(e,t,i)=>{var l=i(64836);t.Z=void 0;var n=l(i(45649)),a=i(80184),o=(0,n.default)((0,a.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"}),"Visibility");t.Z=o}}]);
//# sourceMappingURL=6009.cd748674.chunk.js.map