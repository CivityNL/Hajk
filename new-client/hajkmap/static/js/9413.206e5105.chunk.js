"use strict";(self.webpackChunkhajk_client=self.webpackChunkhajk_client||[]).push([[9413,1960,4784,2389,6071,7690,6542],{24784:(e,t,n)=>{n.r(t);var o=n(72791),s=n(20890),r=n(82389),i=n(21960),l=n(68870),a=n(80184);class c extends o.PureComponent{constructor(e){super(e),this.state={popupImage:null,activeContent:null},this.bindPrintSpecificHandlers=()=>{const{localObserver:e,model:t}=this.props;e.unsubscribe("append-chapter-components"),e.subscribe("append-document-components",(n=>{let o=[],s=[];n.forEach((e=>{if(e.isGroupHeader)s.push(this.createGroupHeadingTag(e.title,e.id)),o.push(s),s=[];else{e.chapters.forEach((e=>{t.appendComponentsToChapter(e)}));let n=[],s=(0,i.flattenChaptersTree)(e.chapters);s=s.map((e=>{if(e.mustReplace){e={}}return e})),n.push(this.renderChapters(s,!0)),o.push(n)}})),e.publish("chapter-components-appended",o)}))},this.componentDidMount=()=>{const{localObserver:e}=this.props;this.bindPrintSpecificHandlers(),e.subscribe("image-popup",this.showPopupModal)},this.componentWillUnmount=()=>{const{localObserver:e}=this.props;e.unsubscribe("chapter-components-appended")},this.closePopupModal=()=>{this.setState({popupImage:null})},this.showPopupModal=e=>{this.setState({popupImage:e})},this.renderImageInModal=()=>{const{popupImage:e}=this.state;return(0,a.jsx)(r.default,{open:null!=e,close:this.closePopupModal,image:e})},this.createGroupHeadingTag=(e,t)=>(0,a.jsx)(s.Z,{"data-type":"chapter-header",variant:"h1",children:e},t),this.renderChapters=(e,t)=>Array.isArray(e)?e.map((e=>this.renderChapter(e,t))):null,this.renderChapter=(e,t)=>(0,a.jsxs)(o.Fragment,{children:[this.renderHeadline(e,t),e.components,Array.isArray(e.chapters)?e.chapters.map((e=>this.renderChapter(e))):null]},e.id),this.getHeaderVariant=(e,t)=>{let n=2;if(t)return n+=e.level,"h".concat(n);for(;e.parent;)n++,e=e.parent;return"h".concat(n)},this.renderHeadline=(e,t)=>(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(s.Z,{ref:e.scrollRef,sx:{overflowWrap:"break-word"},"data-type":"chapter-header",variant:this.getHeaderVariant(e,t),children:e.header})}),this.render=()=>this.props.activeDocument?(0,a.jsxs)(l.Z,{style:{display:"block",maxWidth:"100%"},children:[this.renderImageInModal(),this.renderChapters(this.props.activeDocument.chapters)]}):null,this.internalIds=[]}}t.default=c},59413:(e,t,n)=>{n.r(t);var o=n(72791),s=n(66934),r=n(61889),i=n(37690),l=n(24784),a=n(38629),c=n(45280),p=n(16071),d=n(80184);const h=(0,s.ZP)(r.ZP)((()=>({maxHeight:"100%",overflowY:"auto",overflowX:"hidden",userSelect:"text",outline:"none"}))),u=(0,s.ZP)(r.ZP)((e=>{let{theme:t}=e;return{paddingBottom:t.spacing(1),paddingLeft:t.spacing(2),paddingRight:t.spacing(2),outline:"none"}})),m=(0,s.ZP)(r.ZP)((e=>{let{theme:t}=e;return{marginBottom:t.spacing(2)}})),g=e=>{var t,n;const{activeDocument:o,options:s}=e,r=null===s||void 0===s||null===(t=s.tableOfContents)||void 0===t?void 0:t.expanded,i=null===o||void 0===o||null===(n=o.tableOfContents)||void 0===n?void 0:n.expanded;return i||!1===i?i:!r&&!1!==r||r};class v extends o.PureComponent{constructor(e){super(e),this.state={showScrollButton:!1,showPrintWindow:!1,expandedTableOfContents:g(this.props)},this.setScrollButtonLimit=()=>{const{options:e}=this.props;let t=e.showScrollButtonLimit;this.scrollLimit=null!=t&&""!==t?t:400},this.bindSubscriptions=()=>{const{localObserver:e}=this.props;e.subscribe("scroll-to-chapter",(async e=>{await(0,a.delay)(100),e.scrollRef.current.scrollIntoView()})),e.subscribe("scroll-to-top",(()=>{this.scrollToTop()}))},this.onScroll=e=>{e.target.scrollTop>this.scrollLimit?this.setState({showScrollButton:!0}):this.setState({showScrollButton:!1})},this.componentDidUpdate=e=>{e.activeDocument!==this.props.activeDocument&&this.setState({expandedTableOfContents:g(this.props)})},this.scrollToTop=async()=>{c.NY.scrollTo(0,{containerId:"documentViewer",smooth:!1,duration:0,delay:100})},this.selectAllText=()=>{let e=document.createRange();e.selectNode(this.documentViewerRef.current),window.getSelection().removeAllRanges(),window.getSelection().addRange(e)},this.toggleCollapse=e=>{this.setState({expandedTableOfContents:!this.state.expandedTableOfContents})},this.getTocTitle=()=>{var e,t;const{activeDocument:n,options:o}=this.props,s=null===n||void 0===n||null===(e=n.tableOfContents)||void 0===e?void 0:e.title,r=null===o||void 0===o||null===(t=o.tableOfContents)||void 0===t?void 0:t.title;return s||!1===s?s:r||!1===r?r:"Inneh\xe5llsf\xf6rteckning"},this.getChapterLevelsToShowInToc=()=>{var e,t;const{activeDocument:n,options:o}=this.props,s=null===n||void 0===n||null===(e=n.tableOfContents)||void 0===e?void 0:e.chapterLevelsToShow,r=null===o||void 0===o||null===(t=o.tableOfContents)||void 0===t?void 0:t.chapterLevelsToShow;return s||(r||100)},this.getShouldShowTableOfContents=()=>{var e,t;const{activeDocument:n,options:o}=this.props,s=null===n||void 0===n||null===(e=n.tableOfContents)||void 0===e?void 0:e.active,r=null===o||void 0===o||null===(t=o.tableOfContents)||void 0===t?void 0:t.active;return s||!1===s?s:!r&&!1!==r||r},this.getTableOfContents=()=>{const{expandedTableOfContents:e}=this.state,{activeDocument:t,localObserver:n}=this.props,o=this.getTocTitle(),s=this.getChapterLevelsToShowInToc();return(0,d.jsx)(i.default,{localObserver:n,toggleCollapse:this.toggleCollapse,activeDocument:t,expanded:e,title:o,chapterLevelsToShow:s})},this.documentViewerRef=o.createRef(),this.setScrollButtonLimit(),this.bindSubscriptions()}render(){const{activeDocument:e,localObserver:t,documentWindowMaximized:n,model:o,options:s}=this.props,{showScrollButton:r}=this.state,i=this.getShouldShowTableOfContents();return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(h,{onScroll:this.onScroll,id:"documentViewer",ref:this.documentViewerRef,container:!0,children:[i&&(0,d.jsx)(m,{xs:12,item:!0,children:this.getTableOfContents()}),(0,d.jsx)(u,{tabIndex:"0",onKeyDown:e=>{(e.ctrlKey||e.metaKey)&&65===e.keyCode&&(this.selectAllText(),e.preventDefault())},sx:{marginTop:i?0:2},container:!0,item:!0,children:(0,d.jsx)(l.default,{options:s,model:o,localObserver:t,activeDocument:e})})]}),r&&n&&(0,d.jsx)(p.default,{color:e.documentColor,onClick:this.scrollToTop})]})}}t.default=v},82389:(e,t,n)=>{n.r(t);var o=n(72791),s=n(66934),r=n(13400),i=n(29823),l=n(5289),a=n(35527),c=n(80184);const p=document.getElementById("map"),d="filter : blur(7px)",h=(0,s.ZP)(r.Z)((e=>{let{theme:t}=e;return{position:"absolute",backgroundColor:t.palette.grey[50],"&:hover":{backgroundColor:t.palette.grey[400]},zIndex:100,right:t.spacing(2),top:t.spacing(2)}})),u=(0,s.ZP)(a.Z)((()=>({maxHeight:"80%",maxWidth:"90%",overflow:"auto",backgroundColor:"transparent",boxShadow:"none",objectFit:"contain"})));function m(e){const{component:t,onClose:n,src:o,altValue:s}=e;return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(h,{size:"small",onClick:n,children:(0,c.jsx)(i.Z,{})}),(0,c.jsx)(u,{alt:s,component:t,src:o})]})}class g extends o.PureComponent{constructor(){super(...arguments),this.removeMapBlur=()=>{p.removeAttribute("style",d)},this.addMapBlur=()=>{p.setAttribute("style",d)},this.componentWillUnmount=()=>{this.removeMapBlur()},this.componentDidMount=()=>{}}render(){const{open:e,close:t,image:n}=this.props;return e?this.addMapBlur():this.removeMapBlur(),(0,c.jsx)(l.Z,{maxWidth:"lg",onBackdropClick:t,PaperComponent:m,PaperProps:{component:"img",onClose:t,src:null===n||void 0===n?void 0:n.url,altValue:null===n||void 0===n?void 0:n.altValue},open:e})}}t.default=g},16071:(e,t,n)=>{n.r(t);n(72791);var o=n(49877),s=n(68870),r=n(42847),i=n(12065),l=n(95573),a=n(80184);t.default=e=>(0,a.jsxs)(o.Z,{size:"small",onClick:e.onClick,sx:{position:"fixed",bottom:e=>e.spacing(2),right:e=>e.spacing(3),...e.color&&{backgroundColor:e.color,"&:hover":{backgroundColor:(0,i._j)(e.color,.3)}}},children:[(0,a.jsx)(s.Z,{sx:l.Z,children:"Scrolla till toppen av dokumentet"}),(0,a.jsx)(r.Z,{})]})},37690:(e,t,n)=>{n.r(t);var o=n(72791),s=n(66934),r=n(22885),i=n(81131),l=n(9933),a=n(45484),c=n(49900),p=n(90493),d=n(24518),h=n(61889),u=n(56125),m=n(80184);const g=(0,l.b)((function(e){return(0,m.jsx)(a.ZP,{component:"li",button:!0,size:"small",dense:!0,onClick:e.onCLick,style:{paddingTop:0,paddingBottom:0,paddingLeft:e.theme.spacing(3*e.level)},children:(0,m.jsx)(c.Z,{children:e.children})})})),v=(0,s.ZP)(p.Z)((e=>{let{theme:t}=e;return{width:"100%",padding:t.spacing(0)}})),b=(0,s.ZP)(d.Z)((e=>{let{theme:t}=e;return{paddingLeft:"0px",display:"flex",justifyContent:"space-between","&:focus-visible":{backgroundColor:t.palette.action.selected}}})),C=(0,s.ZP)(h.ZP)((e=>{let{theme:t}=e;return{backgroundColor:"dark"===t.palette.mode?t.palette.grey[700]:t.palette.grey[200],tapHighlightColor:"transparent",cursor:"pointer",paddingLeft:t.spacing(2),paddingRight:t.spacing(2),paddingTop:t.spacing(1),paddingBottom:t.spacing(1)}})),x=(0,s.ZP)(u.Z)((e=>{let{theme:t}=e;return{width:"100%"}}));class f extends o.PureComponent{constructor(){super(...arguments),this.state={expanded:this.props.expanded},this.linkClick=e=>{const{localObserver:t}=this.props;t.publish("scroll-to-chapter",e)},this.renderChapters=e=>{let t=0;return(0,m.jsx)(v,{"aria-labelledby":"nested-list-subheader",children:Array.isArray(null===e||void 0===e?void 0:e.chapters)?e.chapters.map((e=>this.renderSubChapters(e,0,(++t).toString()))):null})},this.showSubChapter=e=>{const{chapterLevelsToShow:t}=this.props;return e<t},this.renderSubChapters=(e,t,n)=>{if(!this.showSubChapter(t))return null;let s=t+1,r=0;return(0,m.jsxs)(o.Fragment,{children:[(0,m.jsx)(g,{chapter:e,onCLick:()=>{this.linkClick(e)},level:t,children:e.header}),(0,m.jsx)(p.Z,{disablePadding:!0,children:Array.isArray(e.chapters)?e.chapters.map((e=>this.renderSubChapters(e,s,n.concat("."+ ++r)))):null})]},e.header)}}render(){const{activeDocument:e,title:t,expanded:n,toggleCollapse:o}=this.props;return(0,m.jsxs)(C,{container:!0,children:[(0,m.jsx)(b,{disableRipple:!0,color:"inherit",fullWidth:!0,endIcon:n?(0,m.jsx)(r.Z,{}):(0,m.jsx)(i.Z,{}),onClick:o,children:t}),(0,m.jsx)(x,{in:n,id:"expansion-panel-content","aria-hidden":!n,children:(0,m.jsx)(h.ZP,{container:!0,spacing:0,children:this.renderChapters(e)})})]})}}f.defaultProps={expanded:!0,title:"Inneh\xe5ll"},t.default=f},21960:(e,t,n)=>{n.r(t),n.d(t,{flattenChaptersTree:()=>i,getStringArray:()=>s,hasSubMenu:()=>r,splitAndTrimOnCommas:()=>o});const o=e=>e.split(",").map((e=>e.trim())),s=e=>o(e).join(" ").split(" "),r=e=>e.menu&&e.menu.length>0,i=e=>e.reduce(((e,t)=>{if(t.header){let n={...t};n.chapters=[],e=[...e,n]}return t.chapters&&t.chapters.length>0?[...e,...i(t.chapters)]:e}),[])}}]);
//# sourceMappingURL=9413.206e5105.chunk.js.map