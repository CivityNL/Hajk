{"version":3,"file":"static/js/6752.02e74412.chunk.js","mappings":"iKAIA,MAAMA,GAAcC,EAAAA,EAAAA,IAAO,QAAPA,EAAgB,MAClCC,eAAgB,WAChBC,YAAa,QACbC,OAAQ,OACR,OAAQ,CACNC,UAAW,QAEb,OAAQ,CACNC,OAAQ,kBAEV,UAAW,CACTC,aAAc,iBAIlB,MAAMC,UAAkBC,EAAAA,cAAqB,cAAD,yBAC1CC,MAAQ,CACNC,MAAM,EAFkC,CAO1CC,oBACE,MAAM,OAAEC,EAAF,QAAUC,GAAYC,KAAKC,MAC3BC,EAAMF,KAAKG,MAAML,EAAQC,EAAQK,iBACvCJ,KAAKK,KAAKH,EACX,CAEDC,MAAMG,EAAKC,GAoBT,OAnBID,GAAsB,kBAARA,IACfA,EAAIE,MAAM,aAAe,IAAIC,SAASC,IAerCJ,EAAMA,EAAIK,QAAQD,EAdlB,SAAgBE,EAAGC,GAEjB,QADAA,EAAIA,EAAEF,QAAQ,IAAK,IAAIA,QAAQ,IAAK,IAAIG,MAAM,MACpCC,QACR,KAAK,EACH,OAAOH,EAAEC,EAAE,KAAO,GACpB,KAAK,EACH,OAAOD,EAAEC,EAAE,IAAIA,EAAE,KAAO,GAC1B,KAAK,EACH,OAAOD,EAAEC,EAAE,IAAIA,EAAE,IAAIA,EAAE,KAAO,GAChC,QACE,MAAO,GAEZ,CAE2BG,CAAOT,EAAYG,GAA/C,IAGGJ,CACR,CAEDD,KAAKH,IACHe,EAAAA,EAAAA,QAAOf,GAAKgB,MAAMC,IAChBA,EAASC,OAAOF,MAAMG,IACpB,MAAMzB,EAAOyB,EAAIC,SAASC,KAAKxB,IACtB,CACLyB,KAAMzB,EAAQQ,WAAWkB,SAASX,MAAM,KAAK,GAC7CY,MAAO3B,EAAQQ,WAAWmB,UAG9B1B,KAAK2B,SAAS,CACZ/B,KAAMA,GADR,GAPF,GAYH,CAEDgC,SACE,OAAI5B,KAAKL,MAAMC,MAEX,UAACX,EAAD,YACE,4BACE,2BACE,mCACA,iDAGJ,2BACGe,KAAKL,MAAMC,KAAK2B,KAAI,CAACM,EAAUC,KAC9B,2BACE,wBAAKD,EAASL,QACd,wBAAKK,EAASH,UAFPI,WASV,mCAEV,EAGH,W","sources":["components/Table.js"],"sourcesContent":["import React from \"react\";\nimport { hfetch } from \"utils/FetchWrapper\";\nimport { styled } from \"@mui/material/styles\";\n\nconst StyledTable = styled(\"table\")(() => ({\n  borderCollapse: \"collapse\",\n  borderColor: \"black\",\n  margin: \"10px\",\n  \"& th\": {\n    textAlign: \"left\",\n  },\n  \"& td\": {\n    border: \"1px solid #999\",\n  },\n  \"& thead\": {\n    borderBottom: \"2px solid\",\n  },\n}));\n\nclass TableView extends React.PureComponent {\n  state = {\n    data: false,\n  };\n\n  // TODO: Add propTypes\n\n  componentDidMount() {\n    const { source, feature } = this.props;\n    const url = this.parse(source, feature.getProperties());\n    this.load(url);\n  }\n\n  parse(str, properties) {\n    if (str && typeof str === \"string\") {\n      (str.match(/{(.*?)}/g) || []).forEach((property) => {\n        function lookup(o, s) {\n          s = s.replace(\"{\", \"\").replace(\"}\", \"\").split(\".\");\n          switch (s.length) {\n            case 1:\n              return o[s[0]] || \"\";\n            case 2:\n              return o[s[0]][s[1]] || \"\";\n            case 3:\n              return o[s[0]][s[1]][s[2]] || \"\";\n            default:\n              return \"\";\n          }\n        }\n\n        str = str.replace(property, lookup(properties, property));\n      });\n    }\n    return str;\n  }\n\n  load(url) {\n    hfetch(url).then((response) => {\n      response.json().then((rsp) => {\n        const data = rsp.features.map((feature) => {\n          return {\n            date: feature.properties.datetime.split(\"T\")[0],\n            value: feature.properties.value,\n          };\n        });\n        this.setState({\n          data: data,\n        });\n      });\n    });\n  }\n\n  render() {\n    if (this.state.data) {\n      return (\n        <StyledTable>\n          <thead>\n            <tr>\n              <th>Datum</th>\n              <th>Mätvärde</th>\n            </tr>\n          </thead>\n          <tbody>\n            {this.state.data.map((dataPair, i) => (\n              <tr key={i}>\n                <td>{dataPair.date}</td>\n                <td>{dataPair.value}</td>\n              </tr>\n            ))}\n          </tbody>\n        </StyledTable>\n      );\n    } else {\n      return <div>Laddar</div>;\n    }\n  }\n}\n\nexport default TableView;\n"],"names":["StyledTable","styled","borderCollapse","borderColor","margin","textAlign","border","borderBottom","TableView","React","state","data","componentDidMount","source","feature","this","props","url","parse","getProperties","load","str","properties","match","forEach","property","replace","o","s","split","length","lookup","hfetch","then","response","json","rsp","features","map","date","datetime","value","setState","render","dataPair","i"],"sourceRoot":""}