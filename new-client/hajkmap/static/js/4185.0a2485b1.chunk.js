"use strict";(self.webpackChunkhajk_client=self.webpackChunkhajk_client||[]).push([[4185,2670],{82589:(t,e,n)=>{n.d(e,{Z:()=>c});var i=n(15545),s=n(28907),r=n(87076);function o(t){var e={type:"Feature"};return Object.keys(t).forEach((function(n){switch(n){case"type":case"properties":case"geometry":return;default:e[n]=t[n]}})),e.properties=a(t.properties),e.geometry=h(t.geometry),e}function a(t){var e={};return t?(Object.keys(t).forEach((function(n){var i=t[n];"object"===typeof i?null===i?e[n]=null:Array.isArray(i)?e[n]=i.map((function(t){return t})):e[n]=a(i):e[n]=i})),e):e}function h(t){var e={type:t.type};return t.bbox&&(e.bbox=t.bbox),"GeometryCollection"===t.type?(e.geometries=t.geometries.map((function(t){return h(t)})),e):(e.coordinates=l(t.coordinates),e)}function l(t){var e=t;return"object"!==typeof e[0]?e.slice():e.map((function(t){return l(t)}))}var d=function(t){if(!t)throw new Error("geojson is required");switch(t.type){case"Feature":return o(t);case"FeatureCollection":return function(t){var e={type:"FeatureCollection"};return Object.keys(t).forEach((function(n){switch(n){case"type":case"features":return;default:e[n]=t[n]}})),e.features=t.features.map((function(t){return o(t)})),e}(t);case"Point":case"LineString":case"Polygon":case"MultiPoint":case"MultiLineString":case"MultiPolygon":case"GeometryCollection":return h(t);default:throw new Error("unknown GeoJSON type")}};var u=function(t,e,n,i){void 0===i&&(i={});var o=e<0,a=(0,s.vs)(Math.abs(e),i.units,"meters");o&&(a=-Math.abs(a));var h=(0,r.c9)(t),l=function(t,e,n,i){i=void 0===i?s.rQ:Number(i);var r=e/i,o=t[0]*Math.PI/180,a=(0,s.Ht)(t[1]),h=(0,s.Ht)(n),l=r*Math.cos(h),d=a+l;Math.abs(d)>Math.PI/2&&(d=d>0?Math.PI-d:-Math.PI-d);var u=Math.log(Math.tan(d/2+Math.PI/4)/Math.tan(a/2+Math.PI/4)),c=Math.abs(u)>1e-11?l/u:Math.cos(a),g=r*Math.sin(h)/c;return[(180*(o+g)/Math.PI+540)%360-180,180*d/Math.PI]}(h,a,n);return l[0]+=l[0]-h[0]>180?-360:h[0]-l[0]>180?360:0,(0,s.xm)(l,i.properties)};var c=function(t,e,n,o){if(o=o||{},!(0,s.Kn)(o))throw new Error("options is invalid");var a=o.units,h=o.zTranslation,l=o.mutate;if(!t)throw new Error("geojson is required");if(void 0===e||null===e||isNaN(e))throw new Error("distance is required");if(h&&"number"!==typeof h&&isNaN(h))throw new Error("zTranslation is not a number");if(h=void 0!==h?h:0,0===e&&0===h)return t;if(void 0===n||null===n||isNaN(n))throw new Error("direction is required");return e<0&&(e=-e,n+=180),!1!==l&&void 0!==l||(t=d(t)),(0,i.pZ)(t,(function(t){var i=(0,r.r7)(u(t,e,n,{units:a}));t[0]=i[0],t[1]=i[1],h&&3===t.length&&(t[2]+=h)})),t}},42670:(t,e,n)=>{var i=n(45957),s=n(5989),r=n(99148),o=n(37130),a=n(30923),h=n(1408);const l="element",d="map",u="offset",c="position",g="positioning";class p extends i.Z{constructor(t){super(),this.on,this.once,this.un,this.options=t,this.id=t.id,this.insertFirst=void 0===t.insertFirst||t.insertFirst,this.stopEvent=void 0===t.stopEvent||t.stopEvent,this.element=document.createElement("div"),this.element.className=void 0!==t.className?t.className:"ol-overlay-container "+r.$A,this.element.style.position="absolute",this.element.style.pointerEvents="auto",this.autoPan=!0===t.autoPan?{}:t.autoPan||void 0,this.rendered={transform_:"",visible:!0},this.mapPostrenderListenerKey=null,this.addChangeListener(l,this.handleElementChanged),this.addChangeListener(d,this.handleMapChanged),this.addChangeListener(u,this.handleOffsetChanged),this.addChangeListener(c,this.handlePositionChanged),this.addChangeListener(g,this.handlePositioningChanged),void 0!==t.element&&this.setElement(t.element),this.setOffset(void 0!==t.offset?t.offset:[0,0]),this.setPositioning(t.positioning||"top-left"),void 0!==t.position&&this.setPosition(t.position)}getElement(){return this.get(l)}getId(){return this.id}getMap(){return this.get(d)||null}getOffset(){return this.get(u)}getPosition(){return this.get(c)}getPositioning(){return this.get(g)}handleElementChanged(){(0,h.ep)(this.element);const t=this.getElement();t&&this.element.appendChild(t)}handleMapChanged(){this.mapPostrenderListenerKey&&((0,h.ZF)(this.element),(0,a.bN)(this.mapPostrenderListenerKey),this.mapPostrenderListenerKey=null);const t=this.getMap();if(t){this.mapPostrenderListenerKey=(0,a.oL)(t,s.Z.POSTRENDER,this.render,this),this.updatePixelPosition();const e=this.stopEvent?t.getOverlayContainerStopEvent():t.getOverlayContainer();this.insertFirst?e.insertBefore(this.element,e.childNodes[0]||null):e.appendChild(this.element),this.performAutoPan()}}render(){this.updatePixelPosition()}handleOffsetChanged(){this.updatePixelPosition()}handlePositionChanged(){this.updatePixelPosition(),this.performAutoPan()}handlePositioningChanged(){this.updatePixelPosition()}setElement(t){this.set(l,t)}setMap(t){this.set(d,t)}setOffset(t){this.set(u,t)}setPosition(t){this.set(c,t)}performAutoPan(){this.autoPan&&this.panIntoView(this.autoPan)}panIntoView(t){const e=this.getMap();if(!e||!e.getTargetElement()||!this.get(c))return;const n=this.getRect(e.getTargetElement(),e.getSize()),i=this.getElement(),s=this.getRect(i,[(0,h.iO)(i),(0,h.Pb)(i)]),r=void 0===(t=t||{}).margin?20:t.margin;if(!(0,o.containsExtent)(n,s)){const i=s[0]-n[0],o=n[2]-s[2],a=s[1]-n[1],h=n[3]-s[3],l=[0,0];if(i<0?l[0]=i-r:o<0&&(l[0]=Math.abs(o)+r),a<0?l[1]=a-r:h<0&&(l[1]=Math.abs(h)+r),0!==l[0]||0!==l[1]){const n=e.getView().getCenterInternal(),i=e.getPixelFromCoordinateInternal(n);if(!i)return;const s=[i[0]+l[0],i[1]+l[1]],r=t.animation||{};e.getView().animateInternal({center:e.getCoordinateFromPixelInternal(s),duration:r.duration,easing:r.easing})}}}getRect(t,e){const n=t.getBoundingClientRect(),i=n.left+window.pageXOffset,s=n.top+window.pageYOffset;return[i,s,i+e[0],s+e[1]]}setPositioning(t){this.set(g,t)}setVisible(t){this.rendered.visible!==t&&(this.element.style.display=t?"":"none",this.rendered.visible=t)}updatePixelPosition(){const t=this.getMap(),e=this.getPosition();if(!t||!t.isRendered()||!e)return void this.setVisible(!1);const n=t.getPixelFromCoordinate(e),i=t.getSize();this.updateRenderedPosition(n,i)}updateRenderedPosition(t,e){const n=this.element.style,i=this.getOffset(),s=this.getPositioning();this.setVisible(!0);const r=Math.round(t[0]+i[0])+"px",o=Math.round(t[1]+i[1])+"px";let a="0%",h="0%";"bottom-right"==s||"center-right"==s||"top-right"==s?a="-100%":"bottom-center"!=s&&"center-center"!=s&&"top-center"!=s||(a="-50%"),"bottom-left"==s||"bottom-center"==s||"bottom-right"==s?h="-100%":"center-left"!=s&&"center-center"!=s&&"center-right"!=s||(h="-50%");const l="translate(".concat(a,", ").concat(h,") translate(").concat(r,", ").concat(o,")");this.rendered.transform_!=l&&(this.rendered.transform_=l,n.transform=l)}getOptions(){return this.options}}e.Z=p}}]);
//# sourceMappingURL=4185.0a2485b1.chunk.js.map