"use strict";(self.webpackChunkhajk_client=self.webpackChunkhajk_client||[]).push([[1008],{71008:(e,t,r)=>{r.r(t);var a=r(72791),n=r(66934),i=r(98246),s=r(68096),o=r(35527),l=r(4110),c=r(24518),h=r(61889),d=r(57482),u=r(30829),m=r(84795),p=r(3395),v=r(11814),g=r(37130),f=r(80184);const b=(0,n.ZP)(s.Z)((e=>{let{theme:t}=e;return{marginBottom:t.spacing(2)}})),Z=(0,n.ZP)(o.Z)((e=>{let{theme:t}=e;return{opacity:1,transition:"opacity 2s ease-in",marginBottom:t.spacing(2)}}));class x extends a.PureComponent{constructor(e){super(e),this.setFormat=e=>{this.setState({selectFormat:e.target.value})},this.setResolution=e=>{this.setState({selectResolution:e.target.value})},this.setScale=e=>{this.setState({selectScale:e.target.value})},this.setCenter=e=>{this.setState({center:e})},this.setManualScale=e=>{var t=e.target.value.startsWith("1:")?e.target.value.split(":")[1]:e.target.value;this.setState({manualScale:t})},this.setOrientation=e=>{this.setState({selectOrientation:e.target.value})},this.exportPDF=e=>{this.setState({url:!1,loading:!0});var t={size:this.getPaperMeasures(),format:this.getFormat(),orientation:this.getOrientation(),scale:this.getScale(),resolution:this.getResolution()};this.props.model.exportPDF(t,(e=>{let t={loading:!1};".pdf"===e.trimEnd().substr(-4)?t.url=e:this.props.enqueueSnackbar("Utskriften kunde inte skapas. Prova med l\xe4gre uppl\xf6sning, mindre omr\xe5de eller f\xe4rre lager i kartan.",{variant:"error"}),this.setState(t)}))},this.resolutions=[72,96,150,200,300],this.paperFormats=["A2","A3","A4"],this.state={selectFormat:"A4",selectOrientation:"S",selectScale:e.model.scales[Math.floor(e.model.scales.length/2)],manualScale:"10000",selectResolution:"72",center:e.model.getPreviewFeature()?e.model.getPreviewCenter():e.model.map.getView().getCenter(),loading:!1,previewLayerVisible:!1},e.localObserver.subscribe("showPreviewLayer",(()=>{this.setState({previewLayerVisible:!0}),this.addPreview(e.model.map)})),e.localObserver.subscribe("hidePreviewLayer",(()=>{this.setState({previewLayerVisible:!1}),this.removePreview()}))}getPaperMeasures(){var e=e=>{switch(e){case"A4":return{width:"L"===this.getOrientation()?297:210,height:"L"===this.getOrientation()?210:297};case"A3":return{width:"L"===this.getOrientation()?420:297,height:"L"===this.getOrientation()?297:420};case"A2":return{width:"L"===this.getOrientation()?594:420,height:"L"===this.getOrientation()?420:594};default:return{width:0,height:0}}};return{width:e(this.getFormat()).width/25.4,height:e(this.getFormat()).height/25.4}}getPreviewPaperMeasures(){var e=this.getPaperMeasures(),t=25.4/.28;return{width:e.width*t,height:e.height*t}}getScale(){return"other"===this.state.selectScale?Number.isNaN(Number(this.state.manualScale))?0:this.state.manualScale:this.state.selectScale}getResolution(){return this.state.selectResolution}getOrientation(){return this.state.selectOrientation}getFormat(){return this.state.selectFormat}removePreview(){this.props.model.removePreview()}addPreview(e){var t=this.getScale(),r=this.getPreviewPaperMeasures(),a=this.props.model.getPreviewFeature()?(0,g.getCenter)(this.props.model.getPreviewFeature().getGeometry().getExtent()):e.getView().getCenter();this.props.model.addPreview(t,r,a);var n=void 0;switch(t){case"250":case"500":n=6;break;case"1000":n=5;break;case"2500":n=4;break;case"5000":n=3;break;case"10000":n=2;break;case"25000":case"50000":n=1;break;case"100000":case"250000":n=0;break;default:n=e.getView().getZoom()}this.props.model.autoScale&&n<e.getView().getZoom()&&e.getView().setZoom(n)}render(){const e=this.props.model.scales.map(((e,t)=>(0,f.jsxs)("option",{value:e,children:["1:",e]},t))),t=this.resolutions.map(((e,t)=>"A2"===this.state.selectFormat?300!==e?(0,f.jsx)("option",{value:e,children:e},t):(0,f.jsx)("option",{value:e,disabled:!0,children:e},t):(0,f.jsx)("option",{value:e,children:e},t))),r=this.paperFormats.map(((e,t)=>"300"===this.state.selectResolution?"A2"!==e?(0,f.jsx)("option",{value:e,children:e},t):(0,f.jsx)("option",{value:e,disabled:!0,children:e},t):(0,f.jsx)("option",{value:e,children:e},t)));return!0===this.state.previewLayerVisible?this.addPreview(this.props.model.map):this.removePreview(),(0,f.jsxs)(h.ZP,{container:!0,children:[this.state.loading&&(0,f.jsx)(h.ZP,{item:!0,xs:12,children:(0,f.jsx)(Z,{children:(0,f.jsx)(d.Z,{})})}),(0,f.jsx)(h.ZP,{item:!0,xs:12,children:(0,f.jsxs)(b,{fullWidth:!0,children:[(0,f.jsx)(u.Z,{variant:"standard",htmlFor:"paper-size-native-helper",children:"Pappersstorlek"}),(0,f.jsx)(m.Z,{onChange:this.setFormat,value:this.state.selectFormat,input:(0,f.jsx)(l.Z,{name:"format",id:"paper-size-native-helper"}),children:r})]})}),(0,f.jsx)(h.ZP,{item:!0,xs:12,children:(0,f.jsxs)(b,{fullWidth:!0,children:[(0,f.jsx)(u.Z,{variant:"standard",htmlFor:"orientation-native-helper",children:"Orientering"}),(0,f.jsxs)(m.Z,{onChange:this.setOrientation,value:this.state.selectOrientation,input:(0,f.jsx)(l.Z,{name:"orientation",id:"orientation-native-helper"}),children:[(0,f.jsx)("option",{value:"P",children:"st\xe5ende"}),(0,f.jsx)("option",{value:"L",children:"liggande"})]})]})}),(0,f.jsx)(h.ZP,{item:!0,xs:12,children:(0,f.jsxs)(b,{fullWidth:!0,children:[(0,f.jsx)(u.Z,{variant:"standard",htmlFor:"scale-native-helper",children:"Skala"}),(0,f.jsxs)(m.Z,{onChange:this.setScale,value:this.state.selectScale,input:(0,f.jsx)(l.Z,{name:"scale",id:"scale-native-helper"}),children:[e,(0,f.jsx)("option",{value:"other",children:"Annan skala"},"other")]})]})}),"other"===this.state.selectScale&&(0,f.jsx)(h.ZP,{item:!0,xs:12,children:(0,f.jsx)(b,{fullWidth:!0,children:(0,f.jsx)(l.Z,{type:"text",onChange:this.setManualScale,value:this.state.manualScale})})}),(0,f.jsx)(h.ZP,{item:!0,xs:12,children:(0,f.jsxs)(b,{fullWidth:!0,children:[(0,f.jsx)(u.Z,{variant:"standard",htmlFor:"resolution-native-helper",children:"Uppl\xf6sning"}),(0,f.jsx)(m.Z,{value:this.state.selectResolution,onChange:this.setResolution,input:(0,f.jsx)(l.Z,{name:"resolution",id:"resolution-native-helper"}),children:t})]})}),(0,f.jsx)(b,{fullWidth:!0,children:(0,f.jsxs)(c.Z,{variant:"contained",color:"primary",fullWidth:!0,onClick:this.exportPDF,children:[(0,f.jsx)(v.Z,{sx:{marginRight:1}})," Skapa PDF"]})}),this.state.url&&(0,f.jsx)(b,{fullWidth:!0,children:(0,f.jsxs)(c.Z,{variant:"contained",fullWidth:!0,target:"_blank",href:this.state.url,children:[(0,f.jsx)(p.Z,{sx:{marginRight:1}})," Ladda ner"]})})]})}}t.default=(0,i.RM)(x)},3395:(e,t,r)=>{var a=r(64836);t.Z=void 0;var n=a(r(45649)),i=r(80184),s=(0,n.default)((0,i.jsx)("path",{d:"m20 12-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z"}),"ArrowDownward");t.Z=s},11814:(e,t,r)=>{var a=r(64836);t.Z=void 0;var n=a(r(45649)),i=r(80184),s=(0,n.default)((0,i.jsx)("path",{d:"M20 2H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-8.5 7.5c0 .83-.67 1.5-1.5 1.5H9v2H7.5V7H10c.83 0 1.5.67 1.5 1.5v1zm5 2c0 .83-.67 1.5-1.5 1.5h-2.5V7H15c.83 0 1.5.67 1.5 1.5v3zm4-3H19v1h1.5V11H19v2h-1.5V7h3v1.5zM9 9.5h1v-1H9v1zM4 6H2v14c0 1.1.9 2 2 2h14v-2H4V6zm10 5.5h1v-3h-1v3z"}),"PictureAsPdf");t.Z=s},57482:(e,t,r)=>{r.d(t,{Z:()=>W});var a=r(30168),n=r(63366),i=r(87462),s=r(72791),o=r(28182),l=r(94419),c=r(52554),h=r(12065),d=r(14036),u=r(13967),m=r(66934),p=r(31402),v=r(75878),g=r(21217);function f(e){return(0,g.Z)("MuiLinearProgress",e)}(0,v.Z)("MuiLinearProgress",["root","colorPrimary","colorSecondary","determinate","indeterminate","buffer","query","dashed","dashedColorPrimary","dashedColorSecondary","bar","barColorPrimary","barColorSecondary","bar1Indeterminate","bar1Determinate","bar1Buffer","bar2Indeterminate","bar2Buffer"]);var b,Z,x,w,P,j,S=r(80184);const C=["className","color","value","valueBuffer","variant"];let k,y,F,L,M,O;const R=(0,c.F4)(k||(k=b||(b=(0,a.Z)(["\n  0% {\n    left: -35%;\n    right: 100%;\n  }\n\n  60% {\n    left: 100%;\n    right: -90%;\n  }\n\n  100% {\n    left: 100%;\n    right: -90%;\n  }\n"])))),z=(0,c.F4)(y||(y=Z||(Z=(0,a.Z)(["\n  0% {\n    left: -200%;\n    right: 100%;\n  }\n\n  60% {\n    left: 107%;\n    right: -8%;\n  }\n\n  100% {\n    left: 107%;\n    right: -8%;\n  }\n"])))),N=(0,c.F4)(F||(F=x||(x=(0,a.Z)(["\n  0% {\n    opacity: 1;\n    background-position: 0 -23px;\n  }\n\n  60% {\n    opacity: 0;\n    background-position: 0 -23px;\n  }\n\n  100% {\n    opacity: 1;\n    background-position: -200px -23px;\n  }\n"])))),V=(e,t)=>"inherit"===t?"currentColor":e.vars?e.vars.palette.LinearProgress["".concat(t,"Bg")]:"light"===e.palette.mode?(0,h.$n)(e.palette[t].main,.62):(0,h._j)(e.palette[t].main,.5),A=(0,m.ZP)("span",{name:"MuiLinearProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t["color".concat((0,d.Z)(r.color))],t[r.variant]]}})((e=>{let{ownerState:t,theme:r}=e;return(0,i.Z)({position:"relative",overflow:"hidden",display:"block",height:4,zIndex:0,"@media print":{colorAdjust:"exact"},backgroundColor:V(r,t.color)},"inherit"===t.color&&"buffer"!==t.variant&&{backgroundColor:"none","&::before":{content:'""',position:"absolute",left:0,top:0,right:0,bottom:0,backgroundColor:"currentColor",opacity:.3}},"buffer"===t.variant&&{backgroundColor:"transparent"},"query"===t.variant&&{transform:"rotate(180deg)"})})),B=(0,m.ZP)("span",{name:"MuiLinearProgress",slot:"Dashed",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.dashed,t["dashedColor".concat((0,d.Z)(r.color))]]}})((e=>{let{ownerState:t,theme:r}=e;const a=V(r,t.color);return(0,i.Z)({position:"absolute",marginTop:0,height:"100%",width:"100%"},"inherit"===t.color&&{opacity:.3},{backgroundImage:"radial-gradient(".concat(a," 0%, ").concat(a," 16%, transparent 42%)"),backgroundSize:"10px 10px",backgroundPosition:"0 -23px"})}),(0,c.iv)(L||(L=w||(w=(0,a.Z)(["\n    animation: "," 3s infinite linear;\n  "]))),N)),I=(0,m.ZP)("span",{name:"MuiLinearProgress",slot:"Bar1",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.bar,t["barColor".concat((0,d.Z)(r.color))],("indeterminate"===r.variant||"query"===r.variant)&&t.bar1Indeterminate,"determinate"===r.variant&&t.bar1Determinate,"buffer"===r.variant&&t.bar1Buffer]}})((e=>{let{ownerState:t,theme:r}=e;return(0,i.Z)({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",backgroundColor:"inherit"===t.color?"currentColor":(r.vars||r).palette[t.color].main},"determinate"===t.variant&&{transition:"transform .".concat(4,"s linear")},"buffer"===t.variant&&{zIndex:1,transition:"transform .".concat(4,"s linear")})}),(e=>{let{ownerState:t}=e;return("indeterminate"===t.variant||"query"===t.variant)&&(0,c.iv)(M||(M=P||(P=(0,a.Z)(["\n      width: auto;\n      animation: "," 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;\n    "]))),R)})),H=(0,m.ZP)("span",{name:"MuiLinearProgress",slot:"Bar2",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.bar,t["barColor".concat((0,d.Z)(r.color))],("indeterminate"===r.variant||"query"===r.variant)&&t.bar2Indeterminate,"buffer"===r.variant&&t.bar2Buffer]}})((e=>{let{ownerState:t,theme:r}=e;return(0,i.Z)({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left"},"buffer"!==t.variant&&{backgroundColor:"inherit"===t.color?"currentColor":(r.vars||r).palette[t.color].main},"inherit"===t.color&&{opacity:.3},"buffer"===t.variant&&{backgroundColor:V(r,t.color),transition:"transform .".concat(4,"s linear")})}),(e=>{let{ownerState:t}=e;return("indeterminate"===t.variant||"query"===t.variant)&&(0,c.iv)(O||(O=j||(j=(0,a.Z)(["\n      width: auto;\n      animation: "," 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite;\n    "]))),z)}));var W=s.forwardRef((function(e,t){const r=(0,p.Z)({props:e,name:"MuiLinearProgress"}),{className:a,color:s="primary",value:c,valueBuffer:h,variant:m="indeterminate"}=r,v=(0,n.Z)(r,C),g=(0,i.Z)({},r,{color:s,variant:m}),b=(e=>{const{classes:t,variant:r,color:a}=e,n={root:["root","color".concat((0,d.Z)(a)),r],dashed:["dashed","dashedColor".concat((0,d.Z)(a))],bar1:["bar","barColor".concat((0,d.Z)(a)),("indeterminate"===r||"query"===r)&&"bar1Indeterminate","determinate"===r&&"bar1Determinate","buffer"===r&&"bar1Buffer"],bar2:["bar","buffer"!==r&&"barColor".concat((0,d.Z)(a)),"buffer"===r&&"color".concat((0,d.Z)(a)),("indeterminate"===r||"query"===r)&&"bar2Indeterminate","buffer"===r&&"bar2Buffer"]};return(0,l.Z)(n,f,t)})(g),Z=(0,u.Z)(),x={},w={bar1:{},bar2:{}};if("determinate"===m||"buffer"===m)if(void 0!==c){x["aria-valuenow"]=Math.round(c),x["aria-valuemin"]=0,x["aria-valuemax"]=100;let e=c-100;"rtl"===Z.direction&&(e=-e),w.bar1.transform="translateX(".concat(e,"%)")}else 0;if("buffer"===m)if(void 0!==h){let e=(h||0)-100;"rtl"===Z.direction&&(e=-e),w.bar2.transform="translateX(".concat(e,"%)")}else 0;return(0,S.jsxs)(A,(0,i.Z)({className:(0,o.default)(b.root,a),ownerState:g,role:"progressbar"},x,{ref:t},v,{children:["buffer"===m?(0,S.jsx)(B,{className:b.dashed,ownerState:g}):null,(0,S.jsx)(I,{className:b.bar1,ownerState:g,style:w.bar1}),"determinate"===m?null:(0,S.jsx)(H,{className:b.bar2,ownerState:g,style:w.bar2})]}))}))},84795:(e,t,r)=>{var a=r(87462),n=r(63366),i=r(72791),s=r(28182),o=r(94419),l=r(29916),c=r(76147),h=r(52930),d=r(89059),u=r(4110),m=r(31402),p=r(41797),v=r(80184);const g=["className","children","classes","IconComponent","input","inputProps","variant"],f=["root"],b=(0,v.jsx)(u.Z,{}),Z=i.forwardRef((function(e,t){const r=(0,m.Z)({name:"MuiNativeSelect",props:e}),{className:u,children:Z,classes:x={},IconComponent:w=d.Z,input:P=b,inputProps:j}=r,S=(0,n.Z)(r,g),C=(0,h.Z)(),k=(0,c.Z)({props:r,muiFormControl:C,states:["variant"]}),y=(e=>{const{classes:t}=e;return(0,o.Z)({root:["root"]},p.f,t)})((0,a.Z)({},r,{classes:x})),F=(0,n.Z)(x,f);return(0,v.jsx)(i.Fragment,{children:i.cloneElement(P,(0,a.Z)({inputComponent:l.ZP,inputProps:(0,a.Z)({children:Z,classes:F,IconComponent:w,variant:k.variant,type:void 0},j,P?P.props.inputProps:{}),ref:t},S,{className:(0,s.default)(y.root,P.props.className,u)}))})}));Z.muiName="Select",t.Z=Z}}]);
//# sourceMappingURL=1008.4e0ddddd.chunk.js.map