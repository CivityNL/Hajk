"use strict";(self.webpackChunkhajk_client=self.webpackChunkhajk_client||[]).push([[8013],{28619:(t,i,o)=>{o.r(i);var s=o(72791),e=o(66934),n=o(57621),r=o(93044),p=o(66647),l=o(9585),a=o(80184);const d=(0,e.ZP)(n.Z)((t=>{let{theme:i}=t;return{marginBottom:i.spacing(1),width:"210px",[i.breakpoints.down("sm")]:{boxShadow:"none",borderBottom:"1px solid #ccc",borderRadius:0,margin:0,width:"100%",justifyContent:"left"}}})),c=(0,e.ZP)(r.Z)((t=>{let{theme:i}=t;return{background:i.palette.text.primary}}));class h extends s.PureComponent{constructor(){super(...arguments),this.state={open:!1,text:""}}render(){const{abstract:t,icon:i,onClick:o,title:s}=this.props;return(0,a.jsx)(d,{onClick:o,children:(0,a.jsx)(p.Z,{children:(0,a.jsx)(l.Z,{avatar:(0,a.jsx)(c,{children:i}),title:s,subheader:t})})})}}h.defaultProps={abstract:"Beskrivning saknas",title:"Titel saknas"},i.default=h},73151:(t,i,o)=>{o.r(i);var s=o(72791),e=o(85286),n=o(54164),r=o(19538),p=o(45484),l=o(57064),a=o(49900),d=o(26191),c=o(28619),h=o(74599),u=o(80184);class m extends s.PureComponent{constructor(t){var i;super(t),i=this,this.handleButtonClick=t=>{this.showWindow({hideOtherPluginWindows:!0,runCallback:!0}),this.props.app.globalObserver.publish("core.onlyHideDrawerIfNeeded")},this.showWindow=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const o=t.hideOtherPluginWindows||!0,s=t.runCallback||!0;if(i.props.app.activeTool=i.type,i.props.app.globalObserver.publish("analytics.trackEvent",{eventName:"pluginShown",pluginName:i.type,activeMap:i.props.app.config.activeMap}),i.props.app.pushPluginIntoHistory({type:i.type,icon:i.props.custom.icon,title:i.title,description:i.description}),!0===i.state.windowVisible)return null;!0===o&&i.props.app.onWindowOpen(i),i.setState({windowVisible:!0},(()=>{i.props.app.globalObserver.publish("core.pluginVisibilityChanged"),!0===s&&"function"===typeof i.props.custom.onWindowShow&&i.props.custom.onWindowShow()}))},this.closeWindow=()=>{this.type===this.props.app.activeTool&&(this.props.app.activeTool=void 0),this.setState({windowVisible:!1},(()=>{this.props.app.globalObserver.publish("core.pluginVisibilityChanged"),"function"===typeof this.props.custom.onWindowHide&&this.props.custom.onWindowHide()}))},this.type=t.type.toLowerCase()||void 0,this.description=t.options.description||t.custom.description;const o=!1===this.props.app.config.mapConfig.map.clean&&(e.isMobile?t.options.visibleAtStartMobile:t.options.visibleAtStart)||!1;o&&this.props.app.globalObserver.publish("analytics.trackEvent",{eventName:"pluginShown",pluginName:this.type,activeMap:this.props.app.config.activeMap}),this.state={title:t.options.title||t.custom.title||"Unnamed plugin",color:t.options.color||t.custom.color||null,windowVisible:o},this.title=t.options.title||t.custom.title||"Unnamed plugin",this.width=t.options.width||t.custom.width||400,this.height=t.options.height||t.custom.height||"auto",this.position=t.options.position||t.custom.position||"left",t.app.registerWindowPlugin(this);const s="".concat(this.type,".showWindow");t.app.globalObserver.subscribe(s,(t=>{this.showWindow(t)}));const n="".concat(this.type,".closeWindow");t.app.globalObserver.subscribe(n,(()=>{this.closeWindow()}))}componentDidUpdate(t){t.custom.title!==this.props.custom.title&&this.setState({title:this.props.custom.title}),t.custom.color!==this.props.custom.color&&this.setState({color:this.props.custom.color})}pluginIsWidget(t){return["left","right"].includes(t)}renderWindow(t){const{target:i}=this.props.options;return"function"===typeof(null===t||void 0===t?void 0:t.render)?t.render():(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(d.default,{globalObserver:this.props.app.globalObserver,title:this.state.title,color:this.state.color,onClose:this.closeWindow,open:this.state.windowVisible,onResize:this.props.custom.onResize,onMaximize:this.props.custom.onMaximize,onMinimize:this.props.custom.onMinimize,draggingEnabled:this.props.custom.draggingEnabled,customPanelHeaderButtons:this.props.custom.customPanelHeaderButtons,resizingEnabled:this.props.custom.resizingEnabled,scrollable:this.props.custom.scrollable,allowMaximizedWindow:this.props.custom.allowMaximizedWindow,disablePadding:this.props.custom.disablePadding,width:this.width,height:this.height,position:this.position,mode:"window",layerswitcherConfig:this.props.app.config.mapConfig.tools.find((t=>"layerswitcher"===t.type)),children:s.cloneElement(this.props.children,{windowVisible:this.state.windowVisible})}),"hidden"!==i&&this.renderDrawerButton(),this.pluginIsWidget(i)&&this.renderWidgetButton("".concat(i,"-column")),"control"===i&&this.renderControlButton()]})}renderDrawerButton(){return(0,n.createPortal)((0,u.jsx)(r.Z,{mdUp:this.pluginIsWidget(this.props.options.target)||"control"===this.props.options.target,children:(0,u.jsxs)(p.ZP,{button:!0,divider:!0,selected:this.state.windowVisible,onClick:this.handleButtonClick,children:[(0,u.jsx)(l.Z,{children:this.props.custom.icon}),(0,u.jsx)(a.Z,{primary:this.title})]})}),document.getElementById("plugin-buttons"))}renderWidgetButton(t){return(0,n.createPortal)((0,u.jsx)(r.Z,{mdDown:!0,children:(0,u.jsx)(c.default,{icon:this.props.custom.icon,onClick:this.handleButtonClick,title:this.title,abstract:this.description})}),document.getElementById(t))}renderControlButton(){return(0,n.createPortal)((0,u.jsx)(r.Z,{mdDown:!0,children:(0,u.jsx)(h.default,{icon:this.props.custom.icon,onClick:this.handleButtonClick,title:this.title,abstract:this.description})}),document.getElementById("plugin-control-buttons"))}render(){return!0!==this.props.app.config.mapConfig.map.clean&&this.renderWindow(this.props.custom)}}i.default=m},48013:(t,i,o)=>{o.r(i);var s=o(72791),e=o(73151),n=o(86830),r=o(10841),p=o(85194),l=o.n(p),a=o(88014),d=o(80184);class c extends s.PureComponent{constructor(t){var i,o,s,e,r,p,a,d,c,h,u,m;super(t),this.dims={a0:[1189,841],a1:[841,594],a2:[594,420],a3:[420,297],a4:[297,210],a5:[210,148]},this.dpis=[72,150,300],this.paperFormats=Object.keys(this.dims),this.scales=[100,250,500,1e3,2500,5e3,1e4,25e3,5e4,1e5,2e5,5e5],this.scaleMeters=[20,40,40,100,200,200,400,600,2e3,4e3,1e4,2e4],this.onWindowShow=()=>{this.localObserver.publish("showPrintPreview")},this.onWindowHide=()=>{this.localObserver.publish("hidePrintPreview")},(null===t||void 0===t||null===(i=t.options)||void 0===i||null===(o=i.scales)||void 0===o?void 0:o.split(",").length)>1?t.options.scales=t.options.scales.replace(/\s/g,"").split(","):t.options.scales=this.scales,(null===t||void 0===t||null===(s=t.options)||void 0===s||null===(e=s.scaleMeters)||void 0===e?void 0:e.split(",").length)>1?t.options.scaleMeters=t.options.scaleMeters.replace(/\s/g,"").split(","):t.options.scaleMeters=this.scaleMeters,(null===t||void 0===t||null===(r=t.options)||void 0===r||null===(p=r.dpis)||void 0===p?void 0:p.split(",").length)>1?t.options.dpis=t.options.dpis.replace(/\s/g,"").split(",").map((t=>parseInt(t))):t.options.dpis=this.dpis,(null===t||void 0===t||null===(a=t.options)||void 0===a||null===(d=a.paperFormats)||void 0===d?void 0:d.split(",").length)>1?t.options.paperFormats=t.options.paperFormats.replace(/\s/g,"").split(",").map((t=>t.toLowerCase())):t.options.paperFormats=this.paperFormats,t.options.logoMaxWidth="number"===typeof(null===(c=t.options)||void 0===c?void 0:c.logoMaxWidth)?t.options.logoMaxWidth:40,t.options.northArrowMaxWidth="number"===typeof(null===(h=t.options)||void 0===h?void 0:h.northArrowMaxWidth)?t.options.northArrowMaxWidth:10,t.options.northArrow=t.options.northArrow||"/north_arrow.png",t.options.includeImageBorder="boolean"===typeof(null===(u=t.options)||void 0===u?void 0:u.includeImageBorder)&&t.options.includeImageBorder,t.options.crossOrigin=(null===(m=t.app.config.mapConfig.map)||void 0===m?void 0:m.crossOrigin)||"anonymous",this.localObserver=l()(),this.printModel=new n.default({localObserver:this.localObserver,map:t.map,options:t.options,dims:this.dims,mapConfig:t.app.config.mapConfig.map})}render(){return(0,d.jsx)(e.default,{...this.props,type:"Print",custom:{icon:(0,d.jsx)(a.Z,{}),title:"Afdrukken",description:"Maak een PDF van de kaart",height:"dynamic",width:350,onWindowShow:this.onWindowShow,onWindowHide:this.onWindowHide},children:(0,d.jsx)(r.default,{model:this.printModel,options:this.props.options,localObserver:this.localObserver,scales:this.props.options.scales,visibleAtStart:this.props.options.visibleAtStart,dims:this.dims})})}}i.default=c}}]);
//# sourceMappingURL=8013.150fd150.chunk.js.map