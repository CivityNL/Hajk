"use strict";(self.webpackChunkhajk_client=self.webpackChunkhajk_client||[]).push([[4513],{94513:(e,t,i)=>{i.r(t);var s=i(72791),r=i(66934),a=i(61889),n=i(5936),l=i(96587),h=i(48550),c=i(24518),d=i(90388),o=i(20068),p=i(70242),u=i(74512),v=i(15825),x=i(29145),j=i(98246),g=i(80184);const m=(0,r.ZP)(d.Z)((e=>{let{theme:t}=e;return{width:"100%",paddingTop:5,paddingBottom:5,color:t.palette.text.primary,backgroundColor:t.palette.primary}}));class Z extends s.PureComponent{constructor(e){super(e),this.state={name:"",isSelecting:!1,distance:1e3,activeStep:0},this.setSelecting=()=>{this.setState({isSelecting:!this.state.isSelecting},(()=>{this.props.model.activateSelecting(this.state.isSelecting)}))},this.setDistance=e=>{this.setState({distance:e.target.value})},this.handleNext=()=>{let e=null;if(0===this.state.activeStep){if(0===this.props.model.highlightSource.getFeatures().length)return void this.props.enqueueSnackbar("Du m\xe5ste markera minst ett objekt i kartan f\xf6r att kunna buffra",{variant:"error"});this.props.model.activateSelecting(!1),e=!1}const t=this.state.activeStep+1;this.setState({activeStep:t,...null!==e&&{isSelecting:e}})},this.handlePrev=()=>{const e=this.state.activeStep-1;this.setState({activeStep:e})},this.getNextButtonLabel=()=>{let e=null;switch(this.state.activeStep){case 1:e="Buffra";break;case 2:e="B\xf6rja om";break;default:e="N\xe4sta"}return e},this.renderPrevButton=()=>(0,g.jsx)(a.ZP,{item:!0,xs:6,children:(0,g.jsx)(c.Z,{fullWidth:!0,disabled:0===this.state.activeStep,onClick:this.handlePrev,children:"F\xf6reg\xe5ende"})}),this.renderClearButton=()=>(0!==this.model.highlightSource.getFeatures().length||0!==this.model.bufferSource.getFeatures().length)&&(0,g.jsx)(a.ZP,{item:!0,xs:12,children:(0,g.jsxs)(c.Z,{fullWidth:!0,onClick:()=>{this.model.clear(),this.forceUpdate()},children:[(0,g.jsx)(l.Z,{})," Rensa"]})}),this.model=this.props.model,this.app=this.props.app,this.globalObserver=this.props.app.globalObserver,this.props.localObserver.subscribe("resetView",(()=>{this.setState({activeStep:0,isSelecting:!1})}))}render(){return(0,g.jsx)(g.Fragment,{children:(0,g.jsxs)(p.Z,{activeStep:this.state.activeStep,orientation:"vertical",children:[(0,g.jsxs)(u.Z,{children:[(0,g.jsx)(v.Z,{children:"V\xe4lj objekt att buffra"}),(0,g.jsx)(x.Z,{children:(0,g.jsxs)(a.ZP,{container:!0,spacing:2,direction:"row",children:[this.renderClearButton(),(0,g.jsx)(a.ZP,{item:!0,xs:12,children:(0,g.jsx)(o.Z,{disableInteractive:!0,title:"Markera flera objekt",children:(0,g.jsxs)(m,{onChange:this.setSelecting,selected:this.state.isSelecting,value:"isSelecting",children:[(0,g.jsx)(n.Z,{}),"V\xe4lj objekt"]})})}),this.renderPrevButton(),(0,g.jsx)(a.ZP,{item:!0,xs:6,children:(0,g.jsx)(c.Z,{fullWidth:!0,variant:"contained",color:"primary",onClick:this.handleNext,children:"N\xe4sta"})})]})})]},"1"),(0,g.jsxs)(u.Z,{children:[(0,g.jsx)(v.Z,{children:"Ange bufferavst\xe5nd"}),(0,g.jsx)(x.Z,{children:(0,g.jsxs)(a.ZP,{container:!0,spacing:2,direction:"row",children:[(0,g.jsx)(a.ZP,{item:!0,xs:12,children:(0,g.jsx)(h.Z,{variant:"outlined",fullWidth:!0,value:this.state.distance,onChange:this.setDistance,label:"Bufferavst\xe5nd (i meter)"})}),this.renderPrevButton(),(0,g.jsx)(a.ZP,{item:!0,xs:6,children:(0,g.jsx)(c.Z,{fullWidth:!0,variant:"contained",color:"primary",onClick:()=>{this.handleNext(),this.props.model.bufferFeatures(this.state.distance)},children:"Buffra"})})]})})]},"2"),(0,g.jsxs)(u.Z,{children:[(0,g.jsx)(v.Z,{children:"Klart"}),(0,g.jsx)(x.Z,{children:(0,g.jsxs)(a.ZP,{container:!0,spacing:2,direction:"row",children:[this.renderPrevButton(),(0,g.jsx)(a.ZP,{item:!0,xs:6,children:(0,g.jsx)(c.Z,{fullWidth:!0,variant:"contained",color:"primary",onClick:()=>{this.props.model.clear(),this.setState({activeStep:0})},children:"Rensa"})})]})})]},"3")]})})}}t.default=(0,j.RM)(Z)},5936:(e,t,i)=>{var s=i(64836);t.Z=void 0;var r=s(i(45649)),a=i(80184),n=(0,r.default)((0,a.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10h-4v4h-2v-4H7v-2h4V7h2v4h4v2z"}),"AddBox");t.Z=n},96587:(e,t,i)=>{var s=i(64836);t.Z=void 0;var r=s(i(45649)),a=i(80184),n=(0,r.default)((0,a.jsx)("path",{d:"m19.81 14.99 1.19-.92-1.43-1.43-1.19.92 1.43 1.43zm-.45-4.72L21 9l-9-7-2.91 2.27 7.87 7.88 2.4-1.88zM3.27 1 2 2.27l4.22 4.22L3 9l1.63 1.27L12 16l2.1-1.63 1.43 1.43L12 18.54l-7.37-5.73L3 14.07l9 7 4.95-3.85L20.73 21 22 19.73 3.27 1z"}),"LayersClear");t.Z=n}}]);
//# sourceMappingURL=4513.6a2a2664.chunk.js.map