"use strict";(self.webpackChunkhajk_client=self.webpackChunkhajk_client||[]).push([[4520,8619,3151,6433],{28619:(t,e,o)=>{o.r(e);var i=o(72791),s=o(66934),r=o(57621),n=o(93044),a=o(66647),l=o(9585),p=o(80184);const c=(0,s.ZP)(r.Z)((t=>{let{theme:e}=t;return{marginBottom:e.spacing(1),width:"210px",[e.breakpoints.down("sm")]:{boxShadow:"none",borderBottom:"1px solid #ccc",borderRadius:0,margin:0,width:"100%",justifyContent:"left"}}})),d=(0,s.ZP)(n.Z)((t=>{let{theme:e}=t;return{background:e.palette.text.primary}}));class h extends i.PureComponent{constructor(){super(...arguments),this.state={open:!1,text:""}}render(){const{abstract:t,icon:e,onClick:o,title:i}=this.props;return(0,p.jsx)(c,{onClick:o,children:(0,p.jsx)(a.Z,{children:(0,p.jsx)(l.Z,{avatar:(0,p.jsx)(d,{children:e}),title:i,subheader:t})})})}}h.defaultProps={abstract:"Beskrivning saknas",title:"Titel saknas"},e.default=h},73151:(t,e,o)=>{o.r(e);var i=o(72791),s=o(85286),r=o(54164),n=o(19538),a=o(45484),l=o(57064),p=o(49900),c=o(26191),d=o(28619),h=o(74599),u=o(80184);class m extends i.PureComponent{constructor(t){var e;super(t),e=this,this.handleButtonClick=t=>{this.showWindow({hideOtherPluginWindows:!0,runCallback:!0}),this.props.app.globalObserver.publish("core.onlyHideDrawerIfNeeded")},this.showWindow=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const o=t.hideOtherPluginWindows||!0,i=t.runCallback||!0;if(e.props.app.activeTool=e.type,e.props.app.globalObserver.publish("analytics.trackEvent",{eventName:"pluginShown",pluginName:e.type,activeMap:e.props.app.config.activeMap}),e.props.app.pushPluginIntoHistory({type:e.type,icon:e.props.custom.icon,title:e.title,description:e.description}),!0===e.state.windowVisible)return null;!0===o&&e.props.app.onWindowOpen(e),e.setState({windowVisible:!0},(()=>{e.props.app.globalObserver.publish("core.pluginVisibilityChanged"),!0===i&&"function"===typeof e.props.custom.onWindowShow&&e.props.custom.onWindowShow()}))},this.closeWindow=()=>{this.type===this.props.app.activeTool&&(this.props.app.activeTool=void 0),this.setState({windowVisible:!1},(()=>{this.props.app.globalObserver.publish("core.pluginVisibilityChanged"),"function"===typeof this.props.custom.onWindowHide&&this.props.custom.onWindowHide()}))},this.type=t.type.toLowerCase()||void 0,this.description=t.options.description||t.custom.description;const o=!1===this.props.app.config.mapConfig.map.clean&&(s.isMobile?t.options.visibleAtStartMobile:t.options.visibleAtStart)||!1;o&&this.props.app.globalObserver.publish("analytics.trackEvent",{eventName:"pluginShown",pluginName:this.type,activeMap:this.props.app.config.activeMap}),this.state={title:t.options.title||t.custom.title||"Unnamed plugin",color:t.options.color||t.custom.color||null,windowVisible:o},this.title=t.options.title||t.custom.title||"Unnamed plugin",this.width=t.options.width||t.custom.width||400,this.height=t.options.height||t.custom.height||"auto",this.position=t.options.position||t.custom.position||"left",t.app.registerWindowPlugin(this);const i="".concat(this.type,".showWindow");t.app.globalObserver.subscribe(i,(t=>{this.showWindow(t)}));const r="".concat(this.type,".closeWindow");t.app.globalObserver.subscribe(r,(()=>{this.closeWindow()}))}componentDidUpdate(t){t.custom.title!==this.props.custom.title&&this.setState({title:this.props.custom.title}),t.custom.color!==this.props.custom.color&&this.setState({color:this.props.custom.color})}pluginIsWidget(t){return["left","right"].includes(t)}renderWindow(t){const{target:e}=this.props.options;return"function"===typeof(null===t||void 0===t?void 0:t.render)?t.render():(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(c.default,{globalObserver:this.props.app.globalObserver,title:this.state.title,color:this.state.color,onClose:this.closeWindow,open:this.state.windowVisible,onResize:this.props.custom.onResize,onMaximize:this.props.custom.onMaximize,onMinimize:this.props.custom.onMinimize,draggingEnabled:this.props.custom.draggingEnabled,customPanelHeaderButtons:this.props.custom.customPanelHeaderButtons,resizingEnabled:this.props.custom.resizingEnabled,scrollable:this.props.custom.scrollable,allowMaximizedWindow:this.props.custom.allowMaximizedWindow,disablePadding:this.props.custom.disablePadding,width:this.width,height:this.height,position:this.position,mode:"window",layerswitcherConfig:this.props.app.config.mapConfig.tools.find((t=>"layerswitcher"===t.type)),children:i.cloneElement(this.props.children,{windowVisible:this.state.windowVisible})}),"hidden"!==e&&this.renderDrawerButton(),this.pluginIsWidget(e)&&this.renderWidgetButton("".concat(e,"-column")),"control"===e&&this.renderControlButton()]})}renderDrawerButton(){return(0,r.createPortal)((0,u.jsx)(n.Z,{mdUp:this.pluginIsWidget(this.props.options.target)||"control"===this.props.options.target,children:(0,u.jsxs)(a.ZP,{button:!0,divider:!0,selected:this.state.windowVisible,onClick:this.handleButtonClick,children:[(0,u.jsx)(l.Z,{children:this.props.custom.icon}),(0,u.jsx)(p.Z,{primary:this.title})]})}),document.getElementById("plugin-buttons"))}renderWidgetButton(t){return(0,r.createPortal)((0,u.jsx)(n.Z,{mdDown:!0,children:(0,u.jsx)(d.default,{icon:this.props.custom.icon,onClick:this.handleButtonClick,title:this.title,abstract:this.description})}),document.getElementById(t))}renderControlButton(){return(0,r.createPortal)((0,u.jsx)(n.Z,{mdDown:!0,children:(0,u.jsx)(h.default,{icon:this.props.custom.icon,onClick:this.handleButtonClick,title:this.title,abstract:this.description})}),document.getElementById("plugin-control-buttons"))}render(){return!0!==this.props.app.config.mapConfig.map.clean&&this.renderWindow(this.props.custom)}}e.default=m},74520:(t,e,o)=>{o.r(e);var i=o(72791),s=o(73151),r=o(16578),n=o(36433),a=o(97512),l=o(85194),p=o.n(l),c=o(80184);class d extends i.PureComponent{constructor(t){super(t),this.state={displayPanorama:!1},this.onWindowShow=()=>{this.streetViewModel.activate()},this.onWindowHide=()=>{this.streetViewModel.deactivate()},this.onResize=()=>{this.streetViewModel.showLocation()},this.localObserver=p()(),this.localObserver.subscribe("locationChanged",(()=>{this.setState({displayPanorama:!0})})),this.streetViewModel=new a.default({map:t.map,app:t.app,localObserver:this.localObserver,apiKey:t.options.apiKey})}render(){return(0,c.jsx)(s.default,{...this.props,type:"StreetView",custom:{icon:(0,c.jsx)(r.Z,{}),title:"Gatuvy",description:"Titta hur omr\xe5det ser ut fr\xe5n gatan",height:300,width:400,top:void 0,left:void 0,onWindowShow:this.onWindowShow,onWindowHide:this.onWindowHide,onResize:this.onResize},children:(0,c.jsx)(n.default,{localObserver:this.localObserver,model:this.streetViewModel,parent:this,displayPanorama:this.state.displayPanorama})})}}e.default=d},36433:(t,e,o)=>{o.r(e);var i=o(72791),s=o(66934),r=o(98246),n=o(68870),a=o(20890),l=o(80184);const p=(0,s.ZP)("div")((()=>({flex:1,position:"absolute !important",top:"42px",bottom:0,left:0,right:0}))),c=(0,s.ZP)("div")((t=>{let{theme:e}=t;return{color:e.palette.common.white,position:"absolute",zIndex:1,top:"42px",left:0,background:"rgba(0, 0, 0, 0.7)",padding:"0px 3px",lineHeight:1.4,fontSize:"10px"}}));class d extends i.PureComponent{constructor(t){super(t),this.state={},this.model=this.props.model,this.app=this.props.app,this.localObserver=this.props.localObserver}componentDidMount(){this.localObserver.subscribe("changeImageDate",(t=>{this.setState({imageDate:t})}))}componentWillUnmount(){this.props.model.deactivate()}renderInfoText(){if(!this.props.displayPanorama)return(0,l.jsxs)(a.Z,{children:["Klicka i kartan f\xf6r att aktivera street view. ",(0,l.jsx)("br",{}),"F\xf6rstora f\xf6nstret genom att trycka p\xe5 symbolen i \xf6vre h\xf6gra h\xf6rnet."]})}render(){return(0,l.jsxs)("div",{children:[this.renderInfoText(),(0,l.jsxs)(n.Z,{sx:{display:this.props.displayPanorama?"flex":"none"},children:[(0,l.jsx)(p,{id:"street-view-window"}),(0,l.jsx)(c,{id:"image-date",children:this.state.imageDate?this.state.imageDate:""})]})]})}}e.default=(0,r.RM)(d)},16578:(t,e,o)=>{var i=o(64836);e.Z=void 0;var s=i(o(45649)),r=o(80184),n=(0,s.default)([(0,r.jsx)("path",{d:"M12.56 14.33c-.34.27-.56.7-.56 1.17V21h7c1.1 0 2-.9 2-2v-5.98c-.94-.33-1.95-.52-3-.52-2.03 0-3.93.7-5.44 1.83z"},"0"),(0,r.jsx)("circle",{cx:"18",cy:"6",r:"5"},"1"),(0,r.jsx)("path",{d:"M11.5 6c0-1.08.27-2.1.74-3H5c-1.1 0-2 .9-2 2v14c0 .55.23 1.05.59 1.41l9.82-9.82C12.23 9.42 11.5 7.8 11.5 6z"},"2")],"Streetview");e.Z=n},66647:(t,e,o)=>{o.d(e,{Z:()=>f});var i=o(87462),s=o(63366),r=o(72791),n=o(28182),a=o(94419),l=o(31402),p=o(66934),c=o(75878),d=o(21217);function h(t){return(0,d.Z)("MuiCardActionArea",t)}var u=(0,c.Z)("MuiCardActionArea",["root","focusVisible","focusHighlight"]),m=o(50533),g=o(80184);const b=["children","className","focusVisibleClassName"],v=(0,p.ZP)(m.Z,{name:"MuiCardActionArea",slot:"Root",overridesResolver:(t,e)=>e.root})((t=>{let{theme:e}=t;return{display:"block",textAlign:"inherit",width:"100%",["&:hover .".concat(u.focusHighlight)]:{opacity:(e.vars||e).palette.action.hoverOpacity,"@media (hover: none)":{opacity:0}},["&.".concat(u.focusVisible," .").concat(u.focusHighlight)]:{opacity:(e.vars||e).palette.action.focusOpacity}}})),w=(0,p.ZP)("span",{name:"MuiCardActionArea",slot:"FocusHighlight",overridesResolver:(t,e)=>e.focusHighlight})((t=>{let{theme:e}=t;return{overflow:"hidden",pointerEvents:"none",position:"absolute",top:0,right:0,bottom:0,left:0,borderRadius:"inherit",opacity:0,backgroundColor:"currentcolor",transition:e.transitions.create("opacity",{duration:e.transitions.duration.short})}}));var f=r.forwardRef((function(t,e){const o=(0,l.Z)({props:t,name:"MuiCardActionArea"}),{children:r,className:p,focusVisibleClassName:c}=o,d=(0,s.Z)(o,b),u=o,m=(t=>{const{classes:e}=t;return(0,a.Z)({root:["root"],focusHighlight:["focusHighlight"]},h,e)})(u);return(0,g.jsxs)(v,(0,i.Z)({className:(0,n.default)(m.root,p),focusVisibleClassName:(0,n.default)(c,m.focusVisible),ref:e,ownerState:u},d,{children:[r,(0,g.jsx)(w,{className:m.focusHighlight,ownerState:u})]}))}))},9585:(t,e,o)=>{o.d(e,{Z:()=>x});var i=o(63366),s=o(87462),r=o(72791),n=o(28182),a=o(94419),l=o(20890),p=o(31402),c=o(66934),d=o(75878),h=o(21217);function u(t){return(0,h.Z)("MuiCardHeader",t)}var m=(0,d.Z)("MuiCardHeader",["root","avatar","action","content","title","subheader"]),g=o(80184);const b=["action","avatar","className","component","disableTypography","subheader","subheaderTypographyProps","title","titleTypographyProps"],v=(0,c.ZP)("div",{name:"MuiCardHeader",slot:"Root",overridesResolver:(t,e)=>(0,s.Z)({["& .".concat(m.title)]:e.title,["& .".concat(m.subheader)]:e.subheader},e.root)})({display:"flex",alignItems:"center",padding:16}),w=(0,c.ZP)("div",{name:"MuiCardHeader",slot:"Avatar",overridesResolver:(t,e)=>e.avatar})({display:"flex",flex:"0 0 auto",marginRight:16}),f=(0,c.ZP)("div",{name:"MuiCardHeader",slot:"Action",overridesResolver:(t,e)=>e.action})({flex:"0 0 auto",alignSelf:"flex-start",marginTop:-4,marginRight:-8,marginBottom:-4}),y=(0,c.ZP)("div",{name:"MuiCardHeader",slot:"Content",overridesResolver:(t,e)=>e.content})({flex:"1 1 auto"});var x=r.forwardRef((function(t,e){const o=(0,p.Z)({props:t,name:"MuiCardHeader"}),{action:r,avatar:c,className:d,component:h="div",disableTypography:m=!1,subheader:x,subheaderTypographyProps:Z,title:C,titleTypographyProps:j}=o,P=(0,i.Z)(o,b),M=(0,s.Z)({},o,{component:h,disableTypography:m}),k=(t=>{const{classes:e}=t;return(0,a.Z)({root:["root"],avatar:["avatar"],action:["action"],content:["content"],title:["title"],subheader:["subheader"]},u,e)})(M);let W=C;null==W||W.type===l.Z||m||(W=(0,g.jsx)(l.Z,(0,s.Z)({variant:c?"body2":"h5",className:k.title,component:"span",display:"block"},j,{children:W})));let S=x;return null==S||S.type===l.Z||m||(S=(0,g.jsx)(l.Z,(0,s.Z)({variant:c?"body2":"body1",className:k.subheader,color:"text.secondary",component:"span",display:"block"},Z,{children:S}))),(0,g.jsxs)(v,(0,s.Z)({className:(0,n.default)(k.root,d),as:h,ref:e,ownerState:M},P,{children:[c&&(0,g.jsx)(w,{className:k.avatar,ownerState:M,children:c}),(0,g.jsxs)(y,{className:k.content,ownerState:M,children:[W,S]}),r&&(0,g.jsx)(f,{className:k.action,ownerState:M,children:r})]}))}))},57621:(t,e,o)=>{o.d(e,{Z:()=>v});var i=o(87462),s=o(63366),r=o(72791),n=o(28182),a=o(94419),l=o(66934),p=o(31402),c=o(35527),d=o(75878),h=o(21217);function u(t){return(0,h.Z)("MuiCard",t)}(0,d.Z)("MuiCard",["root"]);var m=o(80184);const g=["className","raised"],b=(0,l.ZP)(c.Z,{name:"MuiCard",slot:"Root",overridesResolver:(t,e)=>e.root})((()=>({overflow:"hidden"})));var v=r.forwardRef((function(t,e){const o=(0,p.Z)({props:t,name:"MuiCard"}),{className:r,raised:l=!1}=o,c=(0,s.Z)(o,g),d=(0,i.Z)({},o,{raised:l}),h=(t=>{const{classes:e}=t;return(0,a.Z)({root:["root"]},u,e)})(d);return(0,m.jsx)(b,(0,i.Z)({className:(0,n.default)(h.root,r),elevation:l?8:void 0,ref:e,ownerState:d},c))}))}}]);
//# sourceMappingURL=4520.fb05e796.chunk.js.map