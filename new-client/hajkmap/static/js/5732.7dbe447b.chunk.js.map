{"version":3,"file":"static/js/5732.7dbe447b.chunk.js","mappings":"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","sources":["plugins/Sketch/components/Information.js","plugins/Sketch/views/MoveView.js"],"sourcesContent":["import React from \"react\";\nimport { Paper, Typography } from \"@mui/material\";\n\n// A simple component showing the supplied text in a wrapper\nconst Information = ({ text }) => {\n  return (\n    <Paper style={{ width: \"100%\", padding: 8 }}>\n      <Typography align=\"center\" variant=\"body2\">\n        {text}\n      </Typography>\n    </Paper>\n  );\n};\n\nexport default Information;\n","import React from \"react\";\nimport { Button, Grid, Paper, TextField } from \"@mui/material\";\nimport { Tooltip, Typography, Switch } from \"@mui/material\";\nimport Information from \"../components/Information\";\n\nconst TranslateToggler = ({ translateEnabled, setTranslateEnabled }) => {\n  return (\n    <Paper style={{ padding: 8, marginTop: 8 }}>\n      <Grid container justifyContent=\"space-between\" alignItems=\"center\">\n        <Typography variant=\"body2\">Laat verslepen toe</Typography>\n        <Tooltip\n          disableInteractive\n          title={\n            translateEnabled\n              ? \"Deactiveer om verslepen objecten op de kaart niet toe te \" +\n                \"staan.\"\n              : \"Activeer om beweging van de objecten op de kaart mogelijk te \" +\n                \"maken.\"\n          }\n        >\n          <Switch\n            checked={translateEnabled}\n            onChange={() => setTranslateEnabled(!translateEnabled)}\n            size=\"small\"\n            color=\"primary\"\n          />\n        </Tooltip>\n      </Grid>\n    </Paper>\n  );\n};\n\nconst FeatureMoveSelector = (props) => {\n  // Handles change on the movement-length input. Makes sure that we're\n  // dealing with integers and updates the state.\n  const handleMovementLengthChange = (e) => {\n    const length = Math.floor(e.target.value);\n    props.setMovementLength(length);\n  };\n\n  // Handles change on the movement-angle input. Makes sure the angle is\n  // always between 0 and 360 and updates the state.\n  const handleMovementAngleChange = (e) => {\n    const angle = Math.floor(e.target.value);\n    const justifiedAngle =\n      angle >= 360 ? angle - 360 : angle < 0 ? 360 + angle : angle;\n    props.setMovementAngle(justifiedAngle);\n  };\n\n  // Handles user click on move-feature. Makes sure to trigger the move\n  // action and push the move-information onto the last-move-array so that\n  // the user can \"remove\" that action if it turned out wrong.\n  const handleMoveClick = () => {\n    // Let's get the values\n    const length = props.movementLength;\n    const angle = props.movementAngle;\n    // Then we trigger the action in the draw-model\n    props.drawModel.translateSelectedFeatures(\n      props.movementLength,\n      props.movementAngle\n    );\n    // Then we'll update the last-moves-state.\n    props.setLastMoves([...props.lastMoves, { length, angle }]);\n  };\n\n  // Handles user click on undo. Gets the last move from the move-state\n  // and triggers a move in the opposite direction. Also removes that move\n  // from the state.\n  const handleUndoClick = () => {\n    const moves = [...props.lastMoves];\n    const { length, angle } = moves.pop();\n    props.drawModel.translateSelectedFeatures(length, angle - 180);\n    props.setLastMoves(moves);\n  };\n\n  return (\n    <Paper style={{ padding: 8, marginTop: 8 }}>\n      <Grid container item justifyContent=\"center\" alignItems=\"center\">\n        <Grid item xs={12}>\n          <Typography variant=\"body2\" align=\"center\">\n            Vaste verplaatsing\n          </Typography>\n        </Grid>\n        <Grid item xs={12} style={{ marginTop: 16 }}>\n          <Tooltip\n            disableInteractive\n            title=\"Voer in hoeveel meter u de objecten wilt verplaatsen.\"\n          >\n            <TextField\n              label=\"Verplaatsingsafstand (meter)\"\n              variant=\"outlined\"\n              fullWidth\n              type=\"number\"\n              size=\"small\"\n              value={props.movementLength}\n              onChange={handleMovementLengthChange}\n            />\n          </Tooltip>\n        </Grid>\n        <Grid item xs={12} style={{ marginTop: 16 }}>\n          <Tooltip\n            disableInteractive\n            title=\"Geef de richting op waarin u de objecten wilt verplaatsen. 0\n              graden is pal naar het noorden, 90 graden is pal naar het oosten,\n              enz.\"\n          >\n            <TextField\n              label=\"Verplaatsingsafstand (graden)\"\n              variant=\"outlined\"\n              fullWidth\n              type=\"number\"\n              size=\"small\"\n              value={props.movementAngle}\n              onChange={handleMovementAngleChange}\n            />\n          </Tooltip>\n        </Grid>\n        <Grid container spacing={1} style={{ marginTop: 8 }}>\n          <Grid item xs={6}>\n            <Button\n              variant=\"contained\"\n              fullWidth\n              size=\"small\"\n              onClick={handleUndoClick}\n              disabled={props.lastMoves.length === 0}\n            >\n              Ongedaan maken\n            </Button>\n          </Grid>\n          <Grid item xs={6}>\n            <Button\n              variant=\"contained\"\n              fullWidth\n              size=\"small\"\n              onClick={handleMoveClick}\n            >\n              Verplaatsen\n            </Button>\n          </Grid>\n        </Grid>\n      </Grid>\n    </Paper>\n  );\n};\n\nconst MoveView = (props) => {\n  // We're gonna need to keep track of the movement length and angle\n  const [movementLength, setMovementLength] = React.useState(100);\n  const [movementAngle, setMovementAngle] = React.useState(90);\n  // We also need to keep track of the last moves that has been done. These\n  // can be used so that the user can disregard moves if they happened to move\n  // something in the wrong direction.\n  const [lastMoves, setLastMoves] = React.useState([]);\n  // Let's destruct some props\n  const { drawModel, moveFeatures, translateEnabled, setTranslateEnabled } =\n    props;\n\n  // Let's use an effect that can reset the last moves when the current\n  // feature/features selected for movement changes.\n  React.useEffect(() => {\n    setLastMoves([]);\n  }, [moveFeatures]);\n\n  // We have to get some information about the current activity (view)\n  const activity = props.model.getActivityFromId(props.id);\n  return (\n    <Grid container>\n      <Grid item xs={12}>\n        <Information text={activity.information} />\n      </Grid>\n      <Grid item xs={12}>\n        <TranslateToggler\n          translateEnabled={translateEnabled}\n          setTranslateEnabled={setTranslateEnabled}\n        />\n        {moveFeatures.length > 0 && (\n          <FeatureMoveSelector\n            drawModel={drawModel}\n            lastMoves={lastMoves}\n            setLastMoves={setLastMoves}\n            movementLength={movementLength}\n            setMovementLength={setMovementLength}\n            movementAngle={movementAngle}\n            setMovementAngle={setMovementAngle}\n          />\n        )}\n      </Grid>\n    </Grid>\n  );\n};\n\nexport default MoveView;\n"],"names":["text","style","width","padding","align","variant","TranslateToggler","translateEnabled","setTranslateEnabled","marginTop","container","justifyContent","alignItems","disableInteractive","title","checked","onChange","size","color","FeatureMoveSelector","props","item","xs","label","fullWidth","type","value","movementLength","e","length","Math","floor","target","setMovementLength","movementAngle","angle","justifiedAngle","setMovementAngle","spacing","onClick","moves","lastMoves","pop","drawModel","translateSelectedFeatures","setLastMoves","disabled","React","moveFeatures","activity","model","getActivityFromId","id","information"],"sourceRoot":""}