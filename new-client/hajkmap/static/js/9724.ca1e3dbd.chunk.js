"use strict";(self.webpackChunkhajk_client=self.webpackChunkhajk_client||[]).push([[9724],{24673:(t,e,i)=>{var s=i(68789),r=i(25326),a=i(62652),n=i(53803),o=i(55736),l=i(96661),h=i(2177);const c="translatestart",u="translating",d="translateend";class _ extends r.ZP{constructor(t,e,i,s,r){super(t),this.features=e,this.coordinate=i,this.startCoordinate=s,this.mapBrowserEvent=r}}class p extends o.Z{constructor(t){let e;if(super(t=t||{}),this.on,this.once,this.un,this.lastCoordinate_=null,this.startCoordinate_=null,this.features_=void 0!==t.features?t.features:null,t.layers&&!this.features_)if("function"===typeof t.layers)e=t.layers;else{const i=t.layers;e=function(t){return i.includes(t)}}else e=l.uX;this.layerFilter_=e,this.filter_=t.filter&&!this.features_?t.filter:l.uX,this.hitTolerance_=t.hitTolerance?t.hitTolerance:0,this.condition_=t.condition?t.condition:h.Bx,this.lastFeature_=null,this.addChangeListener(n.Z.ACTIVE,this.handleActiveChanged_)}handleDownEvent(t){if(!t.originalEvent||!this.condition_(t))return!1;if(this.lastFeature_=this.featuresAtPixel_(t.pixel,t.map),!this.lastCoordinate_&&this.lastFeature_){this.startCoordinate_=t.coordinate,this.lastCoordinate_=t.coordinate,this.handleMoveEvent(t);const e=this.features_||new s.Z([this.lastFeature_]);return this.dispatchEvent(new _(c,e,t.coordinate,this.startCoordinate_,t)),!0}return!1}handleUpEvent(t){if(this.lastCoordinate_){this.lastCoordinate_=null,this.handleMoveEvent(t);const e=this.features_||new s.Z([this.lastFeature_]);return this.dispatchEvent(new _(d,e,t.coordinate,this.startCoordinate_,t)),this.startCoordinate_=null,!0}return!1}handleDragEvent(t){if(this.lastCoordinate_){const e=t.coordinate,i=e[0]-this.lastCoordinate_[0],r=e[1]-this.lastCoordinate_[1],a=this.features_||new s.Z([this.lastFeature_]);a.forEach((function(t){const e=t.getGeometry();e.translate(i,r),t.setGeometry(e)})),this.lastCoordinate_=e,this.dispatchEvent(new _(u,a,e,this.startCoordinate_,t))}}handleMoveEvent(t){const e=t.map.getViewport();this.featuresAtPixel_(t.pixel,t.map)?(e.classList.remove(this.lastCoordinate_?"ol-grab":"ol-grabbing"),e.classList.add(this.lastCoordinate_?"ol-grabbing":"ol-grab")):e.classList.remove("ol-grab","ol-grabbing")}featuresAtPixel_(t,e){return e.forEachFeatureAtPixel(t,((t,e)=>{if(t instanceof a.Z&&this.filter_(t,e)&&(!this.features_||this.features_.getArray().includes(t)))return t}),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_})}getHitTolerance(){return this.hitTolerance_}setHitTolerance(t){this.hitTolerance_=t}setMap(t){const e=this.getMap();super.setMap(t),this.updateState_(e)}handleActiveChanged_(){this.updateState_(null)}updateState_(t){let e=this.getMap();const i=this.getActive();if((!e||!i)&&(e=e||t,e)){e.getViewport().classList.remove("ol-grab","ol-grabbing")}}}e.Z=p},81019:(t,e,i)=>{var s=i(66842),r=i(10561),a=i(37130),n=i(22357),o=i(14046),l=i(43122);class h extends s.Z{constructor(t){super({attributions:(t=t||{}).attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,interpolate:t.interpolate,projection:t.projection,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileGrid:t.tileGrid,tileLoadFunction:t.tileLoadFunction,url:t.url,urls:t.urls,wrapX:void 0===t.wrapX||t.wrapX,transition:t.transition,zDirection:t.zDirection}),this.params_=t.params||{},this.hidpi_=void 0===t.hidpi||t.hidpi,this.tmpExtent_=(0,a.createEmpty)(),this.setKey(this.getKeyForParams_())}getKeyForParams_(){let t=0;const e=[];for(const i in this.params_)e[t++]=i+"-"+this.params_[i];return e.join("/")}getParams(){return this.params_}getRequestUrl_(t,e,i,s,a,o){const h=this.urls;if(!h)return;const c=a.getCode().split(/:(?=\d+$)/).pop();let u;if(o.SIZE=e[0]+","+e[1],o.BBOX=i.join(","),o.BBOXSR=c,o.IMAGESR=c,o.DPI=Math.round(o.DPI?o.DPI*s:90*s),1==h.length)u=h[0];else{u=h[(0,n.$W)((0,l.vp)(t),h.length)]}const d=u.replace(/MapServer\/?$/,"MapServer/export").replace(/ImageServer\/?$/,"ImageServer/exportImage");return(0,r.B)(d,o)}getTilePixelRatio(t){return this.hidpi_?t:1}updateParams(t){Object.assign(this.params_,t),this.setKey(this.getKeyForParams_())}tileUrlFunction(t,e,i){let s=this.getTileGrid();if(s||(s=this.getTileGridForProjection(i)),s.getResolutions().length<=t[0])return;1==e||this.hidpi_||(e=1);const r=s.getTileCoordExtent(t,this.tmpExtent_);let a=(0,o.Pq)(s.getTileSize(t[0]),this.tmpSize);1!=e&&(a=(0,o.bA)(a,e,this.tmpSize));const n={F:"image",FORMAT:"PNG32",TRANSPARENT:!0};return Object.assign(n,this.params_),this.getRequestUrl_(t,a,r,e,i,n)}}e.Z=h}}]);
//# sourceMappingURL=9724.ca1e3dbd.chunk.js.map