{"version":3,"file":"static/js/4146.0f78aaa0.chunk.js","mappings":"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","sources":["plugins/LayerSwitcher/components/LayerItem.js","../node_modules/@mui/icons-material/CallMade.js","../node_modules/@mui/icons-material/CheckBox.js","../node_modules/@mui/icons-material/CheckBoxOutlineBlank.js","../node_modules/@mui/icons-material/CloudDownload.js","../node_modules/@mui/icons-material/KeyboardArrowDown.js","../node_modules/@mui/icons-material/KeyboardArrowRight.js","../node_modules/@mui/icons-material/MoreHoriz.js","../node_modules/@mui/icons-material/RadioButtonChecked.js","../node_modules/@mui/icons-material/Refresh.js","../node_modules/@mui/icons-material/RemoveCircle.js","../node_modules/@mui/icons-material/TableView.js","../node_modules/@mui/material/InputAdornment/inputAdornmentClasses.js","../node_modules/@mui/material/InputAdornment/InputAdornment.js"],"sourcesContent":["import React from \"react\";\nimport { withSnackbar } from \"notistack\";\nimport { styled } from \"@mui/material/styles\";\nimport { Button, Tooltip, Typography, Grid } from \"@mui/material\";\n\nimport IconWarning from \"@mui/icons-material/Warning\";\nimport CallMadeIcon from \"@mui/icons-material/CallMade\";\nimport InfoIcon from \"@mui/icons-material/Info\";\nimport RemoveCircleIcon from \"@mui/icons-material/RemoveCircle\";\nimport CheckBoxIcon from \"@mui/icons-material/CheckBox\";\nimport RadioButtonChecked from \"@mui/icons-material/RadioButtonChecked\";\nimport RadioButtonUnchecked from \"@mui/icons-material/RadioButtonUnchecked\";\nimport CheckBoxOutlineBlankIcon from \"@mui/icons-material/CheckBoxOutlineBlank\";\nimport MoreHorizIcon from \"@mui/icons-material/MoreHoriz\";\nimport CloseIcon from \"@mui/icons-material/Close\";\nimport TableViewIcon from \"@mui/icons-material/TableView\";\n\nimport LayerGroupItem from \"./LayerGroupItem.js\";\nimport LayerSettings from \"./LayerSettings.js\";\nimport DownloadLink from \"./DownloadLink.js\";\n\nconst LayerItemContainer = styled(\"div\")(({ theme }) => ({\n  paddingLeft: \"0\",\n  borderBottom: `${theme.spacing(0.2)} solid ${theme.palette.divider}`,\n}));\n\nconst LayerItemWrapper = styled(\"div\")(({ theme }) => ({\n  display: \"flex\",\n  justifyContent: \"space-between\",\n  marginTop: \"0\",\n}));\n\nconst LayerTogglerButtonWrapper = styled(\"div\")(() => ({\n  display: \"flex\",\n  alignItems: \"center\",\n  cursor: \"pointer\",\n  float: \"left\",\n  marginRight: \"5px\",\n}));\n\nconst InfoTextContainer = styled(\"div\")(({ theme }) => ({\n  margin: \"10px 45px\",\n}));\n\nconst Caption = styled(Typography)(({ theme }) => ({\n  cursor: \"pointer\",\n  fontSize: theme.typography.pxToRem(15),\n}));\n\nconst LegendIcon = styled(\"img\")(({ theme }) => ({\n  width: theme.typography.pxToRem(18),\n  height: theme.typography.pxToRem(18),\n  marginRight: \"5px\",\n}));\n\nconst LayerButtonsContainer = styled(\"div\")(() => ({\n  display: \"flex\",\n  alignItems: \"center\",\n}));\n\nconst LayerButtonWrapper = styled(\"div\")(() => ({\n  display: \"flex\",\n  alignItems: \"center\",\n  width: 35,\n  height: 35,\n  cursor: \"pointer\",\n}));\n\nconst StyledList = styled(\"ul\")(() => ({\n  padding: 0,\n  margin: 0,\n  listStyle: \"none\",\n}));\n\nclass LayerItem extends React.PureComponent {\n  constructor(props) {\n    super(props);\n    const { layer } = props;\n    const layerInfo = layer.get(\"layerInfo\");\n\n    this.isBackgroundLayer = layerInfo.layerType === \"base\";\n    this.caption = layerInfo.caption;\n    this.name = layer.get(\"name\");\n    this.legend = layerInfo.legend;\n    this.legendIcon = layerInfo.legendIcon;\n    this.infoTitle = layerInfo.infoTitle;\n    this.infoText = layerInfo.infoText;\n    this.infoUrl = layerInfo.infoUrl;\n    this.infoUrlText = layerInfo.infoUrlText;\n    this.infoOwner = layerInfo.infoOwner;\n    this.localObserver = layer.localObserver;\n    this.showAttributeTableButton = layerInfo.showAttributeTableButton || false;\n    this.usesMinMaxZoom = this.layerUsesMinMaxZoom();\n    this.minMaxZoomAlertOnToggleOnly = layer.get(\"minMaxZoomAlertOnToggleOnly\");\n\n    this.state = {\n      visible: layer.get(\"visible\"),\n      status: \"ok\",\n      zoomVisible: true,\n      open: false,\n      toggleSettings: false,\n      infoVisible: false,\n    };\n\n    // Subscribe to events sent when another background layer is clicked and\n    // disable all other layers to implement the RadioButton behaviour\n    if (this.isBackgroundLayer) {\n      layer.localObserver.subscribe(\"backgroundLayerChanged\", (activeLayer) => {\n        if (activeLayer !== this.name) {\n          if (!layer.isFakeMapLayer) {\n            layer.setVisible(false);\n          }\n          this.setState({\n            visible: false,\n          });\n        }\n      });\n    }\n  }\n\n  /**\n   * Triggered when the component is successfully mounted into the DOM.\n   * @instance\n   */\n  componentDidMount() {\n    this.props.layer.on?.(\"change:visible\", (e) => {\n      const visible = !e.oldValue;\n      this.setState({\n        visible,\n      });\n\n      this.listenToZoomChange(visible);\n    });\n\n    if (this.state.visible) {\n      this.triggerZoomCheck(null, this.state.visible);\n    }\n    this.listenToZoomChange(this.state.visible);\n\n    // Set load status by subscribing to a global event. Expect ID (int) of layer\n    // and status (string \"ok\"|\"loaderror\"). Also, once status was set to \"loaderror\",\n    // don't change it back to \"ok\": we'll get a response for each tile, so most of\n    // the tiles might be \"ok\", but if only one of the tiles has \"loaderror\", we\n    // consider that the layer has failed loading and want to inform the user.\n    this.props.app.globalObserver.subscribe(\n      \"layerswitcher.wmsLayerLoadStatus\",\n      (d) => {\n        this.state.status !== \"loaderror\" &&\n          this.name === d.id &&\n          this.setState({\n            status: d.status,\n          });\n      }\n    );\n  }\n\n  layerUsesMinMaxZoom() {\n    const lprops = this.props.layer.getProperties();\n    const maxZ = lprops.maxZoom ?? 0;\n    const minZ = lprops.minZoom ?? 0;\n    // When reading min/max-Zoom from layer, its not consistent with the\n    // initial values from config. Suddenly Infinity is used.\n    return (maxZ > 0 && maxZ < Infinity) || (minZ > 0 && minZ < Infinity);\n  }\n\n  zoomEndHandler = (e) => {\n    const zoom = this.props.model.olMap.getView().getZoom();\n    const lprops = this.props.layer.getProperties();\n    const layerIsZoomVisible = zoom > lprops.minZoom && zoom <= lprops.maxZoom;\n\n    let showSnack = false;\n\n    if (this.minMaxZoomAlertOnToggleOnly === true) {\n      if (!this.state.visible && !layerIsZoomVisible && e?.type === \"click\") {\n        showSnack = true;\n      }\n    } else {\n      if (\n        !layerIsZoomVisible &&\n        (this.state.zoomVisible || !this.state.visible)\n      ) {\n        showSnack = true;\n      }\n    }\n\n    if (showSnack === true) {\n      this.showZoomSnack();\n    }\n\n    this.setState({\n      zoomVisible: layerIsZoomVisible,\n    });\n    return layerIsZoomVisible;\n  };\n\n  listenToZoomChange(bListen) {\n    if (!this.usesMinMaxZoom) return;\n\n    const eventName = \"core.zoomEnd\";\n    if (bListen && !this.zoomEndListener) {\n      this.zoomEndListener = this.props.app.globalObserver.subscribe(\n        eventName,\n        this.zoomEndHandler\n      );\n    } else {\n      if (this.zoomEndListener) {\n        this.props.app.globalObserver.unsubscribe(\n          eventName,\n          this.zoomEndListener\n        );\n        this.zoomEndListener = null;\n      }\n    }\n  }\n\n  showZoomSnack() {\n    if (this.zoomWarningSnack) return;\n\n    // We're fetching layerInfo object from the layer object.\n    const layerInfo = this.props.layer.get(\"layerInfo\");\n\n    // If layerInfo is defined, we get layersInfo from it.\n    // Otherwise, layersInfo is set as undefined.\n    const layersInfo = layerInfo ? layerInfo.layersInfo : undefined;\n\n    // If the layer is a LayerGroupItem (meaning it contains more than one object in the \"layersInfo\" array),\n    // then no message should be displayed.\n    // Here we also ensure that layersInfo is defined and contains more than one layer\n    // before trying to access its keys. This prevents a TypeError when layersInfo\n    // is undefined.\n    if (layersInfo && Object.keys(layersInfo).length > 1) {\n      return;\n    }\n\n    this.zoomWarningSnack = this.props.enqueueSnackbar(\n      `Lagret \"${this.caption}\"  är inte synligt vid aktuell zoomnivå.`,\n      {\n        variant: \"warning\",\n        preventDuplicate: true,\n        onClose: () => {\n          this.zoomWarningSnack = null;\n        },\n      }\n    );\n  }\n\n  triggerZoomCheck(e, visible) {\n    if (!this.usesMinMaxZoom) return;\n\n    this.zoomEndHandler(e);\n\n    if (visible === false) {\n      if (!this.zoomWarningSnack) return;\n      this.props.closeSnackbar(this.zoomWarningSnack);\n      this.zoomWarningSnack = null;\n    }\n  }\n\n  /**\n   * Toggle visibility of this layer item.\n   * Also, if layer is being hidden, reset \"status\" (if layer loading failed,\n   * \"status\" is \"loaderror\", and it should be reset if user unchecks layer).\n   * @instance\n   */\n  toggleVisible = (e) => {\n    const layer = this.props.layer;\n    if (this.isBackgroundLayer) {\n      document.getElementById(\"map\").style.backgroundColor = \"#FFF\"; // sets the default background color to white\n      if (layer.isFakeMapLayer) {\n        switch (this.name) {\n          case \"-2\":\n            document.getElementById(\"map\").style.backgroundColor = \"#000\";\n            break;\n          case \"-1\":\n          default:\n            document.getElementById(\"map\").style.backgroundColor = \"#FFF\";\n            break;\n        }\n      } else {\n        layer.setVisible(true);\n      }\n      this.setState({ visible: true });\n      // Publish event to ensure all other background layers are disabled\n      layer.localObserver.publish(\"backgroundLayerChanged\", this.name);\n    } else {\n      const visible = !this.state.visible;\n      this.setState({\n        visible,\n      });\n      this.props.layer.setVisible(visible);\n      this.triggerZoomCheck(e, visible);\n    }\n  };\n\n  /**\n   * Render the load information component.\n   * @instance\n   * @return {external:ReactElement}\n   */\n  renderStatusButton() {\n    return (\n      this.state.status === \"loaderror\" && (\n        <Tooltip\n          disableInteractive\n          title=\"Lagret kunde inte laddas in. Kartservern svarar inte.\"\n        >\n          <LayerButtonWrapper>\n            <IconWarning />\n          </LayerButtonWrapper>\n        </Tooltip>\n      )\n    );\n  }\n\n  renderInfoButton = () => {\n    return this.isInfoEmpty() ? null : (\n      <Tooltip title=\"Mer information om lagret\">\n        <LayerButtonWrapper>\n          {this.state.infoVisible ? (\n            <RemoveCircleIcon onClick={this.toggleInfo} />\n          ) : (\n            <InfoIcon\n              onClick={this.toggleInfo}\n              sx={{\n                boxShadow: this.state.infoVisible\n                  ? \"rgb(204, 204, 204) 2px 3px 1px\"\n                  : \"inherit\",\n                borderRadius: \"100%\",\n              }}\n            />\n          )}\n        </LayerButtonWrapper>\n      </Tooltip>\n    );\n  };\n\n  renderMoreButton = () => {\n    return (\n      <Tooltip title=\"Fler inställningar\">\n        <LayerButtonWrapper>\n          {this.state.toggleSettings ? (\n            <CloseIcon onClick={this.toggleSettings} />\n          ) : (\n            <MoreHorizIcon onClick={this.toggleSettings} />\n          )}\n        </LayerButtonWrapper>\n      </Tooltip>\n    );\n  };\n\n  renderLegendImage() {\n    const src =\n      this.legend && this.legend[0] && this.legend[0].url\n        ? this.legend[0].url\n        : \"\";\n    return src ? <img width=\"30\" alt=\"legend\" src={src} /> : null;\n  }\n\n  isInfoEmpty() {\n    let chaptersWithLayer = this.findChapters(this.name, this.props.chapters);\n    return !(\n      this.infoCaption ||\n      this.infoUrl ||\n      this.infoOwner ||\n      this.infoText ||\n      chaptersWithLayer.length > 0\n    );\n  }\n\n  openInformative = (chapter) => (e) => {\n    this.props.onOpenChapter(chapter);\n  };\n\n  findChapters(id, chapters) {\n    let result = [];\n    if (Array.isArray(chapters)) {\n      result = chapters.reduce((chaptersWithLayer, chapter) => {\n        if (Array.isArray(chapter.layers)) {\n          if (chapter.layers.some((layerId) => layerId === id)) {\n            chaptersWithLayer = [...chaptersWithLayer, chapter];\n          }\n          if (chapter.chapters.length > 0) {\n            chaptersWithLayer = [\n              ...chaptersWithLayer,\n              ...this.findChapters(id, chapter.chapters),\n            ];\n          }\n        }\n        return chaptersWithLayer;\n      }, []);\n    }\n    return result;\n  }\n\n  renderChapterLinks(chapters) {\n    if (chapters && chapters.length > 0) {\n      let chaptersWithLayer = this.findChapters(this.name, chapters);\n      if (chaptersWithLayer.length > 0) {\n        return (\n          <InfoTextContainer>\n            <Typography>\n              Innehåll från denna kategori finns benämnt i följande kapitel i\n              översiktsplanen:\n            </Typography>\n            <StyledList>\n              {chaptersWithLayer.map((chapter, i) => {\n                return (\n                  <li key={i}>\n                    <Button\n                      size=\"small\"\n                      onClick={this.openInformative(chapter)}\n                    >\n                      {chapter.header}\n                      <CallMadeIcon sx={{ marginLeft: 1, fontSize: \"16px\" }} />\n                    </Button>\n                  </li>\n                );\n              })}\n            </StyledList>\n          </InfoTextContainer>\n        );\n      } else {\n        return null;\n      }\n    } else {\n      return null;\n    }\n  }\n\n  toggle() {\n    this.setState({\n      open: !this.state.open,\n    });\n  }\n\n  renderInfo() {\n    if (this.infoText) {\n      return (\n        <InfoTextContainer>\n          <Typography variant=\"subtitle2\">{this.infoTitle}</Typography>\n          <Typography\n            variant=\"body2\"\n            dangerouslySetInnerHTML={{\n              __html: this.infoText,\n            }}\n          />\n        </InfoTextContainer>\n      );\n    } else {\n      return null;\n    }\n  }\n\n  renderMetadataLink() {\n    if (this.infoUrl) {\n      return (\n        <InfoTextContainer>\n          <a href={this.infoUrl} target=\"_blank\" rel=\"noopener noreferrer\">\n            {this.infoUrlText || this.infoUrl}\n          </a>\n        </InfoTextContainer>\n      );\n    } else {\n      return null;\n    }\n  }\n\n  renderOwner() {\n    if (this.infoOwner) {\n      return (\n        <InfoTextContainer>\n          <Typography\n            variant=\"body2\"\n            dangerouslySetInnerHTML={{ __html: this.infoOwner }}\n          />\n        </InfoTextContainer>\n      );\n    } else {\n      return null;\n    }\n  }\n\n  renderDetails() {\n    if (this.state.infoVisible) {\n      return (\n        <div>\n          {this.renderInfo()}\n          {this.renderMetadataLink()}\n          {this.renderOwner()}\n          <div>{this.renderChapterLinks(this.props.chapters || [])}</div>\n        </div>\n      );\n    }\n  }\n\n  toggleSettings = () => {\n    this.setState({\n      toggleSettings: !this.state.toggleSettings,\n    });\n  };\n\n  toggleInfo = () => {\n    this.setState({\n      infoVisible: !this.state.infoVisible,\n    });\n  };\n\n  renderLegendIcon() {\n    return <LegendIcon alt=\"Teckenförklaring\" src={this.legendIcon} />;\n  }\n\n  getLayerToggler = () => {\n    const { visible } = this.state;\n    const icon = visible ? (\n      this.isBackgroundLayer ? (\n        <RadioButtonChecked />\n      ) : (\n        <CheckBoxIcon\n          sx={{\n            fill: (theme) =>\n              !this.state.zoomVisible && this.state.visible\n                ? theme.palette.warning.dark\n                : \"\",\n          }}\n        />\n      )\n    ) : this.isBackgroundLayer ? (\n      <RadioButtonUnchecked />\n    ) : (\n      <CheckBoxOutlineBlankIcon />\n    );\n    return <LayerTogglerButtonWrapper>{icon}</LayerTogglerButtonWrapper>;\n  };\n\n  #showAttributeTable = async () => {\n    try {\n      const url = this.props.layer.getSource().get(\"url\").replace(\"wms\", \"wfs\");\n      const { LAYERS } = this.props.layer.getSource().getParams();\n      // If URL already contains a query string part, we want to glue them together.\n      const glue = url.includes(\"?\") ? \"&\" : \"?\";\n      const getFeatureUrl = `${url}${glue}service=WFS&version=1.0.0&request=GetFeature&typeName=${LAYERS}&maxFeatures=5000&outputFormat=application%2Fjson`;\n      const describeFeatureTypeUrl = `${url}${glue}service=WFS&version=1.0.0&request=DescribeFeatureType&typeName=${LAYERS}&outputFormat=application%2Fjson`;\n      // TODO: QGIS Server doesn't support JSON response for DescribeFeatureType. We must\n      // fetch the result as GML2 and then parse it accordingly. This will require\n      // some more work than the current approach.\n      // const describeFeatureTypeUrl = `${url}${glue}service=WFS&version=1.0.0&request=DescribeFeatureType&typeName=${LAYERS}`;\n      const r1 = await fetch(getFeatureUrl);\n      const features = await r1.json();\n      const r2 = await fetch(describeFeatureTypeUrl);\n      const description = await r2.json();\n\n      const columns = description.featureTypes\n        .find((f) => f.typeName === LAYERS) // featureTypes contains an object, where typeName will be the same as the layer name we requested\n        .properties.filter((c) => !c.type.toLowerCase().includes(\"gml\")) // Best guess to try to filter out the geometry column, we don't want to show it\n        .map((c) => {\n          // Prepare an object that has the format of 'columns' prop for MUI's DataGrid\n          return {\n            field: c.name,\n            headerName: c.name,\n            type: c.localType === \"int\" ? \"number\" : c.localType, // DataGrid wants 'number', not 'int', see https://mui.com/components/data-grid/columns/#column-types\n            flex: 1,\n          };\n        });\n\n      const rows = features.features.map((r, i) => {\n        return { ...r.properties, id: i };\n      });\n\n      this.props.app.globalObserver.publish(\"core.showAttributeTable\", {\n        title: `${this.caption} (${LAYERS})`,\n        content: { columns, rows },\n      });\n    } catch (error) {\n      console.error(error);\n      console.log(this);\n      this.props.enqueueSnackbar(\n        `Serverfel: attributtabellen för lagret \"${this.caption}\" kunde inte visas`,\n        { variant: \"error\" }\n      );\n    }\n  };\n\n  render() {\n    const { layer, model, app, chapters } = this.props;\n\n    const cqlFilterVisible =\n      this.props.app.config.mapConfig.map?.cqlFilterVisible || false;\n\n    if (!this.caption) {\n      return null;\n    }\n\n    if (layer.get(\"layerType\") === \"group\") {\n      return (\n        <LayerGroupItem\n          appConfig={app.config.appConfig}\n          mapConfig={app.config.mapConfig}\n          layer={layer}\n          model={model}\n          options={this.props.options}\n          chapters={chapters}\n          cqlFilterVisible={cqlFilterVisible}\n          onOpenChapter={(chapter) => {\n            const informativeWindow = app.windows.find(\n              (window) => window.type === \"informative\"\n            );\n            informativeWindow.props.custom.open(chapter);\n          }}\n        />\n      );\n    }\n\n    return (\n      <LayerItemContainer\n        sx={{ marginLeft: this.isBackgroundLayer ? \"0px\" : \"45px\" }}\n      >\n        <LayerItemWrapper>\n          <Grid\n            wrap=\"nowrap\"\n            alignItems=\"center\"\n            alignContent=\"center\"\n            container\n            onClick={this.toggleVisible.bind(this)}\n          >\n            <Grid item>{this.getLayerToggler()}</Grid>\n            {this.legendIcon && this.renderLegendIcon()}\n            <Caption>{this.caption}</Caption>\n          </Grid>\n          <LayerButtonsContainer>\n            {layer.isFakeMapLayer ? null : (\n              <DownloadLink\n                layer={this.props.layer}\n                enableDownloadLink={\n                  this.props.app.config.mapConfig.map.enableDownloadLink\n                }\n              />\n            )}\n            {this.renderStatusButton()}\n            {this.renderInfoButton()}\n\n            {this.showAttributeTableButton && (\n              <Tooltip title=\"Visa lagrets attributtabell\">\n                <LayerButtonWrapper>\n                  <TableViewIcon onClick={this.#showAttributeTable} />\n                </LayerButtonWrapper>\n              </Tooltip>\n            )}\n            {this.renderMoreButton()}\n          </LayerButtonsContainer>\n        </LayerItemWrapper>\n        <div>\n          {this.renderDetails()}\n          {this.state.toggleSettings &&\n          this.state.infoVisible &&\n          !this.isInfoEmpty() ? (\n            <hr />\n          ) : null}\n          {layer.isFakeMapLayer ? null : (\n            <LayerSettings\n              options={this.props.options}\n              layer={layer}\n              toggled={this.state.toggleSettings}\n              showOpacity={true}\n              showLegend={true}\n              cqlFilterVisible={cqlFilterVisible}\n            />\n          )}\n        </div>\n      </LayerItemContainer>\n    );\n  }\n}\n\nexport default withSnackbar(LayerItem);\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M9 5v2h6.59L4 18.59 5.41 20 17 8.41V15h2V5z\"\n}), 'CallMade');\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z\"\n}), 'CheckBox');\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z\"\n}), 'CheckBoxOutlineBlank');\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM17 13l-5 5-5-5h3V9h4v4h3z\"\n}), 'CloudDownload');\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z\"\n}), 'KeyboardArrowDown');\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M8.59 16.59 13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z\"\n}), 'KeyboardArrowRight');\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z\"\n}), 'MoreHoriz');\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M12 7c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5zm0-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z\"\n}), 'RadioButtonChecked');\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z\"\n}), 'Refresh');\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm5 11H7v-2h10v2z\"\n}), 'RemoveCircle');\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M19 7H9c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2V9c0-1.1-.9-2-2-2zm0 2v2H9V9h10zm-6 6v-2h2v2h-2zm2 2v2h-2v-2h2zm-4-2H9v-2h2v2zm6-2h2v2h-2v-2zm-8 4h2v2H9v-2zm8 2v-2h2v2h-2zM6 17H5c-1.1 0-2-.9-2-2V5c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2v1h-2V5H5v10h1v2z\"\n}), 'TableView');\nexports.default = _default;","import { unstable_generateUtilityClasses as generateUtilityClasses } from '@mui/utils';\nimport generateUtilityClass from '../generateUtilityClass';\nexport function getInputAdornmentUtilityClass(slot) {\n  return generateUtilityClass('MuiInputAdornment', slot);\n}\nconst inputAdornmentClasses = generateUtilityClasses('MuiInputAdornment', ['root', 'filled', 'standard', 'outlined', 'positionStart', 'positionEnd', 'disablePointerEvents', 'hiddenLabel', 'sizeSmall']);\nexport default inputAdornmentClasses;","import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nvar _span;\nconst _excluded = [\"children\", \"className\", \"component\", \"disablePointerEvents\", \"disableTypography\", \"position\", \"variant\"];\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { unstable_composeClasses as composeClasses } from '@mui/base';\nimport capitalize from '../utils/capitalize';\nimport Typography from '../Typography';\nimport FormControlContext from '../FormControl/FormControlContext';\nimport useFormControl from '../FormControl/useFormControl';\nimport styled from '../styles/styled';\nimport inputAdornmentClasses, { getInputAdornmentUtilityClass } from './inputAdornmentClasses';\nimport useThemeProps from '../styles/useThemeProps';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nconst overridesResolver = (props, styles) => {\n  const {\n    ownerState\n  } = props;\n  return [styles.root, styles[`position${capitalize(ownerState.position)}`], ownerState.disablePointerEvents === true && styles.disablePointerEvents, styles[ownerState.variant]];\n};\nconst useUtilityClasses = ownerState => {\n  const {\n    classes,\n    disablePointerEvents,\n    hiddenLabel,\n    position,\n    size,\n    variant\n  } = ownerState;\n  const slots = {\n    root: ['root', disablePointerEvents && 'disablePointerEvents', position && `position${capitalize(position)}`, variant, hiddenLabel && 'hiddenLabel', size && `size${capitalize(size)}`]\n  };\n  return composeClasses(slots, getInputAdornmentUtilityClass, classes);\n};\nconst InputAdornmentRoot = styled('div', {\n  name: 'MuiInputAdornment',\n  slot: 'Root',\n  overridesResolver\n})(({\n  theme,\n  ownerState\n}) => _extends({\n  display: 'flex',\n  height: '0.01em',\n  // Fix IE11 flexbox alignment. To remove at some point.\n  maxHeight: '2em',\n  alignItems: 'center',\n  whiteSpace: 'nowrap',\n  color: (theme.vars || theme).palette.action.active\n}, ownerState.variant === 'filled' && {\n  // Styles applied to the root element if `variant=\"filled\"`.\n  [`&.${inputAdornmentClasses.positionStart}&:not(.${inputAdornmentClasses.hiddenLabel})`]: {\n    marginTop: 16\n  }\n}, ownerState.position === 'start' && {\n  // Styles applied to the root element if `position=\"start\"`.\n  marginRight: 8\n}, ownerState.position === 'end' && {\n  // Styles applied to the root element if `position=\"end\"`.\n  marginLeft: 8\n}, ownerState.disablePointerEvents === true && {\n  // Styles applied to the root element if `disablePointerEvents={true}`.\n  pointerEvents: 'none'\n}));\nconst InputAdornment = /*#__PURE__*/React.forwardRef(function InputAdornment(inProps, ref) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiInputAdornment'\n  });\n  const {\n      children,\n      className,\n      component = 'div',\n      disablePointerEvents = false,\n      disableTypography = false,\n      position,\n      variant: variantProp\n    } = props,\n    other = _objectWithoutPropertiesLoose(props, _excluded);\n  const muiFormControl = useFormControl() || {};\n  let variant = variantProp;\n  if (variantProp && muiFormControl.variant) {\n    if (process.env.NODE_ENV !== 'production') {\n      if (variantProp === muiFormControl.variant) {\n        console.error('MUI: The `InputAdornment` variant infers the variant prop ' + 'you do not have to provide one.');\n      }\n    }\n  }\n  if (muiFormControl && !variant) {\n    variant = muiFormControl.variant;\n  }\n  const ownerState = _extends({}, props, {\n    hiddenLabel: muiFormControl.hiddenLabel,\n    size: muiFormControl.size,\n    disablePointerEvents,\n    position,\n    variant\n  });\n  const classes = useUtilityClasses(ownerState);\n  return /*#__PURE__*/_jsx(FormControlContext.Provider, {\n    value: null,\n    children: /*#__PURE__*/_jsx(InputAdornmentRoot, _extends({\n      as: component,\n      ownerState: ownerState,\n      className: clsx(classes.root, className),\n      ref: ref\n    }, other, {\n      children: typeof children === 'string' && !disableTypography ? /*#__PURE__*/_jsx(Typography, {\n        color: \"text.secondary\",\n        children: children\n      }) : /*#__PURE__*/_jsxs(React.Fragment, {\n        children: [position === 'start' ? /* notranslate needed while Google Translate will not fix zero-width space issue */_span || (_span = /*#__PURE__*/_jsx(\"span\", {\n          className: \"notranslate\",\n          children: \"\\u200B\"\n        })) : null, children]\n      })\n    }))\n  });\n});\nprocess.env.NODE_ENV !== \"production\" ? InputAdornment.propTypes /* remove-proptypes */ = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n  /**\n   * The content of the component, normally an `IconButton` or string.\n   */\n  children: PropTypes.node,\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n  /**\n   * The component used for the root node.\n   * Either a string to use a HTML element or a component.\n   */\n  component: PropTypes.elementType,\n  /**\n   * Disable pointer events on the root.\n   * This allows for the content of the adornment to focus the `input` on click.\n   * @default false\n   */\n  disablePointerEvents: PropTypes.bool,\n  /**\n   * If children is a string then disable wrapping in a Typography component.\n   * @default false\n   */\n  disableTypography: PropTypes.bool,\n  /**\n   * The position this adornment should appear relative to the `Input`.\n   */\n  position: PropTypes.oneOf(['end', 'start']).isRequired,\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object]),\n  /**\n   * The variant to use.\n   * Note: If you are using the `TextField` component or the `FormControl` component\n   * you do not have to set this manually.\n   */\n  variant: PropTypes.oneOf(['filled', 'outlined', 'standard'])\n} : void 0;\nexport default InputAdornment;"],"names":["LayerItemContainer","styled","theme","paddingLeft","borderBottom","spacing","palette","divider","LayerItemWrapper","display","justifyContent","marginTop","LayerTogglerButtonWrapper","alignItems","cursor","float","marginRight","InfoTextContainer","margin","Caption","Typography","fontSize","typography","pxToRem","LegendIcon","width","height","LayerButtonsContainer","LayerButtonWrapper","StyledList","padding","listStyle","LayerItem","React","constructor","props","super","zoomEndHandler","e","zoom","this","model","olMap","getView","getZoom","lprops","layer","getProperties","layerIsZoomVisible","minZoom","maxZoom","showSnack","minMaxZoomAlertOnToggleOnly","state","visible","type","zoomVisible","showZoomSnack","setState","toggleVisible","isBackgroundLayer","document","getElementById","style","backgroundColor","isFakeMapLayer","name","setVisible","localObserver","publish","triggerZoomCheck","renderInfoButton","isInfoEmpty","title","infoVisible","onClick","toggleInfo","sx","boxShadow","borderRadius","renderMoreButton","toggleSettings","openInformative","chapter","onOpenChapter","getLayerToggler","icon","fill","warning","dark","async","url","getSource","get","replace","LAYERS","getParams","glue","includes","getFeatureUrl","describeFeatureTypeUrl","r1","fetch","features","json","r2","columns","featureTypes","find","f","typeName","properties","filter","c","toLowerCase","map","field","headerName","localType","flex","rows","r","i","id","app","globalObserver","caption","content","error","console","log","enqueueSnackbar","variant","layerInfo","layerType","legend","legendIcon","infoTitle","infoText","infoUrl","infoUrlText","infoOwner","showAttributeTableButton","usesMinMaxZoom","layerUsesMinMaxZoom","status","open","subscribe","activeLayer","componentDidMount","on","oldValue","listenToZoomChange","d","maxZ","minZ","Infinity","bListen","eventName","zoomEndListener","unsubscribe","zoomWarningSnack","layersInfo","undefined","Object","keys","length","preventDuplicate","onClose","closeSnackbar","renderStatusButton","disableInteractive","renderLegendImage","src","alt","chaptersWithLayer","findChapters","chapters","infoCaption","result","Array","isArray","reduce","layers","some","layerId","renderChapterLinks","size","header","marginLeft","toggle","renderInfo","dangerouslySetInnerHTML","__html","renderMetadataLink","href","target","rel","renderOwner","renderDetails","renderLegendIcon","render","cqlFilterVisible","config","mapConfig","appConfig","options","windows","window","custom","wrap","alignContent","container","bind","item","enableDownloadLink","toggled","showOpacity","showLegend","withSnackbar","_interopRequireDefault","require","exports","_createSvgIcon","_jsxRuntime","_default","default","jsx","getInputAdornmentUtilityClass","slot","generateUtilityClass","_span","generateUtilityClasses","_excluded","InputAdornmentRoot","overridesResolver","styles","ownerState","root","capitalize","position","disablePointerEvents","_extends","maxHeight","whiteSpace","color","vars","action","active","inputAdornmentClasses","pointerEvents","inProps","ref","useThemeProps","children","className","component","disableTypography","variantProp","other","_objectWithoutPropertiesLoose","muiFormControl","useFormControl","hiddenLabel","classes","slots","composeClasses","useUtilityClasses","_jsx","FormControlContext","value","as","clsx","_jsxs"],"sourceRoot":""}