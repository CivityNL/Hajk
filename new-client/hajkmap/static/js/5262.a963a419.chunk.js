"use strict";(self.webpackChunkhajk_client=self.webpackChunkhajk_client||[]).push([[5262],{65262:(e,t,l)=>{l.r(t),l.d(t,{default:()=>j});var s=l(72791),d=l(54164),r=l(5289),c=l(65661),a=l(39157),i=l(90493),n=l(45484),u=l(76278),h=l(57064),o=l(94454),F=l(49900),x=l(97123),g=l(24518),k=l(80184);function j(e){let{localObserver:t,drawModel:l,model:j}=e;const[b,p]=s.useState({clickedFeatures:[],selectedFeatureIndexes:[],highlightedFeature:null}),I=s.useCallback((()=>{p({clickedFeatures:[],selectedFeatureIndexes:[],highlightedFeature:null})}),[]),Z=s.useCallback((e=>{p((t=>({...t,clickedFeatures:e})))}),[]),m=()=>{b.highlightedFeature&&l.removeFeature(b.highlightedFeature),I()};return s.useEffect((()=>(t.subscribe("drawModel.select.click",Z),()=>{t.unsubscribe("drawModel.select.click")})),[t,Z]),(0,d.createPortal)((0,k.jsxs)(r.Z,{open:b.clickedFeatures.length>1,onClose:m,onMouseDown:e=>{e.stopPropagation()},children:[(0,k.jsx)(c.Z,{children:"V\xe4lj de objekt du vill kopiera"}),(0,k.jsx)(a.Z,{children:(0,k.jsx)(i.Z,{sx:{width:"100%",maxHeight:"30vh"},children:b.clickedFeatures.map(((e,t)=>(0,k.jsx)(n.ZP,{disableGutters:!0,onMouseEnter:()=>(e=>{const t=b.clickedFeatures[e],s=j.createHighlightFeature(t);l.addFeature(s,{silent:!0}),p({...b,highlightedFeature:s})})(t),onMouseLeave:()=>{b.highlightedFeature&&l.removeFeature(b.highlightedFeature)},children:(0,k.jsxs)(u.Z,{onClick:()=>(e=>{const t=-1!==b.selectedFeatureIndexes.indexOf(e)?b.selectedFeatureIndexes.filter((t=>t!==e)):[...b.selectedFeatureIndexes,e];p((e=>({...e,selectedFeatureIndexes:t})))})(t),dense:!0,children:[(0,k.jsx)(h.Z,{children:(0,k.jsx)(o.Z,{edge:"start",checked:-1!==b.selectedFeatureIndexes.indexOf(t),tabIndex:-1,disableRipple:!0})}),(0,k.jsx)(F.Z,{primary:e.getId()})]})},t)))})}),(0,k.jsxs)(x.Z,{children:[(0,k.jsx)(g.Z,{disabled:0===b.selectedFeatureIndexes.length,onClick:()=>{b.selectedFeatureIndexes.map((e=>l.drawSelectedFeature(b.clickedFeatures[e]))),I()},children:"OK"}),(0,k.jsx)(g.Z,{onClick:m,children:"Annuleren"})]})]}),document.getElementById("map"))}}}]);
//# sourceMappingURL=5262.a963a419.chunk.js.map