{"version":3,"file":"static/js/1611.8b5d4d86.chunk.js","mappings":"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","sources":["plugins/LayerSwitcher/components/CQLFilter.js","plugins/LayerSwitcher/components/LayerSettings.js","plugins/LayerSwitcher/components/VectorFilter.js","../node_modules/@mui/icons-material/Refresh.js","../node_modules/@mui/material/InputAdornment/inputAdornmentClasses.js","../node_modules/@mui/material/InputAdornment/InputAdornment.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport {\n  InputLabel,\n  OutlinedInput,\n  IconButton,\n  InputAdornment,\n  Tooltip,\n} from \"@mui/material\";\nimport RefreshIcon from \"@mui/icons-material/Refresh\";\n\nconst CQLFilter = ({ layer }) => {\n  const source = layer.getSource();\n  const currentCqlFilterValue =\n    (typeof source.getParams === \"function\" &&\n      source.getParams()?.CQL_FILTER) ||\n    \"\";\n\n  const [cqlFilter, setCqlFilter] = useState(currentCqlFilterValue);\n\n  const updateFilter = () => {\n    let filter = cqlFilter.trim();\n    if (filter.length === 0) filter = undefined; // If length === 0, unset filter.\n    layer.getSource().updateParams({ CQL_FILTER: filter });\n  };\n\n  return (\n    <>\n      <InputLabel htmlFor=\"cqlfilter\">Ange CQL-filter</InputLabel>\n      <OutlinedInput\n        id=\"cqlfilter\"\n        type=\"text\"\n        multiline\n        fullWidth\n        placeholder=\"foo='bar' AND fii='baz'\"\n        value={cqlFilter}\n        onChange={(e) => setCqlFilter(e.target.value)}\n        endAdornment={\n          <InputAdornment position=\"end\">\n            <Tooltip\n              disableInteractive\n              title=\"Tryck för att ladda om lagret med angivet filter\"\n            >\n              <IconButton edge=\"end\" onClick={updateFilter} size=\"large\">\n                <RefreshIcon />\n              </IconButton>\n            </Tooltip>\n          </InputAdornment>\n        }\n      />\n    </>\n  );\n};\n\nexport default CQLFilter;\n","import React from \"react\";\nimport VectorFilter from \"./VectorFilter\";\nimport CQLFilter from \"./CQLFilter\";\nimport Typography from \"@mui/material/Typography\";\nimport Slider from \"@mui/material/Slider\";\nimport { styled } from \"@mui/material/styles\";\n\nconst SettingsContainer = styled(\"div\")(({ theme }) => ({\n  overflow: \"hidden\",\n  paddingLeft: \"45px\",\n  paddingRight: \"30px\",\n  paddingBottom: \"10px\",\n  paddingTop: \"10px\",\n}));\n\nconst SliderContainer = styled(\"div\")(({ theme }) => ({\n  display: \"flex\",\n  flexFlow: \"row nowrap\",\n  alignItems: \"center\",\n}));\n\nconst SliderTextWrapper = styled(\"div\")(({ theme }) => ({\n  flex: \"0 1 auto\",\n  minWidth: \"40px\",\n}));\n\nconst SliderWrapper = styled(\"div\")(({ theme }) => ({\n  padding: \"0 16px\",\n  flex: \"1 1 auto\",\n  \"& > span\": {\n    top: \"4px\",\n  },\n}));\n\nclass LayerSettings extends React.PureComponent {\n  constructor(props) {\n    super(props);\n\n    const { layer } = props;\n    const layerInfo = layer.get(\"layerInfo\");\n\n    this.state = {\n      opacityValue: layer.get(\"opacity\"),\n      legend: layerInfo.legend,\n    };\n\n    // Ensure that state is updated when OL Layer's opacity changes\n    layer.on?.(\"change:opacity\", this.updateOpacity);\n  }\n\n  // Ensure that opacity slider's value gets updated when\n  // opacity is changed programmatically (e.g. via BreadCrumbs)\n  updateOpacity = (e) => {\n    const opacityValue = e.target.getOpacity();\n    this.setState({\n      opacityValue,\n    });\n  };\n\n  renderOpacitySlider() {\n    const opacityValue = this.state.opacityValue;\n    return (\n      <SliderContainer>\n        <SliderTextWrapper>\n          <Typography variant=\"subtitle2\">Opacitet:</Typography>\n        </SliderTextWrapper>\n        <SliderWrapper>\n          <Slider\n            size=\"small\"\n            value={opacityValue}\n            min={0}\n            max={1}\n            step={0.05}\n            onChange={this.opacitySliderChanged}\n          />\n        </SliderWrapper>\n        <SliderTextWrapper>\n          <Typography variant=\"subtitle2\">\n            {Math.trunc(100 * opacityValue.toFixed(2))} %\n          </Typography>\n        </SliderTextWrapper>\n      </SliderContainer>\n    );\n  }\n\n  /* This function does two things:\n   * 1) it updates opacityValue, which is in state,\n   *    and is important as <Slider> uses it to set\n   *    its internal value.\n   * 2) it changes OL layer's opacity\n   *\n   * As <Slider> is set up to return a value between\n   * 0 and 1 and it has a step of 0.1, we don't have\n   * to worry about any conversion and rounding here.\n   * */\n  opacitySliderChanged = (event, opacityValue) => {\n    this.props.layer.setOpacity(opacityValue);\n  };\n\n  toggle = (e) => {\n    this.setState({\n      toggled: !this.state.toggled,\n    });\n  };\n\n  renderSettings() {\n    return (\n      <div>\n        <SettingsContainer>\n          {this.props.options?.enableTransparencySlider !== false &&\n          this.props.showOpacity\n            ? this.renderOpacitySlider()\n            : null}\n          {this.props.showLegend ? this.renderLegendImage() : null}\n          {this.props.layer.getProperties().filterable ? (\n            <VectorFilter layer={this.props.layer} />\n          ) : null}\n          {this.props.cqlFilterVisible && (\n            <CQLFilter layer={this.props.layer} />\n          )}\n        </SettingsContainer>\n      </div>\n    );\n  }\n\n  renderLegendImage() {\n    const index = this.props.index ? this.props.index : 0;\n    const src = this.state.legend?.[index]?.url ?? \"\";\n\n    return src ? (\n      <div>\n        <img max-width=\"250px\" alt=\"Teckenförklaring\" src={src} />\n      </div>\n    ) : null;\n  }\n\n  render() {\n    return (\n      <div>\n        <div>{this.props.toggled ? this.renderSettings() : null}</div>\n      </div>\n    );\n  }\n}\n\nexport default LayerSettings;\n","import React from \"react\";\nimport { styled } from \"@mui/material/styles\";\nimport Select from \"@mui/material/Select\";\nimport MenuItem from \"@mui/material/MenuItem\";\nimport InputLabel from \"@mui/material/InputLabel\";\nimport FormControl from \"@mui/material/FormControl\";\nimport Input from \"@mui/material/Input\";\nimport Button from \"@mui/material/Button\";\nimport Typography from \"@mui/material/Typography\";\nimport { Vector as VectorLayer } from \"ol/layer\";\nimport { hfetch } from \"utils/FetchWrapper\";\n\nconst StyledFormControl = styled(FormControl)(({ theme }) => ({\n  margin: theme.spacing(1),\n  minWidth: 120,\n}));\n\nconst StyledTypography = styled(Typography)(({ theme }) => ({\n  fontWeight: 500,\n}));\n\nclass VectorFilter extends React.PureComponent {\n  constructor(props) {\n    super(props);\n    this.state = {\n      filterAttribute: props.layer.get(\"filterAttribute\") || \"\",\n      filterValue: props.layer.get(\"filterValue\") || \"\",\n      filterComparer: props.layer.get(\"filterComparer\") || \"\",\n      layerProperties: [],\n    };\n    this.loadFeatureInfo();\n  }\n\n  /**\n   * @summary Prepare entries for dropdown, will contain possible values for filterAttribute.\n   *\n   * @memberof VectorFilter\n   */\n  loadFeatureInfo = () => {\n    const { url, featureType } = this.props.layer.getProperties();\n    hfetch(\n      url +\n        `?service=WFS&request=describeFeatureType&outputFormat=application/json&typename=${featureType}`\n    ).then((response) => {\n      response.json().then((featureInfo) => {\n        const featureTypeInfo = featureInfo.featureTypes.find(\n          (type) => type.typeName === featureType\n        );\n        if (featureTypeInfo && Array.isArray(featureTypeInfo.properties)) {\n          const layerProperties = featureTypeInfo.properties\n            .filter((property) => property.type !== \"gml:Geometry\")\n            .map((property) => property.name);\n          this.setState({\n            layerProperties,\n          });\n        }\n      });\n    });\n  };\n\n  handleChange = (e) => {\n    this.setState({\n      [e.target.name]: e.target.value,\n    });\n  };\n\n  /**\n   * @summary Reads filter options from state, applies them on layer and refreshes the source.\n   *\n   * @memberof VectorFilter\n   */\n  setFilter = (e) => {\n    this.props.layer.set(\"filterAttribute\", this.state.filterAttribute);\n    this.props.layer.set(\"filterComparer\", this.state.filterComparer);\n    this.props.layer.set(\"filterValue\", this.state.filterValue);\n\n    this.props.layer.getSource().refresh();\n  };\n\n  /**\n   * @ Resets the UI to no filter and reloads the source\n   *\n   * @memberof VectorFilter\n   */\n  resetFilter = (e) => {\n    // Reset the UI\n    this.setState({\n      filterAttribute: \"\",\n      filterValue: \"\",\n      filterComparer: \"\",\n    });\n\n    // Reset filter options on layer\n    this.props.layer.set(\"filterAttribute\", \"\");\n    this.props.layer.set(\"filterComparer\", \"\");\n    this.props.layer.set(\"filterValue\", \"\");\n\n    // Refresh source\n    this.props.layer.getSource().refresh();\n  };\n\n  render() {\n    const { layer } = this.props;\n    if (layer instanceof VectorLayer) {\n      return (\n        <>\n          <StyledTypography variant=\"subtitle2\">\n            Filtrera innehåll baserat på attribut\n          </StyledTypography>\n          <StyledFormControl>\n            <InputLabel htmlFor=\"attribute\">Attribut</InputLabel>\n            <Select\n              value={this.state.filterAttribute}\n              onChange={this.handleChange}\n              inputProps={{\n                name: \"filterAttribute\",\n                id: \"attribute\",\n              }}\n            >\n              {this.state.layerProperties.map((property, i) => {\n                return (\n                  <MenuItem key={i} value={property}>\n                    {property}\n                  </MenuItem>\n                );\n              })}\n            </Select>\n          </StyledFormControl>\n          <StyledFormControl>\n            <InputLabel htmlFor=\"comparer\">Jämförare</InputLabel>\n            <Select\n              value={this.state.filterComparer}\n              onChange={this.handleChange}\n              inputProps={{\n                name: \"filterComparer\",\n                id: \"comparer\",\n              }}\n            >\n              <MenuItem value=\"gt\">Större än</MenuItem>\n              <MenuItem value=\"lt\">Mindre än</MenuItem>\n              <MenuItem value=\"eq\">Lika med</MenuItem>\n              <MenuItem value=\"not\">Skilt från</MenuItem>\n            </Select>\n          </StyledFormControl>\n          <StyledFormControl>\n            <Input\n              value={this.state.filterValue}\n              onChange={this.handleChange}\n              placeholder=\"Filtervärde\"\n              inputProps={{\n                name: \"filterValue\",\n                \"aria-label\": \"Värde\",\n              }}\n            />\n          </StyledFormControl>\n\n          <Button variant=\"contained\" color=\"primary\" onClick={this.setFilter}>\n            Aktivera\n          </Button>\n          <Button onClick={this.resetFilter}>Återställ</Button>\n        </>\n      );\n    } else {\n      return null;\n    }\n  }\n}\n\nexport default VectorFilter;\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z\"\n}), 'Refresh');\nexports.default = _default;","import { unstable_generateUtilityClasses as generateUtilityClasses } from '@mui/utils';\nimport generateUtilityClass from '../generateUtilityClass';\nexport function getInputAdornmentUtilityClass(slot) {\n  return generateUtilityClass('MuiInputAdornment', slot);\n}\nconst inputAdornmentClasses = generateUtilityClasses('MuiInputAdornment', ['root', 'filled', 'standard', 'outlined', 'positionStart', 'positionEnd', 'disablePointerEvents', 'hiddenLabel', 'sizeSmall']);\nexport default inputAdornmentClasses;","import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nvar _span;\nconst _excluded = [\"children\", \"className\", \"component\", \"disablePointerEvents\", \"disableTypography\", \"position\", \"variant\"];\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { unstable_composeClasses as composeClasses } from '@mui/base';\nimport capitalize from '../utils/capitalize';\nimport Typography from '../Typography';\nimport FormControlContext from '../FormControl/FormControlContext';\nimport useFormControl from '../FormControl/useFormControl';\nimport styled from '../styles/styled';\nimport inputAdornmentClasses, { getInputAdornmentUtilityClass } from './inputAdornmentClasses';\nimport useThemeProps from '../styles/useThemeProps';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nconst overridesResolver = (props, styles) => {\n  const {\n    ownerState\n  } = props;\n  return [styles.root, styles[`position${capitalize(ownerState.position)}`], ownerState.disablePointerEvents === true && styles.disablePointerEvents, styles[ownerState.variant]];\n};\nconst useUtilityClasses = ownerState => {\n  const {\n    classes,\n    disablePointerEvents,\n    hiddenLabel,\n    position,\n    size,\n    variant\n  } = ownerState;\n  const slots = {\n    root: ['root', disablePointerEvents && 'disablePointerEvents', position && `position${capitalize(position)}`, variant, hiddenLabel && 'hiddenLabel', size && `size${capitalize(size)}`]\n  };\n  return composeClasses(slots, getInputAdornmentUtilityClass, classes);\n};\nconst InputAdornmentRoot = styled('div', {\n  name: 'MuiInputAdornment',\n  slot: 'Root',\n  overridesResolver\n})(({\n  theme,\n  ownerState\n}) => _extends({\n  display: 'flex',\n  height: '0.01em',\n  // Fix IE11 flexbox alignment. To remove at some point.\n  maxHeight: '2em',\n  alignItems: 'center',\n  whiteSpace: 'nowrap',\n  color: (theme.vars || theme).palette.action.active\n}, ownerState.variant === 'filled' && {\n  // Styles applied to the root element if `variant=\"filled\"`.\n  [`&.${inputAdornmentClasses.positionStart}&:not(.${inputAdornmentClasses.hiddenLabel})`]: {\n    marginTop: 16\n  }\n}, ownerState.position === 'start' && {\n  // Styles applied to the root element if `position=\"start\"`.\n  marginRight: 8\n}, ownerState.position === 'end' && {\n  // Styles applied to the root element if `position=\"end\"`.\n  marginLeft: 8\n}, ownerState.disablePointerEvents === true && {\n  // Styles applied to the root element if `disablePointerEvents={true}`.\n  pointerEvents: 'none'\n}));\nconst InputAdornment = /*#__PURE__*/React.forwardRef(function InputAdornment(inProps, ref) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiInputAdornment'\n  });\n  const {\n      children,\n      className,\n      component = 'div',\n      disablePointerEvents = false,\n      disableTypography = false,\n      position,\n      variant: variantProp\n    } = props,\n    other = _objectWithoutPropertiesLoose(props, _excluded);\n  const muiFormControl = useFormControl() || {};\n  let variant = variantProp;\n  if (variantProp && muiFormControl.variant) {\n    if (process.env.NODE_ENV !== 'production') {\n      if (variantProp === muiFormControl.variant) {\n        console.error('MUI: The `InputAdornment` variant infers the variant prop ' + 'you do not have to provide one.');\n      }\n    }\n  }\n  if (muiFormControl && !variant) {\n    variant = muiFormControl.variant;\n  }\n  const ownerState = _extends({}, props, {\n    hiddenLabel: muiFormControl.hiddenLabel,\n    size: muiFormControl.size,\n    disablePointerEvents,\n    position,\n    variant\n  });\n  const classes = useUtilityClasses(ownerState);\n  return /*#__PURE__*/_jsx(FormControlContext.Provider, {\n    value: null,\n    children: /*#__PURE__*/_jsx(InputAdornmentRoot, _extends({\n      as: component,\n      ownerState: ownerState,\n      className: clsx(classes.root, className),\n      ref: ref\n    }, other, {\n      children: typeof children === 'string' && !disableTypography ? /*#__PURE__*/_jsx(Typography, {\n        color: \"text.secondary\",\n        children: children\n      }) : /*#__PURE__*/_jsxs(React.Fragment, {\n        children: [position === 'start' ? /* notranslate needed while Google Translate will not fix zero-width space issue */_span || (_span = /*#__PURE__*/_jsx(\"span\", {\n          className: \"notranslate\",\n          children: \"\\u200B\"\n        })) : null, children]\n      })\n    }))\n  });\n});\nprocess.env.NODE_ENV !== \"production\" ? InputAdornment.propTypes /* remove-proptypes */ = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n  /**\n   * The content of the component, normally an `IconButton` or string.\n   */\n  children: PropTypes.node,\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n  /**\n   * The component used for the root node.\n   * Either a string to use a HTML element or a component.\n   */\n  component: PropTypes.elementType,\n  /**\n   * Disable pointer events on the root.\n   * This allows for the content of the adornment to focus the `input` on click.\n   * @default false\n   */\n  disablePointerEvents: PropTypes.bool,\n  /**\n   * If children is a string then disable wrapping in a Typography component.\n   * @default false\n   */\n  disableTypography: PropTypes.bool,\n  /**\n   * The position this adornment should appear relative to the `Input`.\n   */\n  position: PropTypes.oneOf(['end', 'start']).isRequired,\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object]),\n  /**\n   * The variant to use.\n   * Note: If you are using the `TextField` component or the `FormControl` component\n   * you do not have to set this manually.\n   */\n  variant: PropTypes.oneOf(['filled', 'outlined', 'standard'])\n} : void 0;\nexport default InputAdornment;"],"names":["layer","source","getSource","currentCqlFilterValue","getParams","CQL_FILTER","cqlFilter","setCqlFilter","useState","htmlFor","id","type","multiline","fullWidth","placeholder","value","onChange","e","target","endAdornment","position","disableInteractive","title","edge","onClick","filter","trim","length","undefined","updateParams","size","SettingsContainer","styled","theme","overflow","paddingLeft","paddingRight","paddingBottom","paddingTop","SliderContainer","display","flexFlow","alignItems","SliderTextWrapper","flex","minWidth","SliderWrapper","padding","top","LayerSettings","React","constructor","props","super","updateOpacity","opacityValue","getOpacity","this","setState","opacitySliderChanged","event","setOpacity","toggle","toggled","state","layerInfo","get","legend","on","renderOpacitySlider","variant","min","max","step","Math","trunc","toFixed","renderSettings","options","enableTransparencySlider","showOpacity","showLegend","renderLegendImage","getProperties","filterable","cqlFilterVisible","index","src","url","alt","render","StyledFormControl","FormControl","margin","spacing","StyledTypography","Typography","fontWeight","VectorFilter","loadFeatureInfo","featureType","hfetch","then","response","json","featureInfo","featureTypeInfo","featureTypes","find","typeName","Array","isArray","properties","layerProperties","property","map","name","handleChange","setFilter","set","filterAttribute","filterComparer","filterValue","refresh","resetFilter","VectorLayer","inputProps","i","color","_interopRequireDefault","require","exports","_createSvgIcon","_jsxRuntime","_default","default","jsx","d","getInputAdornmentUtilityClass","slot","generateUtilityClass","_span","generateUtilityClasses","_excluded","InputAdornmentRoot","overridesResolver","styles","ownerState","root","capitalize","disablePointerEvents","_extends","height","maxHeight","whiteSpace","vars","palette","action","active","inputAdornmentClasses","marginTop","marginRight","marginLeft","pointerEvents","inProps","ref","useThemeProps","children","className","component","disableTypography","variantProp","other","_objectWithoutPropertiesLoose","muiFormControl","useFormControl","hiddenLabel","classes","slots","composeClasses","useUtilityClasses","_jsx","FormControlContext","as","clsx","_jsxs"],"sourceRoot":""}