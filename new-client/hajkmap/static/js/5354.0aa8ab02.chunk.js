"use strict";(self.webpackChunkhajk_client=self.webpackChunkhajk_client||[]).push([[5354],{75354:(e,t,s)=>{s.r(t),s.d(t,{default:()=>r});class r{constructor(e){this.convertMapSettingsUrlToOlSettings=e=>{try{const t=new URLSearchParams(e);let s;return s=t.has("x")&&t.has("y")?[t.get("x"),t.get("y")]:this.map.getView().getCenter(),{center:s,zoom:t.get("z")||this.map.getView().getZoom(),layers:t.get("l"),groupLayers:t.get("gl")||"{}"}}catch(t){return console.error(t),{center:this.map.getView().getCenter(),zoom:this.map.getView().getZoom(),layers:null,groupLayers:"{}"}}},this.bindSubscriptions=()=>{this.localObserver.subscribe("fly-to",(e=>{this.globalObserver.publish("core.minimizeWindow");const t=this.convertMapSettingsUrlToOlSettings(e);null!==t.layers&&this.appModel.setLayerVisibilityFromParams(t.layers,t.groupLayers),this.flyTo(this.map.getView(),t.center,t.zoom)}))},this.appModel=e.appModel,this.localObserver=e.localObserver,this.globalObserver=e.globalObserver,this.map=e.map,this.bindSubscriptions()}flyTo(e,t,s){e.animate({center:t,zoom:s,duration:1500}),this.localObserver.publish("map-animation-complete")}}}}]);
//# sourceMappingURL=5354.0aa8ab02.chunk.js.map