{"version":3,"file":"static/js/7690.2218f53e.chunk.js","mappings":"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","sources":["plugins/DocumentHandler/documentWindow/TableOfContents.js"],"sourcesContent":["import React from \"react\";\nimport { styled } from \"@mui/material/styles\";\nimport ExpandLessIcon from \"@mui/icons-material/ExpandLess\";\nimport ExpandMoreIcon from \"@mui/icons-material/ExpandMore\";\nimport { withTheme } from \"@emotion/react\";\nimport {\n  Grid,\n  List,\n  ListItem,\n  ListItemText,\n  Button,\n  Collapse,\n} from \"@mui/material\";\n\nfunction NestedListItemRaw(props) {\n  return (\n    <ListItem\n      component=\"li\"\n      button\n      size=\"small\"\n      dense\n      onClick={props.onCLick}\n      style={{\n        paddingTop: 0,\n        paddingBottom: 0,\n        paddingLeft: props.theme.spacing(props.level * 3),\n      }}\n    >\n      <ListItemText>{props.children}</ListItemText>\n    </ListItem>\n  );\n}\n\nconst NestedListItem = withTheme(NestedListItemRaw);\n\nconst ListRoot = styled(List)(({ theme }) => ({\n  width: \"100%\",\n  padding: theme.spacing(0),\n}));\n\nconst StyledButton = styled(Button)(({ theme }) => ({\n  paddingLeft: \"0px\",\n  display: \"flex\",\n  justifyContent: \"space-between\",\n  \"&:focus-visible\": {\n    backgroundColor: theme.palette.action.selected,\n  },\n}));\n\nconst GridTableOfContents = styled(Grid)(({ theme }) => ({\n  //Need to manually change color when switching between dark/light-mode\n  backgroundColor:\n    theme.palette.mode === \"dark\"\n      ? theme.palette.grey[700]\n      : theme.palette.grey[200],\n\n  tapHighlightColor: \"transparent\",\n  cursor: \"pointer\",\n  paddingLeft: theme.spacing(2),\n  paddingRight: theme.spacing(2),\n  paddingTop: theme.spacing(1),\n  paddingBottom: theme.spacing(1),\n}));\n\nconst CollapseCollapseContainer = styled(Collapse)(({ theme }) => ({\n  width: \"100%\",\n}));\n\nclass TableOfContents extends React.PureComponent {\n  state = {\n    expanded: this.props.expanded,\n  };\n\n  static defaultProps = {\n    expanded: true,\n    title: \"InnehÃ¥ll\",\n  };\n\n  linkClick = (chapter) => {\n    const { localObserver } = this.props;\n    localObserver.publish(\"scroll-to-chapter\", chapter);\n  };\n  /**\n   * Render all chapters of the activeDocument.\n   * @param {Array} activeDocument An array with all chapters of the activeDocument.\n   *\n   * @memberof TableOfContents\n   */\n  renderChapters = (activeDocument) => {\n    let mainChapter = 0;\n    return (\n      <ListRoot aria-labelledby=\"nested-list-subheader\">\n        {Array.isArray(activeDocument?.chapters)\n          ? activeDocument.chapters.map((chapter) =>\n              this.renderSubChapters(chapter, 0, (++mainChapter).toString())\n            )\n          : null}\n      </ListRoot>\n    );\n  };\n\n  showSubChapter = (level) => {\n    const { chapterLevelsToShow } = this.props;\n    return level < chapterLevelsToShow;\n  };\n\n  /**\n   * Private help method that recursive renders all sub chapters of a chapter.\n   * @param {object} chapter A chapter with all it's sub chapters that will be rendered.\n   * @param {string} level A recursive level that help with the table construction.\n   * @param {number} subChapterNumber A counter of the current sub chapter number\n   *\n   * @memberof TableOfContents\n   */\n  renderSubChapters = (chapter, level, subChapterNumber) => {\n    if (!this.showSubChapter(level)) {\n      return null;\n    }\n    let newLevel = level + 1;\n    let number = 0;\n\n    return (\n      <React.Fragment key={chapter.header}>\n        <NestedListItem\n          chapter={chapter}\n          onCLick={() => {\n            this.linkClick(chapter);\n          }}\n          level={level}\n        >\n          {chapter.header}\n        </NestedListItem>\n        <List disablePadding>\n          {Array.isArray(chapter.chapters)\n            ? chapter.chapters.map((subChapter) =>\n                this.renderSubChapters(\n                  subChapter,\n                  newLevel,\n                  subChapterNumber.concat(\".\" + ++number)\n                )\n              )\n            : null}\n        </List>\n      </React.Fragment>\n    );\n  };\n\n  render() {\n    const { activeDocument, title, expanded, toggleCollapse } = this.props;\n\n    return (\n      <GridTableOfContents container>\n        <StyledButton\n          disableRipple\n          color=\"inherit\"\n          fullWidth\n          endIcon={\n            expanded ? (\n              <ExpandLessIcon></ExpandLessIcon>\n            ) : (\n              <ExpandMoreIcon></ExpandMoreIcon>\n            )\n          }\n          onClick={toggleCollapse}\n        >\n          {title}\n        </StyledButton>\n        <CollapseCollapseContainer\n          in={expanded}\n          id=\"expansion-panel-content\"\n          aria-hidden={!expanded}\n        >\n          <Grid container spacing={0}>\n            {this.renderChapters(activeDocument)}\n          </Grid>\n        </CollapseCollapseContainer>\n      </GridTableOfContents>\n    );\n  }\n}\n\nexport default TableOfContents;\n"],"names":["NestedListItem","withTheme","props","component","button","size","dense","onClick","onCLick","style","paddingTop","paddingBottom","paddingLeft","theme","spacing","level","children","ListRoot","styled","List","width","padding","StyledButton","Button","display","justifyContent","backgroundColor","palette","action","selected","GridTableOfContents","Grid","mode","grey","tapHighlightColor","cursor","paddingRight","CollapseCollapseContainer","Collapse","TableOfContents","React","state","expanded","this","linkClick","chapter","localObserver","publish","renderChapters","activeDocument","mainChapter","Array","isArray","chapters","map","renderSubChapters","toString","showSubChapter","chapterLevelsToShow","subChapterNumber","newLevel","number","header","disablePadding","subChapter","concat","render","title","toggleCollapse","container","disableRipple","color","fullWidth","endIcon","in","id","defaultProps"],"sourceRoot":""}