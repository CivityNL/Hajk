"use strict";(self.webpackChunkhajk_client=self.webpackChunkhajk_client||[]).push([[3190],{3190:(e,t,s)=>{s.r(t);var i=s(72791),r=s(29823),a=s(3746),n=s(20165),h=s(5536),l=s(35527),p=s(61889),o=s(24518),c=s(13400),d=s(20890),v=s(42618),m=s(66934),u=s(15473),g=s(80184);const y=(0,m.ZP)(l.Z)((e=>{let{theme:t}=e;return{marginRight:t.spacing(.5),border:"".concat(t.spacing(.1)," solid ").concat(t.palette.divider)}})),j=(0,m.ZP)(p.ZP)((e=>{let{theme:t}=e;return{padding:t.spacing(1)}})),f=(0,m.ZP)(p.ZP)((e=>{let{theme:t}=e;return{paddingLeft:t.spacing(.5)}})),Z=(0,m.ZP)("div")((e=>{let{theme:t}=e;return{padding:t.spacing(.5)}}));class x extends i.Component{constructor(e){super(e),this.setHidden=e=>{var t=e.target.getOpacity();this.setState({hidden:0===t})},this.setLayerOpacity=e=>t=>{this.setState({hidden:!this.state.hidden},(()=>{e.setOpacity(this.state.hidden?0:1)}))},this.setLayerVisibility=e=>t=>{e.get("visible")&&(e.setOpacity(1),this.props.app.globalObserver.publish("layerswitcher.hideLayer",e)),e.set("visible",!e.get("visible"))},this.openInformative=e=>{this.props.app.windows.find((e=>"informative"===e.type)).props.custom.open(e)},this.handleClose=()=>{this.setState({anchorEl:null,popoverOpen:!1})},this.state={hidden:0===e.layer.getOpacity(),anchorEl:null,popoverOpen:!1},this.chapters=this.findChapters(this.props.layer.get("name"),this.props.chapters)}componentDidMount(){this.props.layer.on("change:opacity",this.setHidden)}componentWillUnmount(){this.props.layer.un("change:opacity",this.setHidden)}isOverflow(e){if(!e)return!1;let t=e.scrollLeft++;return e.scrollLeft-- >t}findChapters(e,t){return t?t.reduce(((t,s)=>(Array.isArray(s.layers)&&(s.layers.some((t=>t===e))&&(t=[...t,s]),s.chapters.length>0&&(t=[...t,...this.findChapters(e,s.chapters)])),t)),[]):[]}renderChapterLinks(){return this.chapters&&this.chapters.length>0&&this.chapters.length>0?(0,g.jsx)(Z,{children:this.chapters.map(((e,t)=>(0,g.jsx)("div",{children:(0,g.jsxs)(o.Z,{size:"small",onClick:()=>{this.setState({popoverOpen:!1}),this.openInformative(e)},children:[e.header,(0,g.jsx)(v.Z,{})]})},t)))}):null}renderChaptersPopover(e){this.setState({anchorEl:e,popoverOpen:!0})}renderInformativeIcon(){return this.props.chapters&&this.chapters&&this.chapters.length>0?(0,g.jsx)(c.Z,{size:"small",onClick:e=>{1===this.chapters.length?this.openInformative(this.chapters[0]):this.renderChaptersPopover(e.target)},children:(0,g.jsx)(h.Z,{})}):null}render(){const{layer:e,title:t,type:s}=this.props,{hidden:i}=this.state;return(0,g.jsxs)(y,{square:"flat"===s,elevation:0,children:[(0,g.jsxs)(j,{container:!0,"data-type":"bread-crumb",justifyContent:"space-between",alignItems:"center",children:[(0,g.jsx)(p.ZP,{item:!0,children:(0,g.jsx)(c.Z,{size:"small",onClick:this.setLayerOpacity(e),"aria-label":"Visa/d\xf6lj lagret tillf\xe4lligt",children:i?(0,g.jsx)(n.Z,{}):(0,g.jsx)(a.Z,{})})}),this.renderInformativeIcon(),(0,g.jsx)(f,{item:!0,children:(0,g.jsx)(d.Z,{variant:"body2",noWrap:!0,children:t})}),(0,g.jsx)(p.ZP,{item:!0,children:(0,g.jsx)(c.Z,{size:"small",onClick:this.setLayerVisibility(e),"aria-label":"Verwijder de laag van de kaart",children:(0,g.jsx)(r.Z,{})})})]}),(0,g.jsx)(u.ZP,{id:"simple-popper",open:this.state.popoverOpen,anchorEl:this.state.anchorEl,onClose:this.handleClose,anchorOrigin:{vertical:"top",horizontal:"center"},transformOrigin:{vertical:"bottom",horizontal:"center"},children:this.renderChapterLinks()})]})}}t.default=x},42618:(e,t,s)=>{var i=s(64836);t.Z=void 0;var r=i(s(45649)),a=s(80184),n=(0,r.default)((0,a.jsx)("path",{d:"M9 5v2h6.59L4 18.59 5.41 20 17 8.41V15h2V5z"}),"CallMade");t.Z=n},3746:(e,t,s)=>{var i=s(64836);t.Z=void 0;var r=i(s(45649)),a=s(80184),n=(0,r.default)((0,a.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"}),"Visibility");t.Z=n}}]);
//# sourceMappingURL=3190.cf1a0f1f.chunk.js.map